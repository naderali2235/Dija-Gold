/*! For license information please see main.3bec520f.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),i=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+n+"?",n,o,s,r].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];r>0&&i(u)?r>1?e(u,r-1,i,o,s):n(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),i=r(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),i=r(9194),o=r(6686);e.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1268:(e,t,r)=>{var n=r(5428),a=r(7574),i=r(6832),o=i&&i.isTypedArray,s=o?a(o):n;e.exports=s},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),i=r(9096);e.exports=function(e,t){var r={};return t=i(t,3),a(e,function(e,a,i){n(r,a,t(e,a,i))}),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),i=r(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),i=r(9140),o=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:i(r);return l<0&&(l=o(s+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),i=r(9096),o=r(8883),s=r(320),l=r(7574),c=r(5893),u=r(3279),d=r(4052);e.exports=function(e,t,r){t=t.length?n(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=n(t,l(i));var f=o(e,function(e,r,a){return{criteria:n(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,r)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var F,R=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var L=!1;function z(e,t){if(!e||L)return"";L=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case k:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){X(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function ie(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Se=null;function ke(e){if(e=xa(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Oe(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function Ee(){}var Ae=!1;function Te(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Pe(e,t,r)}finally{Ae=!1,(null!==Ne||null!==Se)&&(Ee(),Oe())}}function De(e,t){var r=e.stateNode;if(null===r)return null;var n=ja(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var _e=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){_e=!1}function Ie(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Fe=!1,Re=null,Be=!1,Le=null,ze={onError:function(e){Fe=!0,Re=e}};function Ue(e,t,r,n,a,i,o,s,l){Fe=!1,Re=null,Ie.apply(ze,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return qe(a),e;if(o===n)return qe(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,St,kt,Ct=!1,Ot=[],Pt=null,Et=null,At=null,Tt=new Map,Dt=new Map,_t=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ya(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void kt(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=xa(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Lt(e,t,r){Bt(e)&&r.delete(t)}function zt(){Ct=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==Et&&Bt(Et)&&(Et=null),null!==At&&Bt(At)&&(At=null),Tt.forEach(Lt),Dt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var r=1;r<Ot.length;r++){var n=Ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==Et&&Ut(Et,e),null!==At&&Ut(At,e),Tt.forEach(t),Dt.forEach(t),r=0;r<_t.length;r++)(n=_t[r]).blockedOn===e&&(n.blockedOn=null);for(;0<_t.length&&null===(r=_t[0]).blockedOn;)Rt(r),null===r.blockedOn&&_t.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,r,n){var a=xt,i=Wt.transition;Wt.transition=null;try{xt=1,Gt(e,t,r,n)}finally{xt=a,Wt.transition=i}}function Kt(e,t,r,n){var a=xt,i=Wt.transition;Wt.transition=null;try{xt=4,Gt(e,t,r,n)}finally{xt=a,Wt.transition=i}}function Gt(e,t,r,n){if(qt){var a=Yt(e,t,r,n);if(null===a)qn(e,t,n,$t,r),It(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Pt=Ft(Pt,e,t,r,n,a),!0;case"dragenter":return Et=Ft(Et,e,t,r,n,a),!0;case"mouseover":return At=Ft(At,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,Ft(Tt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Dt.set(i,Ft(Dt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&jt(i),null===(i=Yt(e,t,r,n))&&qn(e,t,n,$t,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else qn(e,t,n,null,r)}}var $t=null;function Yt(e,t,r,n){if($t=null,null!==(e=ya(e=je(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Qt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=R({},lr,{view:0,detail:0}),dr=ar(ur),hr=R({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ar(hr),pr=ar(R({},hr,{dataTransfer:0})),mr=ar(R({},ur,{relatedTarget:0})),gr=ar(R({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=R({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(vr),xr=ar(R({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Sr(){return Nr}var kr=R({},ur,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(kr),Or=ar(R({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(R({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Er=ar(R({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=R({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Ar),Dr=[9,13,27,32],_r=u&&"CompositionEvent"in window,Mr=null;u&&"documentMode"in document&&(Mr=document.documentMode);var Ir=u&&"TextEvent"in window&&!Mr,Fr=u&&(!_r||Mr&&8<Mr&&11>=Mr),Rr=String.fromCharCode(32),Br=!1;function Lr(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function qr(e,t,r,n){Ce(n),0<(t=Kn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Kr=null;function Gr(e){Bn(e,0)}function $r(e){if(G(ba(e)))return e}function Yr(e,t){if("change"===e)return t}var Jr=!1;if(u){var Xr;if(u){var Qr="oninput"in document;if(!Qr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Qr="function"===typeof Zr.oninput}Xr=Qr}else Xr=!1;Jr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Kr=Hr=null)}function tn(e){if("value"===e.propertyName&&$r(Kr)){var t=[];qr(t,Kr,e,je(e)),Te(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Kr)}function an(e,t){if("click"===e)return $r(t)}function on(e,t){if("input"===e||"change"===e)return $r(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var o=un(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,xn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;xn||null==gn||gn!==$(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Kn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},Sn={};function kn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return Nn[e]=r[t];return e}u&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Cn=kn("animationend"),On=kn("animationiteration"),Pn=kn("animationstart"),En=kn("transitionend"),An=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){An.set(e,t),l(t,[e])}for(var _n=0;_n<Tn.length;_n++){var Mn=Tn[_n];Dn(Mn.toLowerCase(),"on"+(Mn[0].toUpperCase()+Mn.slice(1)))}Dn(Cn,"onAnimationEnd"),Dn(On,"onAnimationIteration"),Dn(Pn,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var u=Re;Fe=!1,Re=null,Be||(Be=!0,Le=u)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Rn(a,s,c),i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Rn(a,s,c),i=l}}}if(Be)throw e=Le,Be=!1,Le=null,e}function Ln(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function zn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Un]){e[Un]=!0,o.forEach(function(t){"selectionchange"!==t&&(Fn.has(t)||zn(t,!1,e),zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,zn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Jt(t)){case 1:var a=Ht;break;case 4:a=Kt;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){n=i=o;continue e}s=s.parentNode}}n=n.return}Te(function(){var n=i,a=je(r),o=[];e:{var s=An.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Cn:case On:case Pn:l=gr;break;case En:l=Er;break;case"scroll":l=dr;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Or}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Hn(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Or,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ba(l),f=null==c?s:ba(c),(s=new u(m,p+"leave",l,r,a)).target=d,s.relatedTarget=f,m=null,ya(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gn(f))p++;for(f=0,m=h;m;m=Gn(m))f++;for(;0<p-f;)u=Gn(u),p--;for(;0<f-p;)h=Gn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gn(u),h=Gn(h)}u=null}else u=null;null!==l&&$n(o,s,l,u,!1),null!==c&&null!==d&&$n(o,d,c,u,!0)}if("select"===(l=(s=n?ba(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yr;else if(Wr(s))if(Jr)g=on;else{g=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=an);switch(g&&(g=g(e,n))?qr(o,g,r,a):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?ba(n):window,e){case"focusin":(Wr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,bn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(o,r,a)}var y;if(_r)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ur?Lr(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(Fr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ur&&(y=er()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,Ur=!0)),0<(v=Kn(n,x)).length&&(x=new xr(x,e,null,r,a),o.push({event:x,listeners:v}),y?x.data=y:null!==(y=zr(r))&&(x.data=y))),(y=Ir?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Br=!0,Rr);case"textInput":return(e=t.data)===Rr&&Br?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!_r&&Lr(e,t)?(e=er(),Zt=Qt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(a=new xr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Bn(o,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=De(e,r))&&n.unshift(Hn(e,i,a)),null!=(i=De(e,t))&&n.push(Hn(e,i,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $n(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=De(r,i))&&o.unshift(Hn(r,l,s)):a||null!=(l=De(r,i))&&o.push(Hn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Jn,"")}function Qn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(i(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[ha])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ja(e){return e[fa]||null}var wa=[],Na=-1;function Sa(e){return{current:e}}function ka(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function Ca(e,t){Na++,wa[Na]=e.current,e.current=t}var Oa={},Pa=Sa(Oa),Ea=Sa(!1),Aa=Oa;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _a(){ka(Ea),ka(Pa)}function Ma(e,t,r){if(Pa.current!==Oa)throw Error(i(168));Ca(Pa,t),Ca(Ea,r)}function Ia(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return R({},r,n)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Aa=Pa.current,Ca(Pa,e),Ca(Ea,Ea.current),!0}function Ra(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Ia(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,ka(Ea),ka(Pa),Ca(Pa,e)):ka(Ea),Ca(Ea,r)}var Ba=null,La=!1,za=!1;function Ua(e){null===Ba?Ba=[e]:Ba.push(e)}function Va(){if(!za&&null!==Ba){za=!0;var e=0,t=xt;try{var r=Ba;for(xt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ba=null,La=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ge(Ze,Va),a}finally{xt=t,za=!1}}return null}var Wa=[],qa=0,Ha=null,Ka=0,Ga=[],$a=0,Ya=null,Ja=1,Xa="";function Qa(e,t){Wa[qa++]=Ka,Wa[qa++]=Ha,Ha=e,Ka=t}function Za(e,t,r){Ga[$a++]=Ja,Ga[$a++]=Xa,Ga[$a++]=Ya,Ya=e;var n=Ja;e=Xa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ja=1<<32-ot(t)+a|r<<a|n,Xa=i+e}else Ja=1<<i|r<<a|n,Xa=e}function ei(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ti(e){for(;e===Ha;)Ha=Wa[--qa],Wa[qa]=null,Ka=Wa[--qa],Wa[qa]=null;for(;e===Ya;)Ya=Ga[--$a],Ga[$a]=null,Xa=Ga[--$a],Ga[$a]=null,Ja=Ga[--$a],Ga[$a]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ca(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===N?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&yi(i)===t.type)?((n=a(t,r.props)).ref=gi(e,t,r),n.return=e,n):((n=Mc(r.type,r.key,r.props,null,e.mode,n)).ref=gi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Bc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Mc(t.type,t.key,t.props,null,e.mode,r)).ref=gi(e,null,t),r.return=e,r;case w:return(t=Bc(t,e.mode,r)).return=e,t;case D:return h(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;vi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case w:return r.key===a?u(e,t,r,n):null;case D:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||I(r))return null!==a?null:d(e,t,r,n,null);vi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case D:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||I(n))return d(t,e=e.get(r)||null,n,a,null);vi(t,n)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(a,d),ai&&Qa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Qa(a,m),c}for(d=n(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Qa(a,m),c}function g(a,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(a,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return r(a,m),ai&&Qa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return ai&&Qa(a,g),u}for(m=n(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&Qa(a,g),u}return function e(n,i,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case j:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){r(n,u.sibling),(i=a(u,o.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&yi(c)===u.type){r(n,u.sibling),(i=a(u,o.props)).ref=gi(n,u,o),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===N?((i=Ic(o.props.children,n.mode,l,o.key)).return=n,n=i):((l=Mc(o.type,o.key,o.props,null,n.mode,l)).ref=gi(n,i,o),l.return=n,n=l)}return s(n);case w:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Bc(o,n.mode,l)).return=n,n=i}return s(n);case D:return e(n,i,(u=o._init)(o._payload),l)}if(te(o))return m(n,i,o,l);if(I(o))return g(n,i,o,l);vi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Rc(o,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var bi=xi(!0),ji=xi(!1),wi=Sa(null),Ni=null,Si=null,ki=null;function Ci(){ki=Si=Ni=null}function Oi(e){var t=wi.current;ka(wi),e._currentValue=t}function Pi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){Ni=e,ki=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ni)throw Error(i(308));Si=e,Ni.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ti=null;function Di(e){null===Ti?Ti=[e]:Ti.push(e)}function _i(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Di(t)):(r.next=a.next,a.next=r),t.interleaved=r,Mi(e,n)}function Mi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ii=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Li(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Mi(e,r)}return null===(a=n.interleaved)?(t.next=t,Di(n)):(t.next=a.next,a.next=t),n.interleaved=t,Mi(e,r)}function zi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ui(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vi(e,t,r,n){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=R({},d,h);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=d}}function Wi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var qi={},Hi=Sa(qi),Ki=Sa(qi),Gi=Sa(qi);function $i(e){if(e===qi)throw Error(i(174));return e}function Yi(e,t){switch(Ca(Gi,t),Ca(Ki,e),Ca(Hi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Hi),Ca(Hi,t)}function Ji(){ka(Hi),ka(Ki),ka(Gi)}function Xi(e){$i(Gi.current);var t=$i(Hi.current),r=le(t,e.type);t!==r&&(Ca(Ki,e),Ca(Hi,r))}function Qi(e){Ki.current===e&&(ka(Hi),ka(Ki))}var Zi=Sa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function go(e,t,r,n,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:es,e=r(n,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,no.current=ts,e=r(n,a)}while(uo)}if(no.current=Qo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=xo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=so,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,oo.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(xs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Fl|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=xo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function No(){}function So(e,t){var r=oo,n=xo(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,xs=!0),n=n.queue,Fo(Oo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,To(9,Co.bind(null,r,n,a,t),void 0,null),null===El)throw Error(i(349));0!==(30&io)||ko(r,t,a)}return a}function ko(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Co(e,t,r,n){t.value=r,t.getSnapshot=n,Po(t)&&Eo(e)}function Oo(e,t,r){return r(function(){Po(t)&&Eo(e)})}function Po(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Eo(e){var t=Mi(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Do(){return xo().memoizedState}function _o(e,t,r,n){var a=yo();oo.flags|=e,a.memoizedState=To(1|t,r,void 0,void 0===n?null:n)}function Mo(e,t,r,n){var a=xo();n=void 0===n?null:n;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==n&&mo(n,o.deps))return void(a.memoizedState=To(t,r,i,n))}oo.flags|=e,a.memoizedState=To(1|t,r,i,n)}function Io(e,t){return _o(8390656,8,e,t)}function Fo(e,t){return Mo(2048,8,e,t)}function Ro(e,t){return Mo(4,2,e,t)}function Bo(e,t){return Mo(4,4,e,t)}function Lo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mo(4,4,Lo.bind(null,t,e),r)}function Uo(){}function Vo(e,t){var r=xo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wo(e,t){var r=xo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qo(e,t,r){return 0===(21&io)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),oo.lanes|=r,Fl|=r,e.baseState=!0),t)}function Ho(e,t){var r=xt;xt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=r,ao.transition=n}}function Ko(){return xo().memoizedState}function Go(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yo(e))Jo(t,r);else if(null!==(r=_i(e,t,r,n))){rc(r,e,n,ec()),Xo(r,t,n)}}function $o(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Jo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(a.next=a,Di(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=_i(e,t,a,n))&&(rc(r,e,n,a=ec()),Xo(r,t,n))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Qo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,_o(4194308,4,Lo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var r=yo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Go.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=yo();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===El)throw Error(i(349));0!==(30&io)||ko(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Io(Oo.bind(null,n,o,e),[e]),n.flags|=2048,To(9,Co.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yo(),t=El.identifierPrefix;if(ai){var r=Xa;t=":"+t+"R"+(r=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Vo,useContext:Ai,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Ro,useLayoutEffect:Bo,useMemo:Wo,useReducer:jo,useRef:Do,useState:function(){return jo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return qo(xo(),so.memoizedState,e)},useTransition:function(){return[jo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Vo,useContext:Ai,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Ro,useLayoutEffect:Bo,useMemo:Wo,useReducer:wo,useRef:Do,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Bi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Li(e,i,a))&&(rc(t,e,a,n),zi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Bi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Li(e,i,a))&&(rc(t,e,a,n),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Bi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Li(e,a,n))&&(rc(t,e,n,r),zi(t,e,n))}};function is(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function os(e,t,r){var n=!1,a=Oa,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Da(t)?Aa:Pa.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Oa),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Da(t)?Aa:Pa.current,a.context=Ta(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ns(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Bi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ql||(ql=!0,Hl=n),ds(0,t)},r}function ps(e,t,r){(r=Bi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Bi(-1,1)).tag=2,Li(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ys=b.ReactCurrentOwner,xs=!1;function bs(e,t,r,n){t.child=null===e?ji(t,null,r,n):bi(t,e.child,r,n)}function js(e,t,r,n,a){r=r.render;var i=t.ref;return Ei(t,a),n=go(e,t,r,n,i,a),r=vo(),null===e||xs?(ai&&r&&ei(t),t.flags|=1,bs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function ws(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Mc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ns(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return qs(e,t,a)}return t.flags|=1,(e=_c(i,n)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(xs=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,qs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,r,n,a)}function Ss(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(_l,Dl),Dl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(_l,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Ca(_l,Dl),Dl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ca(_l,Dl),Dl|=n;return bs(e,t,a,r),t.child}function ks(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,r,n,a){var i=Da(r)?Aa:Pa.current;return i=Ta(t,i),Ei(t,a),r=go(e,t,r,n,i,a),n=vo(),null===e||xs?(ai&&n&&ei(t),t.flags|=1,bs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function Os(e,t,r,n,a){if(Da(r)){var i=!0;Fa(t)}else i=!1;if(Ei(t,a),null===t.stateNode)Ws(e,t),os(t,r,n),ls(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ta(t,c=Da(r)?Aa:Pa.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,o,n,c),Ii=!1;var h=t.memoizedState;o.state=h,Vi(t,n,o,a),l=t.memoizedState,s!==n||h!==l||Ea.current||Ii?("function"===typeof u&&(ns(t,r,u,n),l=t.memoizedState),(s=Ii||is(t,r,s,n,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ri(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ai(l):l=Ta(t,l=Da(r)?Aa:Pa.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,n,l),Ii=!1,h=t.memoizedState,o.state=h,Vi(t,n,o,a);var p=t.memoizedState;s!==d||h!==p||Ea.current||Ii?("function"===typeof f&&(ns(t,r,f,n),p=t.memoizedState),(c=Ii||is(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ps(e,t,r,n,i,a)}function Ps(e,t,r,n,a,i){ks(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Ra(t,r,!1),qs(e,t,i);n=t.stateNode,ys.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,s,i)):bs(e,t,s,i),t.memoizedState=n.state,a&&Ra(t,r,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),Yi(e,t.containerInfo)}function As(e,t,r,n,a){return fi(),pi(a),t.flags|=256,bs(e,t,r,n),t.child}var Ts,Ds,_s,Ms,Is={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,r){var n,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,a,0,null),e=Ic(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(r),t.memoizedState=Is,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,n=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Fc({mode:"visible",children:n.children},a,0,null),(o=Ic(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&bi(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Is,o);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Ls(e,t,s,n=us(o=Error(i(419)),n,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(n=El)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Mi(e,a),rc(n,e,a,-1))}return mc(),Ls(e,t,s,n=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Ga[$a++]=Ja,Ga[$a++]=Xa,Ga[$a++]=Ya,Ja=e.id,Xa=e.overflow,Ya=t),t=Bs(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(s){s=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=_c(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=_c(n,s):(s=Ic(s,l,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Is,a}return e=(s=e.child).sibling,a=_c(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,r,n){return null!==n&&pi(n),bi(t,e.child,null,r),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Pi(e.return,t,r)}function Us(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Vs(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(bs(e,t,n.children,r),0!==(2&(n=Zi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,r,t);else if(19===e.tag)zs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Zi,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Us(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Us(t,!0,r,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=_c(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=_c(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gs(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Da(t.type)&&_a(),Ks(t),null;case 3:return n=t.stateNode,Ji(),ka(Ea),ka(Pa),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ds(e,t),Ks(t),null;case 5:Qi(t);var a=$i(Gi.current);if(r=t.type,null!==e&&null!=t.stateNode)_s(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=$i(Hi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ha]=t,n[fa]=o,e=0!==(1&t.mode),r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(a=0;a<In.length;a++)Ln(In[a],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":J(n,o),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",n);break;case"textarea":ae(n,o),Ln("invalid",n)}for(var l in ye(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ln("scroll",n)}switch(r){case"input":K(n),Z(n,o,!0);break;case"textarea":K(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),a=n;break;case"iframe":case"object":case"embed":Ln("load",e),a=n;break;case"video":case"audio":for(a=0;a<In.length;a++)Ln(In[a],e);a=n;break;case"source":Ln("error",e),a=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),a=n;break;case"details":Ln("toggle",e),a=n;break;case"input":J(e,n),a=Y(e,n),Ln("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Ln("invalid",e)}for(o in ye(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ln("scroll",e):null!=u&&x(e,o,u,l))}switch(r){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=$i(Gi.current),$i(Hi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Qn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Ks(t),null;case 13:if(ka(Zi),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Ji(),Ds(e,t),null===e&&Vn(t.stateNode.containerInfo),Ks(t),null;case 10:return Oi(t.type._context),Ks(t),null;case 19:if(ka(Zi),null===(o=t.memoizedState))return Ks(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Hs(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=Zi.current,Ca(Zi,n?1&r|2:1&r),t):(Ks(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ti(t),t.tag){case 1:return Da(t.type)&&_a(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),ka(Ea),ka(Pa),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(ka(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Zi),null;case 4:return Ji(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ds=function(){},_s=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,$i(Hi.current);var i,o=null;switch(r){case"input":a=Y(e,a),n=Y(e,n),o=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ln("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Sc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Js||Zs(r,t);case 6:var n=ul,a=dl;ul=null,hl(e,t,r),dl=a,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Vt(e)):la(ul,r.stateNode));break;case 4:n=ul,a=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(r,t,o),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Js&&(Zs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Sc(r,t,s)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Js=(n=Js)||null!==r.memoizedState,hl(e,t,r),Js=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xs),t.forEach(function(t){var n=Pc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Sc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Js=(u=Js)||d,ml(t,e),Js=u):ml(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(n,r,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==p?(p.return=f,Qs=p):jl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Qs=e,xl(e,t,r)}function xl(e,t,r){for(var n=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=o,(Js=l)&&!c)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?wl(a):null!==l?(l.return=o,Qs=l):wl(a);for(;null!==i;)Qs=i,xl(i,t,r),i=i.sibling;Qs=a,Ys=s,Js=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Js)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Wi(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Js||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qs=r;break}Qs=t.return}}function jl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qs=r;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Sc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Sc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Ol=b.ReactCurrentBatchConfig,Pl=0,El=null,Al=null,Tl=0,Dl=0,_l=Sa(0),Ml=0,Il=null,Fl=0,Rl=0,Bl=0,Ll=null,zl=null,Ul=0,Vl=1/0,Wl=null,ql=!1,Hl=null,Kl=null,Gl=!1,$l=null,Yl=0,Jl=0,Xl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Pl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Tl?Tl&-Tl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Xl=null,Error(i(185));vt(e,r,n),0!==(2&Pl)&&e===El||(e===El&&(0===(2&Pl)&&(Rl|=r),4===Ml&&sc(e,Tl)),nc(e,n),1===r&&0===Pl&&0===(1&t.mode)&&(Vl=Xe()+500,La&&Va()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=ht(e,e===El?Tl:0);if(0===n)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){La=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&Pl)&&Va()}),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Ql=-1,Zl=0,0!==(6&Pl))throw Error(i(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===El?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Pl;Pl|=2;var o=pc();for(El===e&&Tl===t||(Wl=null,Vl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ci(),kl.current=o,Pl=a,null!==Al?t=0:(El=null,Tl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Il,hc(e,0),sc(e,n),nc(e,Xe()),r;if(6===t)sc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(o=pt(e))&&(n=o,t=ic(e,o))),1===t))throw r=Il,hc(e,0),sc(e,n),nc(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:jc(e,zl,Wl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(jc.bind(null,e,zl,Wl),t);break}jc(e,zl,Wl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=na(jc.bind(null,e,zl,Wl),n);break}jc(e,zl,Wl);break;default:throw Error(i(329))}}}return nc(e,Xe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=Ll;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=r,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Bl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Pl))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Il,hc(e,0),sc(e,t),nc(e,Xe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,zl,Wl),nc(e,Xe()),null}function cc(e,t){var r=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=r)&&(Vl=Xe()+500,La&&Va())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var r=Ol.transition,n=xt;try{if(Ol.transition=null,xt=1,e)return e()}finally{xt=n,Ol.transition=r,0===(6&(Pl=t))&&Va()}}function dc(){Dl=_l.current,ka(_l)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Al)for(r=Al.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&_a();break;case 3:Ji(),ka(Ea),ka(Pa),ro();break;case 5:Qi(n);break;case 4:Ji();break;case 13:case 19:ka(Zi);break;case 10:Oi(n.type._context);break;case 22:case 23:dc()}r=r.return}if(El=e,Al=e=_c(e.current,null),Tl=Dl=t,Ml=0,Il=null,Bl=Rl=Fl=0,zl=Ll=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(n=(r=Ti[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Ti=null}return e}function fc(e,t){for(;;){var r=Al;try{if(Ci(),no.current=Qo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,Cl.current=null,null===r||null===r.return){Ml=1,Il=t,Al=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Ml&&(Ml=2),null===Ll?Ll=[o]:Ll.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,fs(0,c,t));break e;case 1:l=c;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}bc(r)}catch(b){t=b,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function pc(){var e=kl.current;return kl.current=Qo,null===e?Qo:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===El||0===(268435455&Fl)&&0===(268435455&Rl)||sc(El,Tl)}function gc(e,t){var r=Pl;Pl|=2;var n=pc();for(El===e&&Tl===t||(Wl=null,hc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(Ci(),Pl=r,kl.current=n,null!==Al)throw Error(i(261));return El=null,Tl=0,Ml}function vc(){for(;null!==Al;)xc(Al)}function yc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var t=Nl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Cl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Gs(r,t,Dl)))return void(Al=r)}else{if(null!==(r=$s(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function jc(e,t,r){var n=xt,a=Ol.transition;try{Ol.transition=null,xt=1,function(e,t,r,n){do{wc()}while(null!==$l);if(0!==(6&Pl))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===El&&(Al=El=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Gl||(Gl=!0,Ec(tt,function(){return wc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Ol.transition,Ol.transition=null;var s=xt;xt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ea=qt,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(j){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=s),f===o&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:rs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ta),qt=!!ea,ta=ea=null,e.current=r,yl(r,e,a),Je(),Pl=l,xt=s,Ol.transition=o}else e.current=r;if(Gl&&(Gl=!1,$l=e,Yl=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Va()}(e,t,r,n)}finally{Ol.transition=a,xt=n}return null}function wc(){if(null!==$l){var e=bt(Yl),t=Ol.transition,r=xt;try{if(Ol.transition=null,xt=16>e?16:e,null===$l)var n=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Pl))throw Error(i(331));var a=Pl;for(Pl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(il(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Sc(l,l.return,w)}if(l===s){Qs=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Qs=j;break e}Qs=l.return}}if(Pl=a,Va(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{xt=r,Ol.transition=t}}return!1}function Nc(e,t,r){e=Li(e,t=fs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Sc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Kl||!Kl.has(n))){t=Li(t,e=ps(t,e=cs(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Tl&r)===r&&(4===Ml||3===Ml&&(130023424&Tl)===Tl&&500>Xe()-Ul?hc(e,0):Bl|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Mi(e,t))&&(vt(e,t,r),nc(e,r))}function Oc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Pc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Cc(e,r)}function Ec(e,t){return Ge(e,t)}function Ac(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Ac(e,t,r,n)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mc(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Ic(r.children,a,o,t);case S:s=8,a|=8;break;case k:return(e=Tc(12,r,t,2|a)).elementType=k,e.lanes=o,e;case E:return(e=Tc(13,r,t,a)).elementType=E,e.lanes=o,e;case A:return(e=Tc(19,r,t,a)).elementType=A,e.lanes=o,e;case _:return Fc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case O:s=9;break e;case P:s=11;break e;case T:s=14;break e;case D:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Ic(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Fc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=_,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Bc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,n,a,i,o,s,l){return e=new Lc(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Uc(e){if(!e)return Oa;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Da(r))return Ia(e,r,t)}return t}function Vc(e,t,r,n,a,i,o,s,l){return(e=zc(r,n,!0,e,0,i,0,s,l)).context=Uc(null),r=e.current,(i=Bi(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Li(r,i,a),e.current.lanes=a,vt(e,a,n),nc(e,n),e}function Wc(e,t,r,n){var a=t.current,i=ec(),o=tc(a);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Bi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Li(a,t,o))&&(rc(e,a,o,i),zi(e,a,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)xs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return xs=!1,function(e,t,r){switch(t.tag){case 3:Es(t),fi();break;case 5:Xi(t);break;case 1:Da(t.type)&&Fa(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(wi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Zi,1&Zi.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Rs(e,t,r):(Ca(Zi,1&Zi.current),null!==(e=qs(e,t,r))?e.sibling:null);Ca(Zi,1&Zi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Vs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zi,Zi.current),n)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,r)}return qs(e,t,r)}(e,t,r);xs=0!==(131072&e.flags)}else xs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ws(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);Ei(t,r),a=go(null,t,n,e,a,r);var o=vo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(n)?(o=!0,Fa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fi(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,n,e,r),t=Ps(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),bs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(n),e=rs(n,e),a){case 0:t=Cs(null,t,n,e,r);break e;case 1:t=Os(null,t,n,e,r);break e;case 11:t=js(null,t,n,e,r);break e;case 14:t=ws(null,t,n,rs(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Cs(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 1:return n=t.type,a=t.pendingProps,Os(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 3:e:{if(Es(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ri(e,t),Vi(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,n,r,a=cs(Error(i(423)),t));break e}if(n!==a){t=As(e,t,n,r,a=cs(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=ji(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=qs(e,t,r);break e}bs(e,t,n,r)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Rs(e,t,r);case 4:return Yi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bi(t,null,n,r):bs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,js(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 7:return bs(e,t,t.pendingProps,r),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ca(wi,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Ea.current){t=qs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Bi(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Pi(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Pi(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ei(t,r),n=n(a=Ai(a)),t.flags|=1,bs(e,t,n,r),t.child;case 14:return a=rs(n=t.type,t.pendingProps),ws(e,t,n,a=rs(n.type,a),r);case 15:return Ns(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:rs(n,a),Ws(e,t),t.tag=1,Da(n)?(e=!0,Fa(t)):e=!1,Ei(t,r),os(t,n,a),ls(t,n,a,r),Ps(null,t,n,!0,e,r);case 19:return Vs(e,t,r);case 22:return Ss(e,t,r)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=qc(o);s.call(e)}}Wc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=qc(o);i.call(e)}}var o=Vc(t,n,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pa]=o.current,Vn(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Vn(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,r,n)}),l}(r,t,e,a,n);return qc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_t.length&&0!==t&&t<_t[r].priority;r++);_t.splice(r,0,e),0===r&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Xe()),0===(6&Pl)&&(Vl=Xe()+500,Va()))}break;case 13:uc(function(){var t=Mi(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)rc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Mi(e,t);if(null!==r)rc(r,e,t,ec());Kc(e,t)}},St=function(){return xt},kt=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}},we=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ja(n);if(!a)throw Error(i(90));G(n),Q(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,ja,Ce,Oe,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var r=!1,n="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Vn(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Vc(t,null,e,1,null!=r?r:null,a,0,o,s),e[pa]=t.current,Vn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yc(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(9096);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),i=r(4052),o=r(4543),s=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&a(e),d=!r&&!u&&o(e),h=!r&&!u&&!d&&l(e),f=r||u||d||h,p=f?n(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),i=r(7303);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&a(t,r,o)&&(r=o=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),o=void 0===o?t<r?1:-1:i(o),n(t,r,o,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),i=r(8883),o=r(4052);e.exports=function(e,t){return(o(e)?n:i)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),i=r(8114);e.exports=function(e,t,r,o,s,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(o)var x=c?o(y,v,p,t,e,l):o(v,y,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(v===e||s(v,e,r,o,l)))return g.push(t)})){m=!1;break}}else if(v!==y&&!s(v,y,r,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var i=t[r],o=e[i];t[r]=[i,o,n(o)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),i=r(2597),o=r(914);e.exports=function(e){return i(e)?n(o(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),i=r(801),o=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,u,d,h,f,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=l,n=c;return l=c=void 0,p=t,d=e.apply(n,r)}function x(e){var r=e-f;return void 0===f||r>=t||r<0||g&&e-p>=u}function b(){var e=a();if(x(e))return j(e);h=setTimeout(b,function(e){var r=t-(e-f);return g?s(r,u-(e-p)):r}(e))}function j(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function w(){var e=a(),r=x(e);if(l=arguments,c=this,f=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(b,t),m?y(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(b,t),y(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=i(t)||0,n(r)&&(m=!!r.leading,u=(g="maxWait"in r)?o(i(r.maxWait)||0,t):u,v="trailing"in r?!!r.trailing:v),w.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},w.flush=function(){return void 0===h?d:j(a())},w}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===i?"."+P(l,0):i,j(o)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),E(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",j(e))for(var c=0;c<e.length;c++){var u=i+P(s=e[c],c);l+=E(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,a,u=i+P(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",function(e){return t.call(r,e,a++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},_={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:_,ReactCurrentOwner:N};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),i=r(1558),o=r(8114),s=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(r)h=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,p=new n}else p=t?[]:f;e:for(;++c<d;){var g=e[c],v=t?t(g):g;if(g=r||0!==g?g:0,h&&v===v){for(var y=p.length;y--;)if(p[y]===v)continue e;t&&p.push(v),f.push(g)}else u(p,v,r)||(p!==f&&p.push(v),f.push(g))}return f}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),i=r(2165),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:i;return r&&s(e,t,r)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,function(e,n,a){return r=!!t(e,n,a)}),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),i=r(438),o=r(9394),s=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),i=r(3366),o=r(2597),s=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(r){var o=a(r,e);return void 0===o&&o===t?i(r,e):n(t,o,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),i=r(4079),o=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),i=r(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),i=r(793),o=r(7760),s=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),i=r(6350);e.exports=function(e,t){return i(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,o,s){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(i)var x=l?i(y,v,h,t,e,s):i(v,y,h,e,t,s);if(!(void 0===x?v===y||o(v,y,r,i,s):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=r.length;++a<s;){var c=n(i[a],o[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===i}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),i=r(9987),o=r(5752),s=r(6924),l=r(4052),c=r(4543),u=r(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,v){var y=l(e),x=l(t),b=y?h:s(e),j=x?h:s(t),w=(b=b==d?f:b)==f,N=(j=j==d?f:j)==f,S=b==j;if(S&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(S&&!w)return v||(v=new n),y||u(e)?a(e,t,r,m,g,v):i(e,t,b,r,m,g,v);if(!(1&r)){var k=w&&p.call(e,"__wrapped__"),C=N&&p.call(t,"__wrapped__");if(k||C){var O=k?e.value():e,P=C?t.value():t;return v||(v=new n),g(O,P,r,m,v)}}return!!S&&(v||(v=new n),o(e,t,r,m,g,v))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==a(s[o],o,s););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,i){var o=r.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new n;if(i)var p=i(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,i,f):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e===e,o=n(e),s=void 0!==t,l=null===t,c=t===t,u=n(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!r&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&r&&i&&!a&&!o||l&&r&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),i=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),i=r(6095),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),i=r(5387),o=r(2070),s=r(6600),l=r(6913),c=r(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(n),g=c(a),v=c(i),y=c(o),x=c(s),b=l;(n&&b(new n(new ArrayBuffer(1)))!=p||a&&b(new a)!=u||i&&b(i.resolve())!=d||o&&b(new o)!=h||s&&b(new s)!=f)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case g:return u;case v:return d;case y:return h;case x:return f}return t}),e.exports=b},6954:(e,t,r)=>{var n=r(1629),a=r(7857),i=r(6686),o=r(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?h:s).test(o(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,i,o,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),i=r(9096),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:a;return r&&s(e,t,r)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),i=r(4052),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),i=r(4190),o=r(1946),s=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function j(e){if(g=!1,b(e),!m)if(null!==n(c))m=!0,_(w);else{var t=n(u);null!==t&&M(j,t.startTime-e)}}function w(e,r){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var i=f;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&a(c),b(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&M(j,d.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,k=null,C=-1,O=5,P=-1;function E(){return!(t.unstable_now()-P<O)}function A(){if(null!==k){var e=t.unstable_now();P=e;var r=!0;try{r=k(!0,e)}finally{r?N():(S=!1,k=null)}}else S=!1}if("function"===typeof x)N=function(){x(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,D=T.port2;T.port1.onmessage=A,N=function(){D.postMessage(null)}}else N=function(){v(A,0)};function _(e){k=e,S||(S=!0,N())}function M(e,r){C=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,_(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(y(C),C=-1):g=!0,M(j,i-o))):(e.sortIndex=s,r(c,e),m||p||(m=!0,_(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),i=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,r)=>{var n=r(755),a=r(2536),i=r(5647),o=r(929),s=i(function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),i=r(9115),o=r(1069);e.exports=function(e){return function(t){t=o(t);var r=a(t)?i(t):void 0,s=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),i=r(2074),o=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?P(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?P(t,h):t}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=k(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=k(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return j(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return P(j(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=j(C(r,o),C(e,o),o),s=!0,P(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=j(r,e,0,1).times(e),s=!0,r.minus(t)):P(new n(r),a)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return C(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):E(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=o=(r=u.precision)+3;;)if(n=(i=n).plus(j(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(t=b(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(P(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;o+=4}return s=!0,P(n,r)},v.times=v.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],n=o=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,s?P(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(x(e,0,i),void 0===t?t=n.rounding:x(t,0,8),P(r,e+N(r)+1,t))},v.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=A(n,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),r=A(n=P(new a(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?A(a):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),r=A((n=P(new o(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return P(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return P(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),s=!1;r%2&&T((i=i.times(u)).d,t),0!==(r=d(r/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):P(i,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,i=e.times(C(u,n+12)),s=!0,(i=w(i)).s=o,i},v.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=A(a,(r=N(a))<=o.toExpNeg||r>=o.toExpPos):(x(e,1,i),void 0===t?t=o.rounding:x(t,0,8),n=A(a=P(new o(a),e,t),e<=(r=N(a))||r<=o.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(x(e,1,i),void 0===t?t=r.rounding:x(t,0,8)),P(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),r=e.constructor;return A(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,c,u,d,h,f,m,g,v,y,x,b,j,w,S,k,C,O,E=n.constructor,A=n.s==a.s?1:-1,T=n.d,D=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,C=D.length,S=T.length,g=(m=new E(A)).d=[],u=0;D[u]==(T[u]||0);)++u;if(D[u]>(T[u]||0)&&--c,(b=null==i?i=E.precision:o?i+(N(n)-N(a))+1:i)<0)return new E(0);if(b=b/7+2|0,u=0,1==C)for(d=0,D=D[0],b++;(u<S||d)&&b--;u++)j=d*p+(T[u]||0),g[u]=j/D|0,d=j%D|0;else{for((d=p/(D[0]+1)|0)>1&&(D=e(D,d),T=e(T,d),C=D.length,S=T.length),w=C,y=(v=T.slice(0,C)).length;y<C;)v[y++]=0;(O=D.slice()).unshift(0),k=D[0],D[1]>=p/2&&++k;do{d=0,(s=t(D,v,C,y))<0?(x=v[0],C!=y&&(x=x*p+(v[1]||0)),(d=x/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(D,d),v,f=h.length,y=v.length))&&(d--,r(h,C<f?O:D,f))):(0==d&&(s=d=1),h=D.slice()),(f=h.length)<y&&h.unshift(0),r(v,h,y),-1==s&&(s=t(D,v,C,y=v.length))<1&&(d++,r(v,C<y?O:D,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=T[w]||0:(v=[T[w]],y=1)}while((w++<S||void 0!==v[0])&&b--)}return g[0]||g.shift(),m.e=c,P(m,o?i+N(m)+1:i)}}();function w(e,t){var r,n,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=P(n.times(e),l),r=r.times(++c),b((o=i.plus(j(n,r,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=P(i.times(i),l);return f.precision=p,null==t?(s=!0,P(i,p)):i}i=o}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function S(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function C(e,t){var r,n,i,o,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),S(v,h);if(h+=10,v.precision=h,n=(r=b(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=S(v,h+2,y).times(o+""),m=C(new v(n+"."+r.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,P(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),n>1?(m=new v("0."+r),o++):m=new v(n+"."+r.slice(1)),u=c=m=j(m.minus(a),m.plus(a),h),f=P(m.times(m),h),i=3;;){if(c=P(c.times(f),h),b((d=u.plus(j(c,new v(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(v,h+2,y).times(o+""))),u=j(u,new v(p),h),v.precision=y,null==t?(s=!0,P(u,y)):u;u=d,i+=2}}function O(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,r){var n,a,i,o,l,c,f,m,v=e.d;for(o=1,i=v[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,f=v[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=v.length))return e;for(f=i=v[m],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,o-a):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(i=N(e),v.length=1,t=t-i-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=m,i=1,m--):(v.length=m+1,i=h(10,7-n),v[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==p&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=p)break;v[m--]=0,i=1}for(n=v.length;0===v[--n];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function E(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?P(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?P(t,m):t):new f(0)}function A(e,t,r){var n,a=N(e),i=b(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+k(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+k(-a-1)+i,r&&(n=r-o)>0&&(i+=k(n))):a>=o?(i+=k(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+k(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=k(n))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=D,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),i=r(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=o},8468:(e,t,r)=>{var n=r(5816),a=r(644),i=r(4020);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),i=r(4052),o=r(9841),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),i=r(6571);e.exports=function(e){return i(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),i=r(2154),o=r(8734),s=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,i=a(e)?Array(e.length):[];return n(e,function(e,n,a){i[++r]=t(e,n,a)}),i}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),i=r(6704);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),i=r(4052),o=r(9194),s=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(i(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),i=r(3279),o=r(4052),s=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):n(e):s(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),i=r(715);e.exports=function(e){return a(e)?i(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),i=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),i=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),i=r(8673);e.exports=function(e){return n(e,i,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,i){for(var o=-1,s=r(t((n-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!n(s):r(s,l)))var l=s,c=o}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),i=r(3211),o=r(3668),s=r(4160),l=r(2074),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var g=o(f(e),f(t),n,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),i=r(8673);e.exports=function(e){return function(t,r,o){var s=Object(t);if(!a(t)){var l=n(r,3);t=i(t),r=function(e){return l(s[e],e,s)}}var c=e(t,r,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,r.d(i,o),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>WN,scaleDiverging:()=>bE,scaleDivergingLog:()=>jE,scaleDivergingPow:()=>NE,scaleDivergingSqrt:()=>SE,scaleDivergingSymlog:()=>wE,scaleIdentity:()=>pC,scaleImplicit:()=>UN,scaleLinear:()=>fC,scaleLog:()=>NC,scaleOrdinal:()=>VN,scalePoint:()=>HN,scalePow:()=>DC,scaleQuantile:()=>qC,scaleQuantize:()=>HC,scaleRadial:()=>IC,scaleSequential:()=>fE,scaleSequentialLog:()=>pE,scaleSequentialPow:()=>gE,scaleSequentialQuantile:()=>yE,scaleSequentialSqrt:()=>vE,scaleSequentialSymlog:()=>mE,scaleSqrt:()=>_C,scaleSymlog:()=>OC,scaleThreshold:()=>KC,scaleTime:()=>cE,scaleUtc:()=>uE,tickFormat:()=>dC});var t=r(5043),n=r.t(t,2),a=r(4391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const u={BASE_URL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://localhost:65149/api",TIMEOUT:3e4,RETRY_ATTEMPTS:3},d={AUTH_TOKEN:"dijagold_token",USER_PREFERENCES:"dijagold_preferences",OFFLINE_DATA:"dijagold_offline"},h=1,f=2,p=3,m=1,g=2,v=3,y=4,x=1,b=2,j=3,w=1;class N{static findById(e,t){return e.find(e=>e.value===t)}static findByName(e,t){return e.find(e=>e.name===t)}static getDisplayName(e,t){const r=this.findById(e,t);return(null===r||void 0===r?void 0:r.displayName)||"Unknown"}static getName(e,t){const r=this.findById(e,t);return(null===r||void 0===r?void 0:r.name)||"Unknown"}static getValue(e,t){const r=this.findByName(e,t);return null===r||void 0===r?void 0:r.value}static lookupToSelectOptions(e){return e.map(e=>{let t=e.name;return e.name.match(/^K\d+$/)&&(t=e.name.replace(/^K(\d+)$/,"$1K")),{value:t,label:e.displayName}})}static lookupToSelectOptionsWithValues(e){return e.map(e=>({value:e.value,label:e.displayName,code:e.name}))}static karatToBackendFormat(e){return e.match(/^\d+K$/)?e.replace(/^(\d+)K$/,"K$1"):e}}new Map([["GoldJewelry",["Ring","Chain","Necklace","Earrings","Bangles","Bracelet","Other"]],["Bullion",["Bullion"]],["Coins",["Coins"]]]),new Map([["Ring","GoldJewelry"],["Chain","GoldJewelry"],["Necklace","GoldJewelry"],["Earrings","GoldJewelry"],["Bangles","GoldJewelry"],["Bracelet","GoldJewelry"],["Other","GoldJewelry"],["Bullion","Bullion"],["Coins","Coins"]]);class S{static getDisplayName(e,t){return N.getDisplayName(e,t)}static getName(e,t){return N.getName(e,t)}static getValue(e,t){return N.getValue(e,t)}static toSelectOptions(e){return N.lookupToSelectOptions(e)}static toSelectOptionsWithValues(e){return N.lookupToSelectOptionsWithValues(e)}static getProductCategoryName(e,t){return this.getDisplayName(t,e)}static getKaratTypeName(e,t){return this.getDisplayName(t,e)}static getChargeTypeName(e,t){return this.getDisplayName(t,e)}static getTransactionTypeName(e,t){return this.getDisplayName(t,e)}static getTransactionStatusName(e,t){return this.getDisplayName(t,e)}static getPaymentMethodName(e,t){return this.getDisplayName(t,e)}static lookupToSelectOptions(e){return N.lookupToSelectOptions(e)}static productCategoryEnumToString(e){switch(e){case x:return"GoldJewelry";case b:return"Bullion";case j:return"Coins";default:return"GoldJewelry"}}static productCategoryStringToEnum(e){switch(e){case"GoldJewelry":default:return x;case"Bullion":return b;case"Coins":return j}}static karatEnumToString(e){switch(e){case m:return"18K";case g:return"21K";case v:return"22K";case y:return"24K";default:return"22K"}}static karatStringToEnum(e){switch(e){case"18K":return m;case"21K":return g;case"22K":default:return v;case"24K":return y}}static paymentMethodEnumToString(e){return"Cash"}static paymentMethodStringToEnum(e){switch(e){case"Cash":default:return w;case"Card":return 2;case"BankTransfer":return 3;case"Cheque":return 4}}}const k=u.BASE_URL;let C=null;const O=e=>{C=e,e?localStorage.setItem(d.AUTH_TOKEN,e):localStorage.removeItem(d.AUTH_TOKEN)},P=()=>(C||(C=localStorage.getItem(d.AUTH_TOKEN)),C),E=async()=>{try{const e=await fetch("".concat(k,"/health"),{method:"GET",headers:{"Content-Type":"application/json"}});return console.log("API health check response:",e.status,e.statusText),e.ok}catch(e){return console.error("API connection test failed:",e),!1}};async function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="".concat(k).concat(e),n=P(),a={"Content-Type":"application/json"};n&&(a.Authorization="Bearer ".concat(n));const i=c(c({},t),{},{headers:c(c({},a),t.headers)});try{const e=await fetch(r,i),t=await e.json();if(!e.ok){if(401===e.status)throw O(null),window.location.href="/login",new Error("Session expired. Please login again.");throw new Error(t.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return t}catch(o){throw console.error("API Error (".concat(e,"):"),o),o}}const T={async login(e){const t=await A("/auth/login",{method:"POST",body:JSON.stringify(e)});if(console.log("Login API response:",t),t.success&&t.data)return console.log("Login successful, user data:",t.data.user),O(t.data.token),t.data;throw new Error(t.message||"Login failed")},async logout(){try{await A("/auth/logout",{method:"POST"})}finally{O(null)}},async getCurrentUser(){const e=await A("/auth/me");if(console.log("getCurrentUser API response:",e),e.success&&e.data)return console.log("User data from API:",e.data),e.data;throw new Error(e.message||"Failed to get user info")},async changePassword(e){const t=await A("/auth/change-password",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to change password")},async refreshToken(){const e=await A("/auth/refresh-token",{method:"POST"});if(console.log("Refresh token API response:",e),e.success&&e.data)return console.log("Token refreshed, user data:",e.data.user),O(e.data.token),e.data;throw new Error(e.message||"Failed to refresh token")},async debugUsers(){const e=await A("/auth/debug/users");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to get debug user information")}},D={async getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/products?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch products")},async getProduct(e){const t=await A("/products/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch product")},async getProductPricing(e){let t=arguments.length>2?arguments[2]:void 0;const r=new URLSearchParams(c({quantity:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1).toString()},t&&{customerId:t.toString()})),n=await A("/products/".concat(e,"/pricing?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch product pricing")},async createProduct(e){const t=await A("/products",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create product")},async updateProduct(e,t){const r=await A("/products/".concat(e),{method:"PUT",body:JSON.stringify(c(c({},t),{},{id:e}))});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to update product")},async deleteProduct(e){const t=await A("/products/".concat(e),{method:"DELETE"});if(!t.success)throw new Error(t.message||"Failed to delete product")}},_={async getGoldRates(){const e=await A("/Pricing/gold-rates");if(e.success&&e.data)return e.data.map(e=>({id:e.id,karatType:e.karatType||e.KaratType,ratePerGram:e.ratePerGram||e.RatePerGram,effectiveFrom:e.effectiveFrom||e.EffectiveFrom,effectiveTo:e.effectiveTo||e.EffectiveTo,isCurrent:void 0!==e.isCurrent?e.isCurrent:e.IsCurrent,createdAt:e.createdAt||e.CreatedAt,createdBy:e.createdBy||e.CreatedBy}));throw new Error(e.message||"Failed to fetch gold rates")},async updateGoldRates(e){const t=await A("/Pricing/gold-rates",{method:"POST",body:JSON.stringify({goldRates:e})});if(!t.success)throw new Error(t.message||"Failed to update gold rates")},async getMakingCharges(){const e=await A("/Pricing/making-charges");if(e.success&&e.data)return e.data.map(e=>({id:e.id,name:e.name||e.Name,productCategory:e.productCategory||e.ProductCategory,subCategory:e.subCategory||e.SubCategory,chargeType:e.chargeType||e.ChargeType,chargeValue:e.chargeValue||e.ChargeValue,effectiveFrom:e.effectiveFrom||e.EffectiveFrom,effectiveTo:e.effectiveTo||e.EffectiveTo,isCurrent:void 0!==e.isCurrent?e.isCurrent:e.IsCurrent,createdAt:e.createdAt||e.CreatedAt,createdBy:e.createdBy||e.CreatedBy}));throw new Error(e.message||"Failed to fetch making charges")},async updateMakingCharges(e){const t=await A("/Pricing/making-charges",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to update making charges")},async getTaxConfigurations(){const e=await A("/Pricing/taxes");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch tax configurations")},async updateTaxConfiguration(e){const t={id:e.id,taxName:e.taxName,taxCode:e.taxCode,taxType:e.taxType,taxRate:e.taxRate,isMandatory:e.isMandatory,effectiveFrom:e.effectiveFrom,displayOrder:e.displayOrder},r=await A("/Pricing/taxes",{method:"POST",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to update tax configuration")}},M={async getUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/users?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch users")},async getUser(e){const t=await A("/users/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch user")},async createUser(e){const t=await A("/users",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create user")},async updateUser(e,t){const r=await A("/users/".concat(e),{method:"PUT",body:JSON.stringify(c(c({},t),{},{id:e}))});if(!r.success)throw new Error(r.message||"Failed to update user")},async updateUserRoles(e,t){const r=await A("/users/".concat(e,"/roles"),{method:"PUT",body:JSON.stringify(c(c({},t),{},{userId:e}))});if(!r.success)throw new Error(r.message||"Failed to update user roles")},async updateUserStatus(e,t){const r=await A("/users/".concat(e,"/status"),{method:"PUT",body:JSON.stringify(c(c({},t),{},{userId:e}))});if(!r.success)throw new Error(r.message||"Failed to update user status")},async getUserActivity(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/users/".concat(e,"/activity?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch user activity")},async resetPassword(e,t){const r=await A("/users/".concat(e,"/reset-password"),{method:"POST",body:JSON.stringify(c(c({},t),{},{userId:e}))});if(!r.success)throw new Error(r.message||"Failed to reset password")},async getUserPermissions(e){const t=await A("/users/".concat(e,"/permissions"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch user permissions")},async updateUserPermissions(e,t){const r=await A("/users/".concat(e,"/permissions"),{method:"PUT",body:JSON.stringify(c(c({},t),{},{userId:e}))});if(!r.success)throw new Error(r.message||"Failed to update user permissions")}},I={async getBranches(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/branches?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch branches")},async getBranch(e){const t=await A("/branches/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch branch")},async createBranch(e){const t=await A("/branches",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create branch")},async updateBranch(e,t){const r=await A("/branches/".concat(e),{method:"PUT",body:JSON.stringify(c(c({},t),{},{id:e}))});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to update branch")},async getBranchInventory(e){const t=await A("/branches/".concat(e,"/inventory"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch branch inventory")},async getBranchStaff(e){const t=await A("/branches/".concat(e,"/staff"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch branch staff")},async getBranchPerformance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/branches/".concat(e,"/performance?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch branch performance")},async deleteBranch(e){const t=await A("/branches/".concat(e),{method:"DELETE"});if(!t.success)throw new Error(t.message||"Failed to delete branch")},async getBranchTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/branches/".concat(e,"/transactions?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch branch transactions")}},F={async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/suppliers?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch suppliers")},async getSupplier(e){const t=await A("/suppliers/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch supplier")},async createSupplier(e){const t=await A("/suppliers",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create supplier")},async updateSupplier(e,t){const r=await A("/suppliers/".concat(e),{method:"PUT",body:JSON.stringify(c(c({},t),{},{id:e}))});if(!r.success)throw new Error(r.message||"Failed to update supplier")},async deleteSupplier(e){const t=await A("/suppliers/".concat(e),{method:"DELETE"});if(!t.success)throw new Error(t.message||"Failed to delete supplier")},async getSupplierProducts(e){const t=await A("/suppliers/".concat(e,"/products"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch supplier products")},async getSupplierBalance(e){const t=await A("/suppliers/".concat(e,"/balance"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch supplier balance")},async updateSupplierBalance(e,t){const r=await A("/suppliers/".concat(e,"/balance"),{method:"PUT",body:JSON.stringify(c(c({},t),{},{supplierId:e}))});if(!r.success)throw new Error(r.message||"Failed to update supplier balance")},async getSupplierTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/suppliers/".concat(e,"/transactions?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch supplier transactions")}},R={async getInventory(e,t){const r=await A("/inventory/product/".concat(e,"/branch/").concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch inventory")},async getBranchInventory(e){const t=new URLSearchParams({includeZeroStock:(arguments.length>1&&void 0!==arguments[1]&&arguments[1]).toString()}).toString(),r=await A("/inventory/branch/".concat(e,"?").concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch branch inventory")},async getLowStockItems(e){const t=await A("/inventory/branch/".concat(e,"/low-stock"));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch low stock items")},async checkStockAvailability(e,t,r){const n=new URLSearchParams({productId:e.toString(),branchId:t.toString(),requestedQuantity:r.toString()}).toString(),a=await A("/inventory/check-availability?".concat(n));if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to check stock availability")},async addInventory(e){const t=await A("/inventory/add",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to add inventory")},async adjustInventory(e){const t=await A("/inventory/adjust",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to adjust inventory")},async transferInventory(e){const t=await A("/inventory/transfer",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to transfer inventory")},async getInventoryMovements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/inventory/movements?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch inventory movements")}},B={async openDrawer(e,t,r,n){const a=await A("/CashDrawer/open",{method:"POST",body:JSON.stringify({branchId:e,openingBalance:t,date:r,notes:n})});if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to open cash drawer")},async closeDrawer(e,t,r,n){const a=await A("/CashDrawer/close",{method:"POST",body:JSON.stringify({branchId:e,actualClosingBalance:t,date:r,notes:n})});if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to close cash drawer")},async getBalance(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/CashDrawer/balance?".concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to get cash drawer balance")},async getOpeningBalance(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/CashDrawer/opening-balance?".concat(r));if(n.success&&void 0!==n.data)return n.data;throw new Error(n.message||"Failed to get opening balance")},async isDrawerOpen(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/CashDrawer/is-open?".concat(r));if(n.success&&void 0!==n.data)return n.data;throw new Error(n.message||"Failed to check drawer status")},async getBalances(e,t,r){const n=new URLSearchParams({branchId:e.toString(),fromDate:t,toDate:r}).toString(),a=await A("/CashDrawer/balances?".concat(n));if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to get cash drawer balances")},async settleShift(e,t,r,n,a,i){const o=await A("/CashDrawer/settle-shift",{method:"POST",body:JSON.stringify({branchId:e,actualClosingBalance:t,settledAmount:r,date:n,settlementNotes:a,notes:i})});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to settle shift")},async refreshExpectedClosingBalance(e,t){const r=new URLSearchParams(c({branchId:e.toString()},t&&{date:t})).toString(),n=await A("/CashDrawer/refresh-balance?".concat(r),{method:"POST"});if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to refresh cash drawer balance")}},L={async getDailySalesSummary(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/reports/daily-sales-summary?".concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch daily sales summary")},async getCashReconciliation(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/reports/cash-reconciliation?".concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch cash reconciliation report")},async getInventoryMovementReport(e,t,r){const n=new URLSearchParams({branchId:e.toString(),fromDate:t,toDate:r}).toString(),a=await A("/reports/inventory-movement?".concat(n));if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to fetch inventory movement report")},async getProfitAnalysisReport(e,t,r,n){const a={fromDate:e,toDate:t};r&&(a.branchId=r.toString()),n&&(a.categoryType=n);const i=new URLSearchParams(a).toString(),o=await A("/reports/profit-analysis?".concat(i));if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch profit analysis report")},async getCustomerAnalysisReport(e,t,r){const n={fromDate:e,toDate:t,topCustomersCount:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:20).toString()};r&&(n.branchId=r.toString());const a=new URLSearchParams(n).toString(),i=await A("/reports/customer-analysis?".concat(a));if(i.success&&i.data)return i.data;throw new Error(i.message||"Failed to fetch customer analysis report")},async getSupplierBalanceReport(e){const t=e?new URLSearchParams({asOfDate:e}).toString():"",r=await A("/reports/supplier-balance".concat(t?"?".concat(t):""));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch supplier balance report")},async getInventoryValuationReport(e,t){const r={};e&&(r.branchId=e.toString()),t&&(r.asOfDate=t);const n=Object.keys(r).length>0?new URLSearchParams(r).toString():"",a=await A("/reports/inventory-valuation".concat(n?"?".concat(n):""));if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to fetch inventory valuation report")},async getTaxReport(e,t,r){const n={fromDate:e,toDate:t};r&&(n.branchId=r.toString());const a=new URLSearchParams(n).toString(),i=await A("/reports/tax-report?".concat(a));if(i.success&&i.data)return i.data;throw new Error(i.message||"Failed to fetch tax report")},async getTransactionLogReport(e,t){const r=new URLSearchParams({branchId:e.toString(),date:t}).toString(),n=await A("/reports/transaction-log?".concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch transaction log report")},async getReportTypes(){const e=await A("/reports/types");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch report types")},async exportToExcel(e){const t=await fetch("".concat(k,"/api/reports/export/excel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(P())},body:JSON.stringify(e)});if(!t.ok){let e="HTTP ".concat(t.status,": ").concat(t.statusText);try{const r=await t.json();r.message&&(e=r.message)}catch(n){}throw new Error("Failed to export to Excel: ".concat(e))}const r=await t.blob();if(!r||0===r.size)throw new Error("Server returned empty file");return r},async exportToPdf(e){const t=await fetch("".concat(k,"/api/reports/export/pdf"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(P())},body:JSON.stringify(e)});if(!t.ok){let e="HTTP ".concat(t.status,": ").concat(t.statusText);try{const r=await t.json();r.message&&(e=r.message)}catch(n){}throw new Error("Failed to export to PDF: ".concat(e))}const r=await t.blob();if(!r||0===r.size)throw new Error("Server returned empty file");return r}},z={async createPurchaseOrder(e){const t=await A("/purchaseorders",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create purchase order")},async getPurchaseOrder(e){const t=await A("/purchaseorders/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch purchase order")},async searchPurchaseOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await A("/purchaseorders/search",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return{items:t.data,total:t.data.length};throw new Error(t.message||"Failed to search purchase orders")},async receivePurchaseOrder(e){const t=await A("/purchaseorders/receive",{method:"POST",body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"Failed to receive purchase order")}},U={async generateProductLabelZpl(e){const t=new URLSearchParams({copies:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1).toString()}).toString(),r=await A("/labels/".concat(e,"/zpl?").concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to generate label ZPL")},async printProductLabel(e){const t=new URLSearchParams({copies:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1).toString()}).toString(),r=await A("/labels/".concat(e,"/print?").concat(t),{method:"POST"});if(!r.success)throw new Error(r.message||"Failed to print label")},async decodeQrPayload(e){const t={payload:e},r=await A("/labels/decode-qr",{method:"POST",body:JSON.stringify(t)});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to decode QR payload")}};function V(e){return{id:e.id,orderId:e.orderId,productId:e.productId,productName:e.productName,productCode:e.productCode,karatType:e.karatType||"",quantity:e.quantity,unitWeight:e.weight||0,totalWeight:(e.weight||0)*e.quantity,goldRatePerGram:e.unitPrice/(e.weight||1),unitPrice:e.unitPrice,makingChargesAmount:e.makingCharges,discountPercentage:e.discountPercentage,discountAmount:e.discountAmount,lineTotal:e.totalAmount||e.finalPrice}}function W(e){return e.map(V)}function q(e){var t;return c(c({},e),{},{items:W((null===(t=e.order)||void 0===t?void 0:t.items)||[]),cashierName:e.processedByName,order:e.order?{id:e.order.id,orderNumber:e.order.orderNumber,orderDate:e.order.orderDate,orderType:e.order.orderType,items:W(e.order.items)}:void 0})}function H(e){switch(e){case h:return"Sale";case f:return"Return";case p:return"Repair";default:return"Sale"}}const K={async createSaleOrder(e){const t=await A("/orders/sale",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create sale order")},async createRepairOrder(e){const t=await A("/orders/repair",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create repair order")},async getOrder(e){const t=await A("/orders/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch order")},async searchOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/orders/search?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to search orders")},async getOrderSummary(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/orders/summary?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to get order summary")},async getCustomerOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/orders/customer/".concat(e,"?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to get customer orders")},async getCashierOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/orders/cashier/".concat(e,"?").concat(r));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to get cashier orders")},async updateOrder(e,t){const r=await A("/orders/".concat(e),{method:"PUT",body:JSON.stringify(t)});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to update order")}},G={async getFinancialTransaction(e){const t=await A("/financialtransactions/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch financial transaction")},async searchFinancialTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/financialtransactions/search?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to search financial transactions")},async voidFinancialTransaction(e,t){const r=await A("/financialtransactions/".concat(e,"/void"),{method:"POST",body:JSON.stringify({reason:t})});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to void financial transaction")},async markReceiptPrinted(e){const t=await A("/financialtransactions/".concat(e,"/mark-receipt-printed"),{method:"POST"});if(t.success)return!0;throw new Error(t.message||"Failed to mark receipt as printed")},async generateBrowserReceipt(e){const t=await A("/financialtransactions/generate-browser-receipt",{method:"POST",body:JSON.stringify({transactionId:e,includeHtml:!0,includeCss:!0})});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to generate browser receipt")}};if("undefined"!==typeof window){const e=localStorage.getItem(d.AUTH_TOKEN);e&&O(e)}const $={async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/customers?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch customers")},async getCustomer(e){const t=await A("/customers/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch customer")},async createCustomer(e){const t=await A("/customers",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create customer")},async updateCustomer(e,t){const r=await A("/customers/".concat(e),{method:"PUT",body:JSON.stringify(t)});if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to update customer")}},Y={async getAllLookups(){const e=await A("/lookups");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch lookup data")},async getTransactionTypes(){const e=await A("/lookups/transaction-types");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch transaction types")},async getPaymentMethods(){const e=await A("/lookups/payment-methods");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch payment methods")},async getTransactionStatuses(){const e=await A("/lookups/transaction-statuses");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch transaction statuses")},async getKaratTypes(){const e=await A("/lookups/karat-types");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch karat types")},async getProductCategoryTypes(){const e=await A("/lookups/product-category-types");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch product category types")},async getChargeTypes(){const e=await A("/lookups/charge-types");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch charge types")},async getRepairStatuses(){const e=await A("/lookups/repair-statuses");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch repair statuses")},async getRepairPriorities(){const e=await A("/lookups/repair-priorities");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch repair priorities")},async getTaxConfigurations(){const e=await A("/pricing/taxes");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch tax configurations")}},J={async createRepairJob(e){const t=await A("/repairjobs",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create repair job")},async getRepairJob(e){const t=await A("/repairjobs/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch repair job")},async getRepairJobByFinancialTransactionId(e){const t=await A("/repairjobs/by-financial-transaction/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch repair job")},async updateRepairJobStatus(e,t){const r=await A("/repairjobs/".concat(e,"/status"),{method:"PUT",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to update repair job status")},async assignTechnician(e,t){const r=await A("/repairjobs/".concat(e,"/assign"),{method:"PUT",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to assign technician")},async completeRepair(e,t){const r=await A("/repairjobs/".concat(e,"/complete"),{method:"PUT",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to complete repair")},async markReadyForPickup(e){const t=await A("/repairjobs/".concat(e,"/ready-for-pickup"),{method:"PUT"});if(!t.success)throw new Error(t.message||"Failed to mark repair ready for pickup")},async deliverRepair(e,t){const r=await A("/repairjobs/".concat(e,"/deliver"),{method:"PUT",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to deliver repair")},async cancelRepair(e,t){const r=await A("/repairjobs/".concat(e,"/cancel"),{method:"PUT",body:JSON.stringify({reason:t})});if(!r.success)throw new Error(r.message||"Failed to cancel repair")},async searchRepairJobs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/repairjobs/search?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to search repair jobs")},async getRepairJobStatistics(e,t,r){const n={};e&&(n.branchId=e.toString()),t&&(n.fromDate=t),r&&(n.toDate=r);const a=Object.keys(n).length>0?new URLSearchParams(n).toString():"",i=await A("/repairjobs/statistics".concat(a?"?".concat(a):""));if(i.success&&i.data)return i.data;throw new Error(i.message||"Failed to fetch repair job statistics")},async getRepairJobsByStatus(e,t){const r=t?new URLSearchParams({branchId:t.toString()}).toString():"",n=await A("/repairjobs/by-status/".concat(e).concat(r?"?".concat(r):""));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch repair jobs by status")},async getRepairJobsByTechnician(e,t){const r=t?new URLSearchParams({branchId:t.toString()}).toString():"",n=await A("/repairjobs/by-technician/".concat(e).concat(r?"?".concat(r):""));if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch repair jobs by technician")},async getOverdueRepairJobs(e){const t=e?new URLSearchParams({branchId:e.toString()}).toString():"",r=await A("/repairjobs/overdue".concat(t?"?".concat(t):""));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch overdue repair jobs")},async getRepairJobsDueToday(e){const t=e?new URLSearchParams({branchId:e.toString()}).toString():"",r=await A("/repairjobs/due-today".concat(t?"?".concat(t):""));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch repair jobs due today")}},X={async createTechnician(e){const t=await A("/technicians",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create technician")},async getTechnician(e){const t=await A("/technicians/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch technician")},async updateTechnician(e,t){const r=await A("/technicians/".concat(e),{method:"PUT",body:JSON.stringify(t)});if(!r.success)throw new Error(r.message||"Failed to update technician")},async deleteTechnician(e){const t=await A("/technicians/".concat(e),{method:"DELETE"});if(!t.success)throw new Error(t.message||"Failed to delete technician")},async searchTechnicians(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(Object.entries(e).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),r=await A("/technicians/search?".concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to search technicians")},async getActiveTechnicians(e){const t=e?new URLSearchParams({branchId:e.toString()}).toString():"",r=await A("/technicians/active".concat(t?"?".concat(t):""));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch active technicians")},async getTechniciansByBranch(e){const t=await A("/technicians/branch/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch technicians by branch")}},Q={async processSale(e){const t={branchId:e.branchId,customerId:e.customerId,items:e.items,amountPaid:e.amountPaid,paymentMethodId:e.paymentMethod},r=await A("/orders/sale",{method:"POST",body:JSON.stringify(t)});if(r.success&&r.data){return{id:r.data.id,transactionNumber:r.data.orderNumber,transactionTypeId:1,transactionType:"Sale",transactionDate:r.data.orderDate,branchId:r.data.branchId,branchName:r.data.branchName,customerId:r.data.customerId,customerName:r.data.customerName,processedByUserId:r.data.cashierId,processedByName:r.data.cashierName,orderId:r.data.id,order:{id:r.data.id,orderNumber:r.data.orderNumber,orderDate:r.data.orderDate,orderType:r.data.orderType,items:r.data.items.map(e=>({id:e.id,orderId:e.orderId,productId:e.productId,productName:e.productName,productCode:e.productCode,karatType:e.karatType||"",quantity:e.quantity,unitWeight:e.weight||0,totalWeight:(e.weight||0)*e.quantity,goldRatePerGram:e.unitPrice/(e.weight||1),unitPrice:e.unitPrice,makingChargesAmount:e.makingCharges,discountPercentage:e.discountPercentage,discountAmount:e.discountAmount,lineTotal:e.totalAmount||e.finalPrice}))},subtotal:r.data.items.reduce((e,t)=>e+(t.totalAmount||t.finalPrice),0),totalMakingCharges:r.data.items.reduce((e,t)=>e+(t.makingCharges||0),0),totalTaxAmount:0,discountAmount:r.data.items.reduce((e,t)=>e+(t.discountAmount||0),0),totalAmount:r.data.items.reduce((e,t)=>e+(t.totalAmount||t.finalPrice),0),amountPaid:0,changeGiven:0,paymentMethodId:1,paymentMethod:"Cash",paymentMethodDescription:"Cash",statusId:1,status:"Completed",statusDisplayName:"Completed",statusDescription:"Completed",receiptPrinted:!1,generalLedgerPosted:!1,createdAt:r.data.createdAt,totalDiscountAmount:r.data.items.reduce((e,t)=>e+(t.discountAmount||0),0),items:r.data.items.map(e=>({id:e.id,orderId:e.orderId,productId:e.productId,productName:e.productName,productCode:e.productCode,karatType:e.karatType||"",quantity:e.quantity,unitWeight:e.weight||0,totalWeight:(e.weight||0)*e.quantity,goldRatePerGram:e.unitPrice/(e.weight||1),unitPrice:e.unitPrice,makingChargesAmount:e.makingCharges,discountPercentage:e.discountPercentage,discountAmount:e.discountAmount,lineTotal:e.totalAmount||e.finalPrice})),cashierName:r.data.cashierName}}throw new Error(r.message||"Failed to process sale")},async processRepair(e){const t={branchId:e.branchId,customerId:e.customerId,repairDescription:e.repairDescription,repairAmount:e.repairAmount,estimatedCompletionDate:e.estimatedCompletionDate,amountPaid:e.amountPaid,paymentMethodId:e.paymentMethod},r=await A("/orders/repair",{method:"POST",body:JSON.stringify(t)});if(r.success&&r.data){var n,a,i,o,s,l,c,u,d,h,f,p,m,g,v,y,x,b,j,w,N,S,k,C,O,P,E,T,D,_,M,I;return{id:(null===(n=r.data.financialTransaction)||void 0===n?void 0:n.id)||0,transactionNumber:(null===(a=r.data.financialTransaction)||void 0===a?void 0:a.transactionNumber)||"",transactionTypeId:3,transactionType:"Repair",transactionDate:(null===(i=r.data.financialTransaction)||void 0===i?void 0:i.transactionDate)||(new Date).toISOString(),branchId:(null===(o=r.data.order)||void 0===o?void 0:o.branchId)||0,branchName:(null===(s=r.data.order)||void 0===s?void 0:s.branchName)||"",customerId:null===(l=r.data.order)||void 0===l?void 0:l.customerId,customerName:null===(c=r.data.order)||void 0===c?void 0:c.customerName,processedByUserId:(null===(u=r.data.financialTransaction)||void 0===u?void 0:u.processedByUserId)||"",processedByName:(null===(d=r.data.financialTransaction)||void 0===d?void 0:d.processedByName)||"",orderId:null===(h=r.data.order)||void 0===h?void 0:h.id,order:r.data.order?{id:r.data.order.id,orderNumber:r.data.order.orderNumber,orderDate:r.data.order.orderDate,orderType:r.data.order.orderType,items:W(r.data.order.items||[])}:void 0,subtotal:(null===(f=r.data.financialTransaction)||void 0===f?void 0:f.subtotal)||0,totalMakingCharges:(null===(p=r.data.financialTransaction)||void 0===p?void 0:p.totalMakingCharges)||0,totalTaxAmount:(null===(m=r.data.financialTransaction)||void 0===m?void 0:m.totalTaxAmount)||0,discountAmount:(null===(g=r.data.financialTransaction)||void 0===g?void 0:g.discountAmount)||0,totalAmount:(null===(v=r.data.financialTransaction)||void 0===v?void 0:v.totalAmount)||0,amountPaid:(null===(y=r.data.financialTransaction)||void 0===y?void 0:y.amountPaid)||0,changeGiven:(null===(x=r.data.financialTransaction)||void 0===x?void 0:x.changeGiven)||0,paymentMethodId:(null===(b=r.data.financialTransaction)||void 0===b?void 0:b.paymentMethodId)||1,paymentMethod:(null===(j=r.data.financialTransaction)||void 0===j?void 0:j.paymentMethod)||"Cash",paymentMethodDescription:(null===(w=r.data.financialTransaction)||void 0===w?void 0:w.paymentMethodDescription)||"Cash",statusId:(null===(N=r.data.financialTransaction)||void 0===N?void 0:N.statusId)||1,status:(null===(S=r.data.financialTransaction)||void 0===S?void 0:S.status)||"Completed",statusDisplayName:(null===(k=r.data.financialTransaction)||void 0===k?void 0:k.statusDisplayName)||"Completed",statusDescription:(null===(C=r.data.financialTransaction)||void 0===C?void 0:C.statusDescription)||"Completed",receiptPrinted:(null===(O=r.data.financialTransaction)||void 0===O?void 0:O.receiptPrinted)||!1,generalLedgerPosted:(null===(P=r.data.financialTransaction)||void 0===P?void 0:P.generalLedgerPosted)||!1,createdAt:(null===(E=r.data.financialTransaction)||void 0===E?void 0:E.createdAt)||(new Date).toISOString(),totalDiscountAmount:(null===(T=r.data.financialTransaction)||void 0===T?void 0:T.discountAmount)||0,repairDescription:null===(D=r.data.repairJob)||void 0===D?void 0:D.repairDescription,estimatedCompletionDate:null===(_=r.data.repairJob)||void 0===_?void 0:_.estimatedCompletionDate,items:W((null===(M=r.data.order)||void 0===M?void 0:M.items)||[]),cashierName:(null===(I=r.data.financialTransaction)||void 0===I?void 0:I.processedByName)||""}}throw new Error(r.message||"Failed to process repair")},async processReturn(e){const t=await A("/financialtransactions/return",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data){return q(c(c({},t.data),{},{transactionType:H(t.data.transactionTypeId)}))}throw new Error(t.message||"Failed to process return")},async getTransaction(e){const t=await A("/financialtransactions/".concat(e));if(t.success&&t.data){return q(c(c({},t.data),{},{transactionType:H(t.data.transactionTypeId)}))}throw new Error(t.message||"Failed to fetch transaction")},async searchTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={branchId:e.branchId,transactionNumber:e.transactionNumber,transactionTypeId:e.transactionType?ee(e.transactionType):void 0,statusId:e.status?te(e.status):void 0,fromDate:e.fromDate,toDate:e.toDate,page:e.pageNumber||1,pageSize:e.pageSize||20},r=new URLSearchParams(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r&&null!==r}).map(e=>{let[t,r]=e;return[t,String(r)]})).toString(),n=await A("/financialtransactions/search?".concat(r));if(n.success&&n.data){return{items:n.data.items.map(e=>q(e)),totalCount:n.data.totalCount,pageNumber:n.data.page,pageSize:n.data.pageSize}}throw new Error(n.message||"Failed to search transactions")},async generateBrowserReceipt(e){const t=await A("/financialtransactions/generate-browser-receipt",{method:"POST",body:JSON.stringify({transactionId:e,includeHtml:!0,includeCss:!0})});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to generate browser receipt")}},Z={async createOrUpdateOwnership(e){const t=await A("/productownership",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to create/update product ownership")},async validateOwnership(e){const t=await A("/productownership/validate",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to validate ownership")},async updateOwnershipAfterPayment(e){const t=await A("/productownership/payment",{method:"POST",body:JSON.stringify(e)});if(t.success)return!0;throw new Error(t.message||"Failed to update ownership after payment")},async updateOwnershipAfterSale(e){const t=await A("/productownership/sale",{method:"POST",body:JSON.stringify(e)});if(t.success)return!0;throw new Error(t.message||"Failed to update ownership after sale")},async convertRawGoldToProducts(e){const t=await A("/productownership/convert-raw-gold",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to convert raw gold to products")},async getOwnershipAlerts(e){const t=e?new URLSearchParams({branchId:e.toString()}).toString():"",r=await A("/productownership/alerts".concat(t?"?".concat(t):""));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch ownership alerts")},async getProductOwnership(e,t){const r=await A("/productownership/product/".concat(e,"/branch/").concat(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to fetch product ownership")},async getOwnershipMovements(e){const t=await A("/productownership/movements/".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch ownership movements")},async getLowOwnershipProducts(){const e=new URLSearchParams({threshold:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5).toString()}).toString(),t=await A("/productownership/low-ownership?".concat(e));if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch low ownership products")},async getProductsWithOutstandingPayments(){const e=await A("/productownership/outstanding-payments");if(e.success&&e.data)return e.data;throw new Error(e.message||"Failed to fetch products with outstanding payments")}},ee=e=>{switch(e.toLowerCase()){case"sale":default:return 1;case"return":return 2;case"repair":return 3}},te=e=>{switch(e.toLowerCase()){case"completed":default:return 1;case"pending":return 2;case"cancelled":return 3;case"voided":return 4}},re={auth:T,products:D,pricing:_,users:M,branches:I,suppliers:F,inventory:R,reports:L,purchaseOrders:z,labels:U,transactions:Q,customers:$,lookups:Y,repairJobs:J,technicians:X,orders:K,financialTransactions:G,productOwnership:Z};var ne=r(579);const ae=(0,t.createContext)(void 0);function ie(e){var t;console.log("Mapping API user to UI user:",e);const r=e.roles.includes("Manager")?"Manager":"Cashier",n={id:e.id,username:e.username,role:r,branchId:(null===(t=e.branch)||void 0===t?void 0:t.code)||"default",fullName:e.fullName,email:e.email,employeeCode:e.employeeCode,roles:e.roles,branch:e.branch,lastLoginAt:e.lastLoginAt};return console.log("Mapped user:",n),n}function oe(e){var r;let{children:n}=e;const[a,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{console.log("Initializing auth...");const e=P();if(console.log("Found stored token:",!!e),e)try{console.log("Attempting to get current user from API...");const e=ie(await re.auth.getCurrentUser());console.log("Successfully validated stored token for user:",e.username),console.log("User branch information:",e.branch),i(e)}catch(t){console.warn("Failed to validate stored token:",t),re.auth.logout()}s(!1)})()},[]);const l=!!a,c=!!("Manager"===(null===a||void 0===a?void 0:a.role)||null!==a&&void 0!==a&&null!==(r=a.roles)&&void 0!==r&&r.includes("Manager"));return(0,ne.jsx)(ae.Provider,{value:{user:a,login:async(e,t)=>{try{s(!0),console.log("Starting login process for user:",e);const r=await re.auth.login({username:e,password:t,rememberMe:!0});console.log("Login API response received:",r);const n=ie(r.user);return console.log("Mapped user:",n),console.log("User branch information:",n.branch),i(n),console.log("User state set, login successful"),!0}catch(r){throw console.error("Login failed:",r),i(null),r}finally{s(!1)}},logout:async()=>{try{s(!0),await re.auth.logout()}catch(e){console.error("Logout failed:",e)}finally{i(null),s(!1)}},isAuthenticated:l,isManager:c,isLoading:o},children:n})}function se(){const e=(0,t.useContext)(ae);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}function le(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ce(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ce(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ce(e))&&(n&&(n+=" "),n+=t);return n}const de=ue,he=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),i=a?he(e.slice(1),a):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return null===(r=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===r?void 0:r.classGroupId},fe=/^\[(.+)\]$/,pe=e=>{if(fe.test(e)){const t=fe.exec(e)[1],r=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},me=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xe(Object.entries(e.classGroups),r).forEach(e=>{let[r,a]=e;ge(a,n,r,t)}),n},ge=(e,t,r,n)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:ve(t,e)).classGroupId=r)}if("function"===typeof e)return ye(e)?void ge(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(e=>{let[a,i]=e;ge(i,ve(t,a),r,n)})})},ve=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},ye=e=>e.isThemeGetter,xe=(e,t)=>t?e.map(e=>{let[r,n]=e;const a=n.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[r,n]=e;return[t+r,n]})):e);return[r,a]}):e,be=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},je=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,a=t[0],i=t.length,o=e=>{const r=[];let o,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===a&&(n||e.slice(d,d+i)===t)){r.push(e.slice(l,d)),l=d+i;continue}if("/"===c){o=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===r.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:r,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return r?e=>r({className:e,parseClassName:o}):o},we=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},Ne=e=>c({cache:be(e.cacheSize),parseClassName:je(e)},(e=>{const t=me(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),he(r,t)||pe(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}})(e)),Se=/\s+/;function ke(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Ce(e))&&(n&&(n+=" "),n+=t);return n}const Ce=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ce(e[n]))&&(r&&(r+=" "),r+=t);return r};function Oe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,i,o,s=function(t){const n=r.reduce((e,t)=>t(e),e());return a=Ne(n),i=a.cache.get,o=a.cache.set,s=l,l(t)};function l(e){const t=i(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Se);let s="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=r(e);let h=Boolean(d),f=n(h?u.substring(0,d):u);if(!f){if(!h){s=e+(s.length>0?" "+s:s);continue}if(f=n(u),!f){s=e+(s.length>0?" "+s:s);continue}h=!1}const p=we(t).join(":"),m=c?p+"!":p,g=m+f;if(i.includes(g))continue;i.push(g);const v=a(f,h);for(let r=0;r<v.length;++r){const e=v[r];i.push(m+e)}s=e+(s.length>0?" "+s:s)}return s})(e,a);return o(e,r),r}return function(){return s(ke.apply(null,arguments))}}const Pe=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ee=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ae=/^\d+\/\d+$/,Te=new Set(["px","full","screen"]),De=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Me=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Re=e=>Le(e)||Te.has(e)||Ae.test(e),Be=e=>Qe(e,"length",Ze),Le=e=>Boolean(e)&&!Number.isNaN(Number(e)),ze=e=>Qe(e,"number",Le),Ue=e=>Boolean(e)&&Number.isInteger(Number(e)),Ve=e=>e.endsWith("%")&&Le(e.slice(0,-1)),We=e=>Ee.test(e),qe=e=>De.test(e),He=new Set(["length","size","percentage"]),Ke=e=>Qe(e,He,et),Ge=e=>Qe(e,"position",et),$e=new Set(["image","url"]),Ye=e=>Qe(e,$e,rt),Je=e=>Qe(e,"",tt),Xe=()=>!0,Qe=(e,t,r)=>{const n=Ee.exec(e);return!!n&&(n[1]?"string"===typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Ze=e=>_e.test(e)&&!Me.test(e),et=()=>!1,tt=e=>Ie.test(e),rt=e=>Fe.test(e),nt=(Symbol.toStringTag,()=>{const e=Pe("colors"),t=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),a=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),s=Pe("borderWidth"),l=Pe("contrast"),c=Pe("grayscale"),u=Pe("hueRotate"),d=Pe("invert"),h=Pe("gap"),f=Pe("gradientColorStops"),p=Pe("gradientColorStopPositions"),m=Pe("inset"),g=Pe("margin"),v=Pe("opacity"),y=Pe("padding"),x=Pe("saturate"),b=Pe("scale"),j=Pe("sepia"),w=Pe("skew"),N=Pe("space"),S=Pe("translate"),k=()=>["auto",We,t],C=()=>[We,t],O=()=>["",Re,Be],P=()=>["auto",Le,We],E=()=>["","0",We],A=()=>[Le,We];return{cacheSize:500,separator:":",theme:{colors:[Xe],spacing:[Re,Be],blur:["none","",qe,We],brightness:A(),borderColor:[e],borderRadius:["none","","full",qe,We],borderSpacing:C(),borderWidth:O(),contrast:A(),grayscale:E(),hueRotate:A(),invert:E(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Ve,Be],inset:k(),margin:k(),opacity:A(),padding:C(),saturate:A(),scale:A(),sepia:E(),skew:A(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[qe]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",We]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ue,We]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ue,We]}],"grid-cols":[{"grid-cols":[Xe]}],"col-start-end":[{col:["auto",{span:["full",Ue,We]},We]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Xe]}],"row-start-end":[{row:["auto",{span:[Ue,We]},We]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,t]}],"min-w":[{"min-w":[We,t,"min","max","fit"]}],"max-w":[{"max-w":[We,t,"none","full","min","max","fit","prose",{screen:[qe]},qe]}],h:[{h:[We,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qe,Be]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ze]}],"font-family":[{font:[Xe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",Le,ze]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Re,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Re,Be]}],"underline-offset":[{"underline-offset":["auto",Re,We]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ge]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ke]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ye]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Re,We]}],"outline-w":[{outline:[Re,Be]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Re,Be]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qe,Je]}],"shadow-color":[{shadow:[Xe]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qe,We]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ue,We]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Re,Be,ze]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),at=Oe(nt);function it(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return at(ue(t))}const ot=["className"],st=["className"],lt=["className"],ct=["className"],ut=["className"];function dt(e){let{className:t}=e,r=le(e,ot);return(0,ne.jsx)("div",c({"data-slot":"card",className:it("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t)},r))}function ht(e){let{className:t}=e,r=le(e,st);return(0,ne.jsx)("div",c({"data-slot":"card-header",className:it("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t)},r))}function ft(e){let{className:t}=e,r=le(e,lt);return(0,ne.jsx)("h4",c({"data-slot":"card-title",className:it("leading-none",t)},r))}function pt(e){let{className:t}=e,r=le(e,ct);return(0,ne.jsx)("p",c({"data-slot":"card-description",className:it("text-muted-foreground",t)},r))}function mt(e){let{className:t}=e,r=le(e,ut);return(0,ne.jsx)("div",c({"data-slot":"card-content",className:it("px-6 [&:last-child]:pb-6",t)},r))}const gt=["className","type"];function vt(e){let{className:t,type:r}=e,n=le(e,gt);return(0,ne.jsx)("input",c({type:r,"data-slot":"input",className:it("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t)},n))}function yt(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function xt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1;const n=t.map(t=>{const n=yt(t,e);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let e=0;e<n.length;e++){const r=n[e];"function"==typeof r?r():yt(t[e],null)}}}}function bt(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.useCallback(xt(...r),r)}const jt=["children"],wt=["children"];function Nt(e){const r=kt(e),n=t.forwardRef((e,n)=>{const{children:a}=e,i=le(e,jt),o=t.Children.toArray(a),s=o.find(Pt);if(s){const e=s.props.children,a=o.map(r=>r===s?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,ne.jsx)(r,c(c({},i),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,ne.jsx)(r,c(c({},i),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}var St=Nt("Slot");function kt(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=le(e,wt);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=c({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=c(c({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return c(c({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?xt(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var Ct=Symbol("radix.slottable");function Ot(e){const t=e=>{let{children:t}=e;return(0,ne.jsx)(ne.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=Ct,t}function Pt(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ct}const Et=["class","className"],At=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,Tt=ue,Dt=(e,t)=>r=>{var n;if(null==(null===t||void 0===t?void 0:t.variants))return Tt(e,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{const t=null===r||void 0===r?void 0:r[e],n=null===i||void 0===i?void 0:i[e];if(null===t)return null;const o=At(t)||At(n);return a[e][o]}),s=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null===t||void 0===t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n}=t,a=le(t,Et);return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes(c(c({},i),s)[t]):c(c({},i),s)[t]===r})?[...e,r,n]:e},[]);return Tt(e,o,l,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className)},_t=["className","variant","size","asChild"],Mt=Dt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-[#F4E9B1] hover:text-[#0D1B2A] dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",golden:"bg-[#D4AF37] text-[#0D1B2A] hover:bg-[#B8941F] shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),It=t.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:i=!1}=e,o=le(e,_t);const s=i?St:"button";return(0,ne.jsx)(s,c({ref:t,"data-slot":"button",className:it(Mt({variant:n,size:a,className:r}))},o))});It.displayName="Button";var Ft=r(7950);const Rt=["asChild"];var Bt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=Nt("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,i=le(e,Rt),o=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ne.jsx)(o,c(c({},i),{},{ref:t}))});return a.displayName="Primitive.".concat(r),c(c({},e),{},{[r]:a})},{});function Lt(e,t){e&&Ft.flushSync(()=>e.dispatchEvent(t))}var zt=t.forwardRef((e,t)=>(0,ne.jsx)(Bt.label,c(c({},e),{},{ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));zt.displayName="Label";var Ut=zt;const Vt=["className"];function Wt(e){let{className:t}=e,r=le(e,Vt);return(0,ne.jsx)(Ut,c({"data-slot":"label",className:it("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t)},r))}var qt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ht=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Kt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Gt=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{color:i="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:d}=n,h=le(n,Ht);return(0,t.createElement)("svg",c(c({ref:a},qt),{},{width:o,height:o,stroke:i,strokeWidth:l?24*Number(s)/Number(o):s,className:["lucide","lucide-".concat(Kt(e)),u].join(" ")},h),[...r.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(d)?d:[d]])});return n.displayName="".concat(e),n},$t=Gt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yt=Gt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Jt=Gt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Xt=Gt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Qt=Gt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zt=Gt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);function er(e){let{size:t="md",className:r=""}=e;return(0,ne.jsx)("div",{className:"".concat({sm:"h-8 w-8 text-2xl",md:"h-10 w-10 text-3xl",lg:"h-16 w-16 text-5xl"}[t]," ").concat(r),children:(0,ne.jsxs)("div",{className:"relative flex items-center justify-center h-full w-full",children:[(0,ne.jsxs)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#F4E9B1] via-[#D4AF37] to-[#B8941F] shadow-lg transform rotate-12 hover:rotate-6 transition-transform duration-300",children:[(0,ne.jsx)("div",{className:"absolute inset-1 rounded-full bg-gradient-to-tl from-[#B8941F]/30 to-transparent"}),(0,ne.jsx)("div",{className:"absolute inset-2 rounded-full bg-gradient-to-br from-[#F4E9B1]/80 to-transparent transform -rotate-45"})]}),(0,ne.jsx)("div",{className:"relative z-10 font-bold text-[#0D1B2A] transform -skew-x-6 drop-shadow-sm",children:"D"}),(0,ne.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#D4AF37]/20 to-transparent blur-sm animate-pulse"})]})})}function tr(e){let{size:t="md",className:r=""}=e;return(0,ne.jsxs)("div",{className:"flex items-center gap-3 ".concat(r),children:[(0,ne.jsx)(er,{size:t}),(0,ne.jsxs)("div",{className:"flex flex-col",children:[(0,ne.jsx)("span",{className:"".concat({sm:"text-lg",md:"text-xl",lg:"text-3xl"}[t]," font-bold text-[#0D1B2A] tracking-wide"),children:"DijaGold"}),(0,ne.jsx)("span",{className:"text-xs text-[#D4AF37] font-medium tracking-wider uppercase",children:"POS System"})]})]})}function rr(e){let{size:t="md",className:r=""}=e;return(0,ne.jsx)("div",{className:"".concat({sm:"h-8 w-8 text-2xl",md:"h-10 w-10 text-3xl",lg:"h-16 w-16 text-5xl"}[t]," ").concat(r),children:(0,ne.jsxs)("div",{className:"relative flex items-center justify-center h-full w-full animate-spin",children:[(0,ne.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#D4AF37] border-r-[#D4AF37] animate-spin"}),(0,ne.jsx)("div",{className:"relative z-10",children:(0,ne.jsx)(er,{size:t,className:"animate-none"})})]})})}function nr(){const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)("error"),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(!0),{login:v}=se();(0,t.useEffect)(()=>{(async()=>{p(navigator.onLine);try{const e=await E();g(e)}catch(c){g(!1)}})();const e=()=>p(!0),t=()=>p(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]);return(0,ne.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#0D1B2A] via-[#1A2B3D] to-[#0D1B2A] flex items-center justify-center p-4",children:[(0,ne.jsx)("div",{className:"absolute inset-0 opacity-5",children:(0,ne.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23D4AF37' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,ne.jsxs)(dt,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border-0 shadow-2xl",children:[(0,ne.jsxs)(ht,{className:"text-center space-y-4 pb-8",children:[(0,ne.jsx)("div",{className:"flex justify-center",children:s?(0,ne.jsx)(rr,{size:"lg"}):(0,ne.jsx)(tr,{size:"lg"})}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(ft,{className:"text-2xl text-[#0D1B2A]",children:"Welcome Back"}),(0,ne.jsx)(pt,{className:"text-[#0D1B2A]/70",children:"Sign in to your DijaGold POS account"})]})]}),(0,ne.jsxs)(mt,{className:"space-y-6",children:[(0,ne.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(""),h("error"),l(!0),console.log("Login form submitted with username:",e.trim());try{await v(e.trim(),n),console.log("Login successful - user will be redirected automatically")}catch(r){console.error("Login failed:",r);const{message:e,type:t}=(e=>{if(e instanceof TypeError&&e.message.includes("fetch"))return{message:"Unable to connect to the server. Please check your internet connection and try again.",type:"warning"};if(e.status)switch(e.status){case 400:case 401:case 404:case 500:return{message:e.message,type:"error"};case 403:case 429:return{message:e.message,type:"warning"};case 502:case 503:case 504:return{message:"Service temporarily unavailable. Please try again later.",type:"info"}}return{message:"Unable to sign in. Please check your credentials and try again.",type:"error"}})(r);u(e),h(t)}finally{l(!1)}},className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"username",className:"text-[#0D1B2A]",children:"Username"}),(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(Yt,{className:"absolute left-3 top-3 h-4 w-4 text-[#0D1B2A]/50"}),(0,ne.jsx)(vt,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:e=>r(e.target.value),className:"pl-10 h-12 border-[#0D1B2A]/20 focus:border-[#D4AF37] focus:ring-[#D4AF37]",disabled:s,required:!0})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"password",className:"text-[#0D1B2A]",children:"Password"}),(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(Jt,{className:"absolute left-3 top-3 h-4 w-4 text-[#0D1B2A]/50"}),(0,ne.jsx)(vt,{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:n,onChange:e=>a(e.target.value),className:"pl-10 pr-10 h-12 border-[#0D1B2A]/20 focus:border-[#D4AF37] focus:ring-[#D4AF37]",disabled:s,required:!0}),(0,ne.jsx)(It,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>o(!i),disabled:s,children:i?(0,ne.jsx)(Xt,{className:"h-4 w-4 text-[#0D1B2A]/50"}):(0,ne.jsx)(Qt,{className:"h-4 w-4 text-[#0D1B2A]/50"})})]})]}),c&&(0,ne.jsx)("div",{className:"p-3 border rounded-lg ".concat((()=>{switch(d){case"warning":return"bg-amber-50 border-amber-200 text-amber-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-red-50 border-red-200 text-red-600"}})()),children:(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(d){case"warning":return(0,ne.jsx)($t,{className:"h-4 w-4 text-amber-600"});case"info":return(0,ne.jsx)($t,{className:"h-4 w-4 text-blue-600"});default:return(0,ne.jsx)($t,{className:"h-4 w-4 text-red-600"})}})(),(0,ne.jsx)("p",{className:"text-sm",children:c})]})}),(!f||!m)&&(0,ne.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Zt,{className:"h-4 w-4 text-amber-600"}),(0,ne.jsx)("div",{className:"text-sm text-amber-800",children:f?(0,ne.jsx)("span",{children:"Unable to reach the server. Please check your connection or try again later."}):(0,ne.jsx)("span",{children:"You are currently offline. Please check your internet connection."})})]}),!f&&(0,ne.jsx)(It,{type:"button",variant:"outline",size:"sm",onClick:async()=>{try{const e=await E();g(e),e&&(u(""),h("error"))}catch(c){g(!1)}},className:"text-amber-700 border-amber-300 hover:bg-amber-100",children:"Retry"})]})}),(0,ne.jsx)(It,{type:"submit",className:"w-full h-12 text-lg bg-gradient-to-r from-[#D4AF37] to-[#B8941F] hover:from-[#B8941F] hover:to-[#D4AF37] text-[#0D1B2A] font-semibold shadow-lg transition-all duration-200 transform hover:scale-105",disabled:s||!f||!m,children:s?(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(rr,{size:"sm"}),"Signing In..."]}):f&&m?"Sign In":(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Zt,{className:"h-4 w-4"}),"Connection Unavailable"]})})]}),(0,ne.jsxs)("div",{className:"text-center pt-4 border-t border-[#0D1B2A]/10",children:[(0,ne.jsx)("p",{className:"text-xs text-[#0D1B2A]/60",children:"DijaGold POS System v2.0.1"}),(0,ne.jsx)("p",{className:"text-xs text-[#0D1B2A]/40 mt-1",children:"\xa9 2024 DijaGold Jewelry. All rights reserved."})]})]})]})]})}const ar=["className","variant","asChild"],ir=Dt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function or(e){let{className:t,variant:r,asChild:n=!1}=e,a=le(e,ar);const i=n?St:"span";return(0,ne.jsx)(i,c({"data-slot":"badge",className:it(ir({variant:r}),t)},a))}const sr=["decorative","orientation"];var lr="horizontal",cr=["horizontal","vertical"],ur=t.forwardRef((e,t)=>{const{decorative:r,orientation:n=lr}=e,a=le(e,sr),i=function(e){return cr.includes(e)}(n)?n:lr,o=r?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return(0,ne.jsx)(Bt.div,c(c(c({"data-orientation":i},o),a),{},{ref:t}))});ur.displayName="Separator";var dr=ur;const hr=["className","orientation","decorative"];function fr(e){let{className:t,orientation:r="horizontal",decorative:n=!0}=e,a=le(e,hr);return(0,ne.jsx)(dr,c({"data-slot":"separator-root",decorative:n,orientation:r,className:it("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t)},a))}const pr=Gt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]);function mr(e){if(null==e)throw new TypeError("Cannot destructure "+e)}"undefined"===typeof window||!window.document||window.document.createElement;function gr(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}const vr=["children"],yr=["scope","children"];function xr(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const r=n.map(e=>t.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:c(c({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(r,a){const i=t.createContext(a),o=n.length;n=[...n,a];const s=r=>{var n;const{scope:a,children:s}=r,l=le(r,yr),c=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[o])||i,u=t.useMemo(()=>l,Object.values(l));return(0,ne.jsx)(c.Provider,{value:u,children:s})};return s.displayName=r+"Provider",[s,function(n,s){var l;const c=(null===s||void 0===s||null===(l=s[e])||void 0===l?void 0:l[o])||i,u=t.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(r,"`"))}]},br(a,...r)]}function br(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=r[0];if(1===r.length)return a;const i=()=>{const e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const n=e.reduce((e,t)=>{let{useScope:n,scopeName:a}=t;const i=n(r)["__scope".concat(a)];return c(c({},e),i)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return i.scopeName=a.scopeName,i}var jr=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{},wr=n[" useId ".trim().toString()]||(()=>{}),Nr=0;function Sr(e){const[r,n]=t.useState(wr());return jr(()=>{e||n(e=>null!==e&&void 0!==e?e:String(Nr++))},[e]),e||(r?"radix-".concat(r):"")}var kr=n[" useInsertionEffect ".trim().toString()]||jr;function Cr(e){let{prop:r,defaultProp:n,onChange:a=()=>{},caller:i}=e;const[o,s,l]=function(e){let{defaultProp:r,onChange:n}=e;const[a,i]=t.useState(r),o=t.useRef(a),s=t.useRef(n);return kr(()=>{s.current=n},[n]),t.useEffect(()=>{var e;o.current!==a&&(null===(e=s.current)||void 0===e||e.call(s,a),o.current=a)},[a,o]),[a,i,s]}({defaultProp:n,onChange:a}),c=void 0!==r,u=c?r:o;{const e=t.useRef(void 0!==r);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",r=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(r,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,i])}const d=t.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(r):e;var t;if(n!==r)null===(t=l.current)||void 0===t||t.call(l,n)}else s(e)},[c,r,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");function Or(e){const r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=r.current)||void 0===e?void 0:e.call(r,...n)},[])}const Pr=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Er,Ar="dismissableLayer.update",Tr="dismissableLayer.pointerDownOutside",Dr="dismissableLayer.focusOutside",_r=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mr=t.forwardRef((e,r)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:l,onDismiss:u}=e,d=le(e,Pr),h=t.useContext(_r),[f,p]=t.useState(null),m=null!==(n=null===f||void 0===f?void 0:f.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=t.useState({}),v=bt(r,e=>p(e)),y=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(x),j=f?y.indexOf(f):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,N=j>=b,S=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Or(e),a=t.useRef(!1),i=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){Rr(Tr,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(r.removeEventListener("click",i.current),i.current=t,r.addEventListener("click",i.current,{once:!0})):t()}else r.removeEventListener("click",i.current);a.current=!1},t=window.setTimeout(()=>{r.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",i.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,r=[...h.branches].some(e=>e.contains(t));N&&!r&&(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===u||void 0===u||u())},m),k=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Or(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Rr(Dr,n,{originalEvent:e},{discrete:!1})}};return r.addEventListener("focusin",e),()=>r.removeEventListener("focusin",e)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===s||void 0===s||s(e),null===l||void 0===l||l(e),e.defaultPrevented||null===u||void 0===u||u())},m);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Or(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return r.addEventListener("keydown",e,{capture:!0}),()=>r.removeEventListener("keydown",e,{capture:!0})},[n,r])}(e=>{j===h.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},m),t.useEffect(()=>{if(f)return a&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(Er=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Fr(),()=>{a&&1===h.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=Er)}},[f,m,a,h]),t.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Fr())},[f,h]),t.useEffect(()=>{const e=()=>g({});return document.addEventListener(Ar,e),()=>document.removeEventListener(Ar,e)},[]),(0,ne.jsx)(Bt.div,c(c({},d),{},{ref:v,style:c({pointerEvents:w?N?"auto":"none":void 0},e.style),onFocusCapture:gr(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gr(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gr(e.onPointerDownCapture,S.onPointerDownCapture)}))});Mr.displayName="DismissableLayer";var Ir=t.forwardRef((e,r)=>{const n=t.useContext(_r),a=t.useRef(null),i=bt(r,a);return t.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,ne.jsx)(Bt.div,c(c({},e),{},{ref:i}))});function Fr(){const e=new CustomEvent(Ar);document.dispatchEvent(e)}function Rr(e,t,r,n){let{discrete:a}=n;const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?Lt(i,o):i.dispatchEvent(o)}Ir.displayName="DismissableLayerBranch";const Br=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Lr="focusScope.autoFocusOnMount",zr="focusScope.autoFocusOnUnmount",Ur={bubbles:!1,cancelable:!0},Vr=t.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=e,s=le(e,Br),[l,u]=t.useState(null),d=Or(i),h=Or(o),f=t.useRef(null),p=bt(r,e=>u(e)),m=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(a){let e=function(e){if(m.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:Kr(f.current,{select:!0})},t=function(e){if(m.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Kr(f.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Kr(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,l,m.paused]),t.useEffect(()=>{if(l){Gr.add(m);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(Lr,Ur);l.addEventListener(Lr,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=document.activeElement;for(const n of e)if(Kr(n,{select:t}),document.activeElement!==r)return}((e=Wr(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Kr(l))}return()=>{l.removeEventListener(Lr,d),setTimeout(()=>{const e=new CustomEvent(zr,Ur);l.addEventListener(zr,h),l.dispatchEvent(e),e.defaultPrevented||Kr(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(zr,h),Gr.remove(m)},0)}}var e},[l,d,h,m]);const g=t.useCallback(e=>{if(!n&&!a)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,i]=function(e){const t=Wr(e),r=qr(t,e),n=qr(t.reverse(),e);return[r,n]}(t);a&&i?e.shiftKey||r!==i?e.shiftKey&&r===a&&(e.preventDefault(),n&&Kr(i,{select:!0})):(e.preventDefault(),n&&Kr(a,{select:!0})):r===t&&e.preventDefault()}},[n,a,m.paused]);return(0,ne.jsx)(Bt.div,c(c({tabIndex:-1},s),{},{ref:p,onKeyDown:g}))});function Wr(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qr(e,t){for(const r of e)if(!Hr(r,{upTo:t}))return r}function Hr(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Kr(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Vr.displayName="FocusScope";var Gr=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null===r||void 0===r||r.pause()),e=$r(e,t),e.unshift(t)},remove(t){var r;e=$r(e,t),null===(r=e[0])||void 0===r||r.resume()}}}();function $r(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}const Yr=["container"];var Jr=t.forwardRef((e,r)=>{var n;const{container:a}=e,i=le(e,Yr),[o,s]=t.useState(!1);jr(()=>s(!0),[]);const l=a||o&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return l?Ft.createPortal((0,ne.jsx)(Bt.div,c(c({},i),{},{ref:r})),l):null});Jr.displayName="Portal";var Xr=e=>{const{present:r,children:n}=e,a=function(e){const[r,n]=t.useState(),a=t.useRef(null),i=t.useRef(e),o=t.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,r){return t.useReducer((e,t)=>{const n=r[e][t];return null!==n&&void 0!==n?n:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=Qr(a.current);o.current="mounted"===l?e:"none"},[l]),jr(()=>{const t=a.current,r=i.current;if(r!==e){const n=o.current,a=Qr(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(r&&n!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),jr(()=>{if(r){var e;let t;const n=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const o=Qr(a.current).includes(CSS.escape(e.animationName));if(e.target===r&&o&&(c("ANIMATION_END"),!i.current)){const e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},l=e=>{e.target===r&&(o.current=Qr(a.current))};return r.addEventListener("animationstart",l),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{n.clearTimeout(t),r.removeEventListener("animationstart",l),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,n(e)},[])}}(r),i="function"===typeof n?n({present:a.isPresent}):t.Children.only(n),o=bt(a.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||a.isPresent?t.cloneElement(i,{ref:o}):null};function Qr(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Xr.displayName="Presence";var Zr=0;function en(){t.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:tn()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:tn()),Zr++,()=>{1===Zr&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zr--}},[])}function tn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rn=function(){return rn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},rn.apply(this,arguments)};function nn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;function an(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var on="right-scroll-bar-position",sn="width-before-scroll-bar";function ln(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var cn="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,un=new WeakMap;function dn(e,r){var n=function(e,r){var n=(0,t.useState)(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=r,n.facade}(r||null,function(t){return e.forEach(function(e){return ln(e,t)})});return cn(function(){var t=un.get(n);if(t){var r=new Set(t),a=new Set(e),i=n.current;r.forEach(function(e){a.has(e)||ln(e,null)}),a.forEach(function(e){r.has(e)||ln(e,i)})}un.set(n,e)},[e]),n}function hn(e){return e}function fn(e,t){void 0===t&&(t=hn);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var i=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}var pn=function(e){void 0===e&&(e={});var t=fn(null);return t.options=rn({async:!0,ssr:!1},e),t}(),mn=function(){},gn=t.forwardRef(function(e,r){var n=t.useRef(null),a=t.useState({onScrollCapture:mn,onWheelCapture:mn,onTouchMoveCapture:mn}),i=a[0],o=a[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=void 0===y?"div":y,b=e.gapMode,j=nn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,N=dn([n,r]),S=rn(rn({},j),i);return t.createElement(t.Fragment,null,d&&t.createElement(w,{sideCar:pn,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),s?t.cloneElement(t.Children.only(l),rn(rn({},S),{ref:N})):t.createElement(x,rn({},S,{className:c,ref:N}),l))});gn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},gn.classNames={fullWidth:sn,zeroRight:on};var vn,yn=function(e){var r=e.sideCar,n=nn(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,rn({},n))};yn.isSideCarExport=!0;function xn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vn||r.nc;return t&&e.setAttribute("nonce",t),e}var bn=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=xn())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jn=function(){var e=function(){var e=bn();return function(r,n){t.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}}();return function(t){var r=t.styles,n=t.dynamic;return e(r,n),null}},wn={left:0,top:0,right:0,gap:0},Nn=function(e){return parseInt(e||"",10)||0},Sn=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return wn;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Nn(r),Nn(n),Nn(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kn=jn(),Cn="data-scroll-locked",On=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(Cn,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(on," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(sn," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(on," .").concat(on," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(sn," .").concat(sn," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Cn,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Pn=function(){var e=parseInt(document.body.getAttribute(Cn)||"0",10);return isFinite(e)?e:0},En=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,i=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(Cn,(Pn()+1).toString()),function(){var e=Pn()-1;e<=0?document.body.removeAttribute(Cn):document.body.setAttribute(Cn,e.toString())}},[]);var o=t.useMemo(function(){return Sn(i)},[i]);return t.createElement(kn,{styles:On(o,!r,i,n?"":"!important")})},An=!1;if("undefined"!==typeof window)try{var Tn=Object.defineProperty({},"passive",{get:function(){return An=!0,!0}});window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch(HL){An=!1}var Dn=!!An&&{passive:!1},_n=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},Mn=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),In(e,n)){var a=Fn(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},In=function(e,t){return"v"===e?function(e){return _n(e,"overflowY")}(t):function(e){return _n(e,"overflowX")}(t)},Fn=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},Rn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bn=function(e){return[e.deltaX,e.deltaY]},Ln=function(e){return e&&"current"in e?e.current:e},zn=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Un=0,Vn=[];function Wn(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qn=(Hn=function(e){var r=t.useRef([]),n=t.useRef([0,0]),a=t.useRef(),i=t.useState(Un++)[0],o=t.useState(jn)[0],s=t.useRef(e);t.useEffect(function(){s.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=an([e.lockRef.current],(e.shards||[]).map(Ln),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,i=Rn(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Mn(d,u);if(!h)return!0;if(h?r=d:(r="v"===d?"h":"v",h=Mn(d,u)),!h)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var f=a.current||r;return function(e,t,r,n,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{if(!s)break;var f=Fn(e,s),p=f[0],m=f[1]-f[2]-i*p;(p||m)&&In(e,s)&&(d+=m,h+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(h)<1||!a&&-o>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(Vn.length&&Vn[Vn.length-1]===o){var n="deltaY"in t?Bn(t):Rn(t),a=r.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(r=e.delta,a=n,r[0]===a[0]&&r[1]===a[1]);var r,a})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var i=(s.current.shards||[]).map(Ln).filter(Boolean).filter(function(e){return e.contains(t.target)});(i.length>0?l(t,i[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),u=t.useCallback(function(e,t,n,a){var i={name:e,delta:t,target:n,should:a,shadowParent:Wn(n)};r.current.push(i),setTimeout(function(){r.current=r.current.filter(function(e){return e!==i})},1)},[]),d=t.useCallback(function(e){n.current=Rn(e),a.current=void 0},[]),h=t.useCallback(function(t){u(t.type,Bn(t),t.target,l(t,e.lockRef.current))},[]),f=t.useCallback(function(t){u(t.type,Rn(t),t.target,l(t,e.lockRef.current))},[]);t.useEffect(function(){return Vn.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Dn),document.addEventListener("touchmove",c,Dn),document.addEventListener("touchstart",d,Dn),function(){Vn=Vn.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,Dn),document.removeEventListener("touchmove",c,Dn),document.removeEventListener("touchstart",d,Dn)}},[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(o,{styles:zn(i)}):null,p?t.createElement(En,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},pn.useMedium(Hn),yn);var Hn,Kn=t.forwardRef(function(e,r){return t.createElement(gn,rn({},e,{ref:r,sideCar:qn}))});Kn.classNames=gn.classNames;const Gn=Kn;var $n=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Yn=new WeakMap,Jn=new WeakMap,Xn={},Qn=0,Zn=function(e){return e&&(e.host||Zn(e.parentNode))},ea=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=Zn(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Xn[r]||(Xn[r]=new WeakMap);var i=Xn[r],o=[],s=new Set,l=new Set(a),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(Yn.get(e)||0)+1,c=(i.get(e)||0)+1;Yn.set(e,l),i.set(e,c),o.push(e),1===l&&a&&Jn.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}})};return u(t),s.clear(),Qn++,function(){o.forEach(function(e){var t=Yn.get(e)-1,a=i.get(e)-1;Yn.set(e,t),i.set(e,a),t||(Jn.has(e)||e.removeAttribute(n),Jn.delete(e)),a||e.removeAttribute(r)}),--Qn||(Yn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,Xn={})}},ta=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||$n(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ea(n,a,r,"aria-hidden")):function(){return null}};const ra=["__scopeDialog"],na=["forceMount"],aa=["__scopeDialog"],ia=["forceMount"],oa=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],sa=["__scopeDialog"],la=["__scopeDialog"],ca=["__scopeDialog"];var ua="Dialog",[da,ha]=xr(ua),[fa,pa]=da(ua),ma=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=t.useRef(null),c=t.useRef(null),[u,d]=Cr({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:ua});return(0,ne.jsx)(fa,{scope:r,triggerRef:l,contentRef:c,contentId:Sr(),titleId:Sr(),descriptionId:Sr(),open:u,onOpenChange:d,onOpenToggle:t.useCallback(()=>d(e=>!e),[d]),modal:s,children:n})};ma.displayName=ua;var ga="DialogTrigger",va=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=le(e,ra),a=pa(ga,r),i=bt(t,a.triggerRef);return(0,ne.jsx)(Bt.button,c(c({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ra(a.open)},n),{},{ref:i,onClick:gr(e.onClick,a.onOpenToggle)}))});va.displayName=ga;var ya="DialogPortal",[xa,ba]=da(ya,{forceMount:void 0}),ja=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:i}=e,o=pa(ya,r);return(0,ne.jsx)(xa,{scope:r,forceMount:n,children:t.Children.map(a,e=>(0,ne.jsx)(Xr,{present:n||o.open,children:(0,ne.jsx)(Jr,{asChild:!0,container:i,children:e})}))})};ja.displayName=ya;var wa="DialogOverlay",Na=t.forwardRef((e,t)=>{const r=ba(wa,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=le(e,na),i=pa(wa,e.__scopeDialog);return i.modal?(0,ne.jsx)(Xr,{present:n||i.open,children:(0,ne.jsx)(ka,c(c({},a),{},{ref:t}))}):null});Na.displayName=wa;var Sa=Nt("DialogOverlay.RemoveScroll"),ka=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=le(e,aa),a=pa(wa,r);return(0,ne.jsx)(Gn,{as:Sa,allowPinchZoom:!0,shards:[a.contentRef],children:(0,ne.jsx)(Bt.div,c(c({"data-state":Ra(a.open)},n),{},{ref:t,style:c({pointerEvents:"auto"},n.style)}))})}),Ca="DialogContent",Oa=t.forwardRef((e,t)=>{const r=ba(Ca,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=le(e,ia),i=pa(Ca,e.__scopeDialog);return(0,ne.jsx)(Xr,{present:n||i.open,children:i.modal?(0,ne.jsx)(Pa,c(c({},a),{},{ref:t})):(0,ne.jsx)(Ea,c(c({},a),{},{ref:t}))})});Oa.displayName=Ca;var Pa=t.forwardRef((e,r)=>{const n=pa(Ca,e.__scopeDialog),a=t.useRef(null),i=bt(r,n.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return ta(e)},[]),(0,ne.jsx)(Aa,c(c({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gr(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:gr(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:gr(e.onFocusOutside,e=>e.preventDefault())}))}),Ea=t.forwardRef((e,r)=>{const n=pa(Ca,e.__scopeDialog),a=t.useRef(!1),i=t.useRef(!1);return(0,ne.jsx)(Aa,c(c({},e),{},{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),Aa=t.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o}=e,s=le(e,oa),l=pa(Ca,n),u=t.useRef(null),d=bt(r,u);return en(),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Vr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,ne.jsx)(Mr,c(c({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ra(l.open)},s),{},{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Ua,{titleId:l.titleId}),(0,ne.jsx)(Va,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Ta="DialogTitle",Da=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=le(e,sa),a=pa(Ta,r);return(0,ne.jsx)(Bt.h2,c(c({id:a.titleId},n),{},{ref:t}))});Da.displayName=Ta;var _a="DialogDescription",Ma=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=le(e,la),a=pa(_a,r);return(0,ne.jsx)(Bt.p,c(c({id:a.descriptionId},n),{},{ref:t}))});Ma.displayName=_a;var Ia="DialogClose",Fa=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=le(e,ca),a=pa(Ia,r);return(0,ne.jsx)(Bt.button,c(c({type:"button"},n),{},{ref:t,onClick:gr(e.onClick,()=>a.onOpenChange(!1))}))});function Ra(e){return e?"open":"closed"}Fa.displayName=Ia;var Ba="DialogTitleWarning",[La,za]=function(e,r){const n=t.createContext(r),a=e=>{const{children:r}=e,a=le(e,vr),i=t.useMemo(()=>a,Object.values(a));return(0,ne.jsx)(n.Provider,{value:i,children:r})};return a.displayName=e+"Provider",[a,function(a){const i=t.useContext(n);if(i)return i;if(void 0!==r)return r;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(Ba,{contentName:Ca,titleName:Ta,docsSlug:"dialog"}),Ua=e=>{let{titleId:r}=e;const n=za(Ba),a="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return t.useEffect(()=>{if(r){document.getElementById(r)||console.error(a)}},[a,r]),null},Va=e=>{let{contentRef:r,descriptionId:n}=e;const a=za("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=r.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&t){document.getElementById(n)||console.warn(i)}},[i,r,n]),null},Wa=ma,qa=va,Ha=ja,Ka=Na,Ga=Oa,$a=Da,Ya=Ma,Ja=Fa;const Xa=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qa=["className"],Za=["className","children","side"],ei=["className"],ti=["className"],ri=["className"];function ni(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(Wa,c({"data-slot":"sheet"},t))}function ai(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(Ha,c({"data-slot":"sheet-portal"},t))}function ii(e){let{className:t}=e,r=le(e,Qa);return(0,ne.jsx)(Ka,c({"data-slot":"sheet-overlay",className:it("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t)},r))}function oi(e){let{className:t,children:r,side:n="right"}=e,a=le(e,Za);return(0,ne.jsxs)(ai,{children:[(0,ne.jsx)(ii,{}),(0,ne.jsxs)(Ga,c(c({"data-slot":"sheet-content",className:it("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t)},a),{},{children:[r,(0,ne.jsxs)(Ja,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,ne.jsx)(Xa,{className:"size-4"}),(0,ne.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}function si(e){let{className:t}=e,r=le(e,ei);return(0,ne.jsx)("div",c({"data-slot":"sheet-header",className:it("flex flex-col gap-1.5 p-4",t)},r))}function li(e){let{className:t}=e,r=le(e,ti);return(0,ne.jsx)($a,c({"data-slot":"sheet-title",className:it("text-foreground font-semibold",t)},r))}function ci(e){let{className:t}=e,r=le(e,ri);return(0,ne.jsx)(Ya,c({"data-slot":"sheet-description",className:it("text-muted-foreground text-sm",t)},r))}const ui=["top","right","bottom","left"],di=Math.min,hi=Math.max,fi=Math.round,pi=Math.floor,mi=e=>({x:e,y:e}),gi={left:"right",right:"left",bottom:"top",top:"bottom"},vi={start:"end",end:"start"};function yi(e,t,r){return hi(e,di(t,r))}function xi(e,t){return"function"===typeof e?e(t):e}function bi(e){return e.split("-")[0]}function ji(e){return e.split("-")[1]}function wi(e){return"x"===e?"y":"x"}function Ni(e){return"y"===e?"height":"width"}const Si=new Set(["top","bottom"]);function ki(e){return Si.has(bi(e))?"y":"x"}function Ci(e){return wi(ki(e))}function Oi(e){return e.replace(/start|end/g,e=>vi[e])}const Pi=["left","right"],Ei=["right","left"],Ai=["top","bottom"],Ti=["bottom","top"];function Di(e,t,r,n){const a=ji(e);let i=function(e,t,r){switch(e){case"top":case"bottom":return r?t?Ei:Pi:t?Pi:Ei;case"left":case"right":return t?Ai:Ti;default:return[]}}(bi(e),"start"===r,n);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(Oi)))),i}function _i(e){return e.replace(/left|right|bottom|top/g,e=>gi[e])}function Mi(e){return"number"!==typeof e?function(e){return c({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Ii(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}const Fi=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Ri=["strategy"],Bi=["mainAxis","crossAxis","limiter"],Li=["apply"];function zi(e,t,r){let{reference:n,floating:a}=e;const i=ki(t),o=Ci(t),s=Ni(o),l=bi(t),c="y"===i,u=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let f;switch(l){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(ji(t)){case"start":f[o]-=h*(r&&c?-1:1);break;case"end":f[o]+=h*(r&&c?-1:1)}return f}async function Ui(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=xi(t,e),p=Mi(f),m=s[h?"floating"===d?"reference":"floating":d],g=Ii(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(m)))||r?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=Ii(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/x.y,bottom:(b.bottom-g.bottom+p.bottom)/x.y,left:(g.left-b.left+p.left)/x.x,right:(b.right-g.right+p.right)/x.x}}function Vi(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wi(e){return ui.some(t=>e[t]>=0)}const qi=new Set(["left","top"]);function Hi(){return"undefined"!==typeof window}function Ki(e){return Yi(e)?(e.nodeName||"").toLowerCase():"#document"}function Gi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $i(e){var t;return null==(t=(Yi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Yi(e){return!!Hi()&&(e instanceof Node||e instanceof Gi(e).Node)}function Ji(e){return!!Hi()&&(e instanceof Element||e instanceof Gi(e).Element)}function Xi(e){return!!Hi()&&(e instanceof HTMLElement||e instanceof Gi(e).HTMLElement)}function Qi(e){return!(!Hi()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Gi(e).ShadowRoot)}const Zi=new Set(["inline","contents"]);function eo(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Zi.has(a)}const to=new Set(["table","td","th"]);function ro(e){return to.has(Ki(e))}const no=[":popover-open",":modal"];function ao(e){return no.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const io=["transform","translate","scale","rotate","perspective"],oo=["transform","translate","scale","rotate","perspective","filter"],so=["paint","layout","strict","content"];function lo(e){const t=co(),r=Ji(e)?fo(e):e;return io.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||oo.some(e=>(r.willChange||"").includes(e))||so.some(e=>(r.contain||"").includes(e))}function co(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const uo=new Set(["html","body","#document"]);function ho(e){return uo.has(Ki(e))}function fo(e){return Gi(e).getComputedStyle(e)}function po(e){return Ji(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mo(e){if("html"===Ki(e))return e;const t=e.assignedSlot||e.parentNode||Qi(e)&&e.host||$i(e);return Qi(t)?t.host:t}function go(e){const t=mo(e);return ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xi(t)&&eo(t)?t:go(t)}function vo(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=go(e),i=a===(null==(n=e.ownerDocument)?void 0:n.body),o=Gi(a);if(i){const e=yo(o);return t.concat(o,o.visualViewport||[],eo(a)?a:[],e&&r?vo(e):[])}return t.concat(a,vo(a,[],r))}function yo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xo(e){const t=fo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Xi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=fi(r)!==i||fi(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function bo(e){return Ji(e)?e:e.contextElement}function jo(e){const t=bo(e);if(!Xi(t))return mi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=xo(t);let o=(i?fi(r.width):r.width)/n,s=(i?fi(r.height):r.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const wo=mi(0);function No(e){const t=Gi(e);return co()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:wo}function So(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),i=bo(e);let o=mi(1);t&&(n?Ji(n)&&(o=jo(n)):o=jo(e));const s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Gi(e))&&t}(i,r,n)?No(i):mi(0);let l=(a.left+s.x)/o.x,c=(a.top+s.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const e=Gi(i),t=n&&Ji(n)?Gi(n):n;let r=e,a=yo(r);for(;a&&n&&t!==r;){const e=jo(a),t=a.getBoundingClientRect(),n=fo(a),i=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=o,r=Gi(a),a=yo(r)}}return Ii({width:u,height:d,x:l,y:c})}function ko(e,t){const r=po(e).scrollLeft;return t?t.left+r:So($i(e)).left+r}function Co(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:ko(e,n)),y:n.top+t.scrollTop}}const Oo=new Set(["absolute","fixed"]);function Po(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Gi(e),n=$i(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const e=co();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}(e,r);else if("document"===t)n=function(e){const t=$i(e),r=po(e),n=e.ownerDocument.body,a=hi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=hi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ko(e);const s=-r.scrollTop;return"rtl"===fo(n).direction&&(o+=hi(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}($i(e));else if(Ji(t))n=function(e,t){const r=So(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Xi(e)?jo(e):mi(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:n*i.y}}(t,r);else{const r=No(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ii(n)}function Eo(e,t){const r=mo(e);return!(r===t||!Ji(r)||ho(r))&&("fixed"===fo(r).position||Eo(r,t))}function Ao(e,t,r){const n=Xi(t),a=$i(t),i="fixed"===r,o=So(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=mi(0);function c(){l.x=ko(a)}if(n||!n&&!i)if(("body"!==Ki(t)||eo(a))&&(s=po(t)),n){const e=So(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!n&&a&&c();const u=!a||n||i?mi(0):Co(a,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function To(e){return"static"===fo(e).position}function Do(e,t){if(!Xi(e)||"fixed"===fo(e).position)return null;if(t)return t(e);let r=e.offsetParent;return $i(e)===r&&(r=r.ownerDocument.body),r}function _o(e,t){const r=Gi(e);if(ao(e))return r;if(!Xi(e)){let t=mo(e);for(;t&&!ho(t);){if(Ji(t)&&!To(t))return t;t=mo(t)}return r}let n=Do(e,t);for(;n&&ro(n)&&To(n);)n=Do(n,t);return n&&ho(n)&&To(n)&&!lo(n)?r:n||function(e){let t=mo(e);for(;Xi(t)&&!ho(t);){if(lo(t))return t;if(ao(t))return null;t=mo(t)}return null}(e)||r}const Mo={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i="fixed"===a,o=$i(n),s=!!t&&ao(t.floating);if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},c=mi(1);const u=mi(0),d=Xi(n);if((d||!d&&!i)&&(("body"!==Ki(n)||eo(o))&&(l=po(n)),Xi(n))){const e=So(n);c=jo(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const h=!o||d||i?mi(0):Co(o,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:$i,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[..."clippingAncestors"===r?ao(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=vo(e,[],!1).filter(e=>Ji(e)&&"body"!==Ki(e)),a=null;const i="fixed"===fo(e).position;let o=i?mo(e):e;for(;Ji(o)&&!ho(o);){const t=fo(o),r=lo(o);r||"fixed"!==t.position||(a=null),(i?!r&&!a:!r&&"static"===t.position&&a&&Oo.has(a.position)||eo(o)&&!r&&Eo(e,o))?n=n.filter(e=>e!==o):a=t,o=mo(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=i[0],s=i.reduce((e,r)=>{const n=Po(t,r,a);return e.top=hi(n.top,e.top),e.right=di(n.right,e.right),e.bottom=di(n.bottom,e.bottom),e.left=hi(n.left,e.left),e},Po(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:_o,getElementRects:async function(e){const t=this.getOffsetParent||_o,r=this.getDimensions,n=await r(e.floating);return{reference:Ao(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=xo(e);return{width:t,height:r}},getScale:jo,isElement:Ji,isRTL:function(e){return"rtl"===fo(e).direction}};function Io(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Fo(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,u=bo(e),d=a||i?[...u?vo(u):[],...vo(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)});const h=u&&s?function(e,t){let r,n=null;const a=$i(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(s||t(),!f||!p)return;const m={rootMargin:-pi(h)+"px "+-pi(a.clientWidth-(d+f))+"px "+-pi(a.clientHeight-(h+p))+"px "+-pi(d)+"px",threshold:hi(0,di(1,l))||1};let g=!0;function v(t){const n=t[0].intersectionRatio;if(n!==l){if(!g)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||Io(u,e.getBoundingClientRect())||o(),g=!1}try{n=new IntersectionObserver(v,c(c({},m),{},{root:a.ownerDocument}))}catch(y){n=new IntersectionObserver(v,m)}n.observe(e)}(!0),i}(u,r):null;let f,p=-1,m=null;o&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g=l?So(e):null;return l&&function t(){const n=So(e);g&&!Io(g,n)&&r();g=n,f=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(f)}}const Ro=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,i=await(null==n.isRTL?void 0:n.isRTL(a.floating)),o=bi(r),s=ji(r),l="y"===ki(r),c=qi.has(o)?-1:1,u=i&&l?-1:1,d=xi(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(r=s.offset)?void 0:r.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:c(c({},l),{},{placement:o})}}}},Bo=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,i=xi(e,t),{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=i,u=le(i,Bi),d={x:r,y:n},h=await Ui(t,u),f=ki(bi(a)),p=wi(f);let m=d[p],g=d[f];if(o){const e="y"===p?"bottom":"right";m=yi(m+h["y"===p?"top":"left"],m,m-h[e])}if(s){const e="y"===f?"bottom":"right";g=yi(g+h["y"===f?"top":"left"],g,g-h[e])}const v=l.fn(c(c({},t),{},{[p]:m,[f]:g}));return c(c({},v),{},{data:{x:v.x-r,y:v.y-n,enabled:{[p]:o,[f]:s}}})}}},Lo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:c}=t,u=xi(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0}=u,v=le(u,Fi);if(null!=(r=i.arrow)&&r.alignmentOffset)return{};const y=bi(a),x=ki(s),b=bi(s)===s,j=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(b||!g?[_i(s)]:function(e){const t=_i(e);return[Oi(e),t,Oi(t)]}(s)),N="none"!==m;!f&&N&&w.push(...Di(s,g,m,j));const S=[s,...w],k=await Ui(t,v),C=[];let O=(null==(n=i.flip)?void 0:n.overflows)||[];if(d&&C.push(k[y]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=ji(e),a=Ci(e),i=Ni(a);let o="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=_i(o)),[o,_i(o)]}(a,o,j);C.push(k[e[0]],k[e[1]])}if(O=[...O,{placement:a,overflows:C}],!C.every(e=>e<=0)){var P,E;const e=((null==(P=i.flip)?void 0:P.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&x!==ki(t))||O.every(e=>ki(e.placement)!==x||e.overflows[0]>0))return{data:{index:e,overflows:O},reset:{placement:t}}}let r=null==(E=O.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!r)switch(p){case"bestFit":{var A;const e=null==(A=O.filter(e=>{if(N){const t=ki(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(r=e);break}case"initialPlacement":r=s}if(a!==r)return{reset:{placement:r}}}return{}}}},zo=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:s}=t,l=xi(e,t),{apply:u=()=>{}}=l,d=le(l,Li),h=await Ui(t,d),f=bi(a),p=ji(a),m="y"===ki(a),{width:g,height:v}=i.floating;let y,x;"top"===f||"bottom"===f?(y=f,x=p===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=f,y="end"===p?"top":"bottom");const b=v-h.top-h.bottom,j=g-h.left-h.right,w=di(v-h[y],b),N=di(g-h[x],j),S=!t.middlewareData.shift;let k=w,C=N;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=j),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(k=b),S&&!p){const e=hi(h.left,0),t=hi(h.right,0),r=hi(h.top,0),n=hi(h.bottom,0);m?C=g-2*(0!==e||0!==t?e+t:hi(h.left,h.right)):k=v-2*(0!==r||0!==n?r+n:hi(h.top,h.bottom))}await u(c(c({},t),{},{availableWidth:C,availableHeight:k}));const O=await o.getDimensions(s.floating);return g!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}},Uo=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,n=xi(e,t),{strategy:a="referenceHidden"}=n,i=le(n,Ri);switch(a){case"referenceHidden":{const e=Vi(await Ui(t,c(c({},i),{},{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Wi(e)}}}case"escaped":{const e=Vi(await Ui(t,c(c({},i),{},{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:Wi(e)}}}default:return{}}}}},Vo=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=xi(e,t)||{};if(null==u)return{};const h=Mi(d),f={x:r,y:n},p=Ci(a),m=Ni(p),g=await o.getDimensions(u),v="y"===p,y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[m]+i.reference[p]-f[p]-i.floating[m],w=f[p]-i.reference[p],N=await(null==o.getOffsetParent?void 0:o.getOffsetParent(u));let S=N?N[b]:0;S&&await(null==o.isElement?void 0:o.isElement(N))||(S=s.floating[b]||i.floating[m]);const k=j/2-w/2,C=S/2-g[m]/2-1,O=di(h[y],C),P=di(h[x],C),E=O,A=S-g[m]-P,T=S/2-g[m]/2+k,D=yi(E,T,A),_=!l.arrow&&null!=ji(a)&&T!==D&&i.reference[m]/2-(T<E?O:P)-g[m]/2<0,M=_?T<E?T-E:T-A:0;return{[p]:f[p]+M,data:c({[p]:D,centerOffset:T-D-M},_&&{alignmentOffset:M}),reset:_}}}),Wo=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=xi(e,t),d={x:r,y:n},h=ki(a),f=wi(h);let p=d[f],m=d[h];const g=xi(s,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:c({mainAxis:0,crossAxis:0},g);if(l){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+v.mainAxis,r=i.reference[f]+i.reference[e]-v.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var y,x;const e="y"===f?"width":"height",t=qi.has(bi(a)),r=i.reference[h]-i.floating[e]+(t&&(null==(y=o.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),n=i.reference[h]+i.reference[e]+(t?0:(null==(x=o.offset)?void 0:x[h])||0)-(t?v.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[f]:p,[h]:m}}}},qo=(e,t,r)=>{const n=new Map,a=c({platform:Mo},r),i=c(c({},a.platform),{},{_c:n});return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=zi(u,n,l),f=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:r,fn:i}=s[g],{x:v,y:y,data:x,reset:b}=await i({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=c(c({},p),{},{[r]:c(c({},p[r]),x)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:d,y:h}=zi(u,f,l))),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}})(e,t,c(c({},a),{},{platform:i}))};var Ho="undefined"!==typeof document?t.useLayoutEffect:function(){};function Ko(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!Ko(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!Ko(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function Go(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $o(e,t){const r=Go(e);return Math.round(t*r)/r}function Yo(e){const r=t.useRef(e);return Ho(()=>{r.current=e}),r}const Jo=(e,t)=>c(c({},Ro(e)),{},{options:[e,t]}),Xo=(e,t)=>c(c({},Bo(e)),{},{options:[e,t]}),Qo=(e,t)=>c(c({},Wo(e)),{},{options:[e,t]}),Zo=(e,t)=>c(c({},Lo(e)),{},{options:[e,t]}),es=(e,t)=>c(c({},zo(e)),{},{options:[e,t]}),ts=(e,t)=>c(c({},Uo(e)),{},{options:[e,t]}),rs=(e,t)=>c(c({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&function(e){return{}.hasOwnProperty.call(e,"current")}(r)?null!=r.current?Vo({element:r.current,padding:n}).fn(t):{}:r?Vo({element:r,padding:n}).fn(t):{}}}))(e)),{},{options:[e,t]}),ns=["children","width","height"];var as=t.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5}=e,i=le(e,ns);return(0,ne.jsx)(Bt.svg,c(c({},i),{},{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,ne.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});as.displayName="Arrow";var is=as;function os(e){const[r,n]=t.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),r}const ss=["__scopePopper","virtualRef"],ls=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],cs=["__scopePopper"];var us="Popper",[ds,hs]=xr(us),[fs,ps]=ds(us),ms=e=>{const{__scopePopper:r,children:n}=e,[a,i]=t.useState(null);return(0,ne.jsx)(fs,{scope:r,anchor:a,onAnchorChange:i,children:n})};ms.displayName=us;var gs="PopperAnchor",vs=t.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a}=e,i=le(e,ss),o=ps(gs,n),s=t.useRef(null),l=bt(r,s),u=t.useRef(null);return t.useEffect(()=>{const e=u.current;u.current=(null===a||void 0===a?void 0:a.current)||s.current,e!==u.current&&o.onAnchorChange(u.current)}),a?null:(0,ne.jsx)(Bt.div,c(c({},i),{},{ref:l}))});vs.displayName=gs;var ys="PopperContent",[xs,bs]=ds(ys),js=t.forwardRef((e,r)=>{var n,a,i,o,s,l,u,d;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:m="center",alignOffset:g=0,arrowPadding:v=0,avoidCollisions:y=!0,collisionBoundary:x=[],collisionPadding:b=0,sticky:j="partial",hideWhenDetached:w=!1,updatePositionStrategy:N="optimized",onPlaced:S}=e,k=le(e,ls),C=ps(ys,h),[O,P]=t.useState(null),E=bt(r,e=>P(e)),[A,T]=t.useState(null),D=os(A),_=null!==(n=null===D||void 0===D?void 0:D.width)&&void 0!==n?n:0,M=null!==(a=null===D||void 0===D?void 0:D.height)&&void 0!==a?a:0,I=f+("center"!==m?"-"+m:""),F="number"===typeof b?b:c({top:0,right:0,bottom:0,left:0},b),R=Array.isArray(x)?x:[x],B=R.length>0,L={padding:F,boundary:R.filter(ks),altBoundary:B},{refs:z,floatingStyles:U,placement:V,isPositioned:W,middlewareData:q}=function(e){void 0===e&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[h,f]=t.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[p,m]=t.useState(a);Ko(p,a)||m(a);const[g,v]=t.useState(null),[y,x]=t.useState(null),b=t.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),j=t.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),w=o||g,N=s||y,S=t.useRef(null),k=t.useRef(null),C=t.useRef(h),O=null!=u,P=Yo(u),E=Yo(i),A=Yo(d),T=t.useCallback(()=>{if(!S.current||!k.current)return;const e={placement:r,strategy:n,middleware:p};E.current&&(e.platform=E.current),qo(S.current,k.current,e).then(e=>{const t=c(c({},e),{},{isPositioned:!1!==A.current});D.current&&!Ko(C.current,t)&&(C.current=t,Ft.flushSync(()=>{f(t)}))})},[p,r,n,E,A]);Ho(()=>{!1===d&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>c(c({},e),{},{isPositioned:!1})))},[d]);const D=t.useRef(!1);Ho(()=>(D.current=!0,()=>{D.current=!1}),[]),Ho(()=>{if(w&&(S.current=w),N&&(k.current=N),w&&N){if(P.current)return P.current(w,N,T);T()}},[w,N,T,P,O]);const _=t.useMemo(()=>({reference:S,floating:k,setReference:b,setFloating:j}),[b,j]),M=t.useMemo(()=>({reference:w,floating:N}),[w,N]),I=t.useMemo(()=>{const e={position:n,left:0,top:0};if(!M.floating)return e;const t=$o(M.floating,h.x),r=$o(M.floating,h.y);return l?c(c({},e),{},{transform:"translate("+t+"px, "+r+"px)"},Go(M.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,l,M.floating,h.x,h.y]);return t.useMemo(()=>c(c({},h),{},{update:T,refs:_,elements:M,floatingStyles:I}),[h,T,_,M,I])}({strategy:"fixed",placement:I,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Fo(...t,{animationFrame:"always"===N})},elements:{reference:C.anchor},middleware:[Jo({mainAxis:p+M,alignmentAxis:g}),y&&Xo(c({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?Qo():void 0},L)),y&&Zo(c({},L)),es(c(c({},L),{},{apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:a}=e;const{width:i,height:o}=r.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(n,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(i,"px")),s.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),A&&rs({element:A,padding:v}),Cs({arrowWidth:_,arrowHeight:M}),w&&ts(c({strategy:"referenceHidden"},L))]}),[H,K]=Os(V),G=Or(S);jr(()=>{W&&(null===G||void 0===G||G())},[W,G]);const $=null===(i=q.arrow)||void 0===i?void 0:i.x,Y=null===(o=q.arrow)||void 0===o?void 0:o.y,J=0!==(null===(s=q.arrow)||void 0===s?void 0:s.centerOffset),[X,Q]=t.useState();return jr(()=>{O&&Q(window.getComputedStyle(O).zIndex)},[O]),(0,ne.jsx)("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:c(c({},U),{},{transform:W?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[null===(l=q.transformOrigin)||void 0===l?void 0:l.x,null===(u=q.transformOrigin)||void 0===u?void 0:u.y].join(" ")},(null===(d=q.hide)||void 0===d?void 0:d.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,ne.jsx)(xs,{scope:h,placedSide:H,onArrowChange:T,arrowX:$,arrowY:Y,shouldHideArrow:J,children:(0,ne.jsx)(Bt.div,c(c({"data-side":H,"data-align":K},k),{},{ref:E,style:c(c({},k.style),{},{animation:W?void 0:"none"})}))})})});js.displayName=ys;var ws="PopperArrow",Ns={top:"bottom",right:"left",bottom:"top",left:"right"},Ss=t.forwardRef(function(e,t){const{__scopePopper:r}=e,n=le(e,cs),a=bs(ws,r),i=Ns[a.placedSide];return(0,ne.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,ne.jsx)(is,c(c({},n),{},{ref:t,style:c(c({},n.style),{},{display:"block"})}))})});function ks(e){return null!==e}Ss.displayName=ws;var Cs=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,i,o;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Os(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(n=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==n?n:0)+d/2,v=(null!==(i=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+h/2;let y="",x="";return"bottom"===f?(y=u?m:"".concat(g,"px"),x="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),x="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),x=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),x=u?m:"".concat(v,"px")),{data:{x:y,y:x}}}});function Os(e){const[t,r="center"]=e.split("-");return[t,r]}var Ps=ms,Es=vs,As=js,Ts=Ss,Ds=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_s=t.forwardRef((e,t)=>(0,ne.jsx)(Bt.span,c(c({},e),{},{ref:t,style:c(c({},Ds),e.style)})));_s.displayName="VisuallyHidden";var Ms=_s;const Is=["__scopeTooltip"],Fs=["forceMount","side"],Rs=["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"],Bs=["__scopeTooltip"];var[Ls,zs]=xr("Tooltip",[hs]),Us=hs(),Vs="TooltipProvider",Ws=700,qs="tooltip.open",[Hs,Ks]=Ls(Vs),Gs=e=>{const{__scopeTooltip:r,delayDuration:n=Ws,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=e,s=t.useRef(!0),l=t.useRef(!1),c=t.useRef(0);return t.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),(0,ne.jsx)(Hs,{scope:r,isOpenDelayedRef:s,delayDuration:n,onOpen:t.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:t.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:t.useCallback(e=>{l.current=e},[]),disableHoverableContent:i,children:o})};Gs.displayName=Vs;var $s="Tooltip",[Ys,Js]=Ls($s),Xs=e=>{const{__scopeTooltip:r,children:n,open:a,defaultOpen:i,onOpenChange:o,disableHoverableContent:s,delayDuration:l}=e,u=Ks($s,e.__scopeTooltip),d=Us(r),[h,f]=t.useState(null),p=Sr(),m=t.useRef(0),g=null!==s&&void 0!==s?s:u.disableHoverableContent,v=null!==l&&void 0!==l?l:u.delayDuration,y=t.useRef(!1),[x,b]=Cr({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(qs))):u.onClose(),null===o||void 0===o||o(e)},caller:$s}),j=t.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=t.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),N=t.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=t.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},v)},[v,b]);return t.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,ne.jsx)(Ps,c(c({},d),{},{children:(0,ne.jsx)(Ys,{scope:r,contentId:p,open:x,stateAttribute:j,trigger:h,onTriggerChange:f,onTriggerEnter:t.useCallback(()=>{u.isOpenDelayedRef.current?S():w()},[u.isOpenDelayedRef,S,w]),onTriggerLeave:t.useCallback(()=>{g?N():(window.clearTimeout(m.current),m.current=0)},[N,g]),onOpen:w,onClose:N,disableHoverableContent:g,children:n})}))};Xs.displayName=$s;var Qs="TooltipTrigger",Zs=t.forwardRef((e,r)=>{const{__scopeTooltip:n}=e,a=le(e,Is),i=Js(Qs,n),o=Ks(Qs,n),s=Us(n),l=bt(r,t.useRef(null),i.onTriggerChange),u=t.useRef(!1),d=t.useRef(!1),h=t.useCallback(()=>u.current=!1,[]);return t.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,ne.jsx)(Es,c(c({asChild:!0},s),{},{children:(0,ne.jsx)(Bt.button,c(c({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},a),{},{ref:l,onPointerMove:gr(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),d.current=!0))}),onPointerLeave:gr(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:gr(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:gr(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:gr(e.onBlur,i.onClose),onClick:gr(e.onClick,i.onClose)}))}))});Zs.displayName=Qs;var el="TooltipPortal",[tl,rl]=Ls(el,{forceMount:void 0}),nl=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,i=Js(el,t);return(0,ne.jsx)(tl,{scope:t,forceMount:r,children:(0,ne.jsx)(Xr,{present:r||i.open,children:(0,ne.jsx)(Jr,{asChild:!0,container:a,children:n})})})};nl.displayName=el;var al="TooltipContent",il=t.forwardRef((e,t)=>{const r=rl(al,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top"}=e,i=le(e,Fs),o=Js(al,e.__scopeTooltip);return(0,ne.jsx)(Xr,{present:n||o.open,children:o.disableHoverableContent?(0,ne.jsx)(ul,c(c({side:a},i),{},{ref:t})):(0,ne.jsx)(ol,c(c({side:a},i),{},{ref:t}))})}),ol=t.forwardRef((e,r)=>{const n=Js(al,e.__scopeTooltip),a=Ks(al,e.__scopeTooltip),i=t.useRef(null),o=bt(r,i),[s,l]=t.useState(null),{trigger:u,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=a,p=t.useCallback(()=>{l(null),f(!1)},[f]),m=t.useCallback((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},a=function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect()),i=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,a),o=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...i,...function(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}(t.getBoundingClientRect())]);l(o),f(!0)},[f]);return t.useEffect(()=>()=>p(),[p]),t.useEffect(()=>{if(u&&h){const e=e=>m(e,h),t=e=>m(e,u);return u.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[u,h,m,p]),t.useEffect(()=>{if(s){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=(null===u||void 0===u?void 0:u.contains(t))||(null===h||void 0===h?void 0:h.contains(t)),a=!function(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const e=t[i],s=t[o],l=e.x,c=e.y,u=s.x,d=s.y;c>n!==d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}(r,s);n?p():a&&(p(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,h,s,d,p]),(0,ne.jsx)(ul,c(c({},e),{},{ref:o}))}),[sl,ll]=Ls($s,{isInside:!1}),cl=Ot("TooltipContent"),ul=t.forwardRef((e,r)=>{const{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s}=e,l=le(e,Rs),u=Js(al,n),d=Us(n),{onClose:h}=u;return t.useEffect(()=>(document.addEventListener(qs,h),()=>document.removeEventListener(qs,h)),[h]),t.useEffect(()=>{if(u.trigger){const e=e=>{const t=e.target;null!==t&&void 0!==t&&t.contains(u.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,h]),(0,ne.jsx)(Mr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,ne.jsxs)(As,c(c(c({"data-state":u.stateAttribute},d),l),{},{ref:r,style:c(c({},l.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[(0,ne.jsx)(cl,{children:a}),(0,ne.jsx)(sl,{scope:n,isInside:!0,children:(0,ne.jsx)(Ms,{id:u.contentId,role:"tooltip",children:i||a})})]}))})});il.displayName=al;var dl="TooltipArrow",hl=t.forwardRef((e,t)=>{const{__scopeTooltip:r}=e,n=le(e,Bs),a=Us(r);return ll(dl,r).isInside?null:(0,ne.jsx)(Ts,c(c(c({},a),n),{},{ref:t}))});hl.displayName=dl;var fl=Gs,pl=Xs,ml=Zs,gl=nl,vl=il,yl=hl;const xl=["delayDuration"],bl=["className","sideOffset","children"];function jl(e){let{delayDuration:t=0}=e,r=le(e,xl);return(0,ne.jsx)(fl,c({"data-slot":"tooltip-provider",delayDuration:t},r))}function wl(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(jl,{children:(0,ne.jsx)(pl,c({"data-slot":"tooltip"},t))})}function Nl(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(ml,c({"data-slot":"tooltip-trigger"},t))}function Sl(e){let{className:t,sideOffset:r=0,children:n}=e,a=le(e,bl);return(0,ne.jsx)(gl,{children:(0,ne.jsxs)(vl,c(c({"data-slot":"tooltip-content",sideOffset:r,className:it("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t)},a),{},{children:[n,(0,ne.jsx)(yl,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]}))})}const kl=["defaultOpen","open","onOpenChange","className","style","children"],Cl=["side","variant","collapsible","className","children"],Ol=["className","onClick"],Pl=["className"],El=["className"],Al=["className"],Tl=["className","asChild"],Dl=["className"],_l=["className"],Ml=["className"],Il=["asChild","isActive","variant","size","tooltip","className"],Fl=t.createContext(null);function Rl(){const e=t.useContext(Fl);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function Bl(e){let{defaultOpen:r=!0,open:n,onOpenChange:a,className:i,style:o,children:s}=e,l=le(e,kl);const u=function(){const[e,r]=t.useState(void 0);return t.useEffect(()=>{const e=window.matchMedia("(max-width: ".concat(767,"px)")),t=()=>{r(window.innerWidth<768)};return e.addEventListener("change",t),r(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[d,h]=t.useState(!1),[f,p]=t.useState(r),m=null!==n&&void 0!==n?n:f,g=t.useCallback(e=>{const t="function"===typeof e?e(m):e;a?a(t):p(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[a,m]),v=t.useCallback(()=>u?h(e=>!e):g(e=>!e),[u,g,h]);t.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);const y=m?"expanded":"collapsed",x=t.useMemo(()=>({state:y,open:m,setOpen:g,isMobile:u,openMobile:d,setOpenMobile:h,toggleSidebar:v}),[y,m,g,u,d,h,v]);return(0,ne.jsx)(Fl.Provider,{value:x,children:(0,ne.jsx)(jl,{delayDuration:0,children:(0,ne.jsx)("div",c(c({"data-slot":"sidebar-wrapper",style:c({"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},o),className:it("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i)},l),{},{children:s}))})})}function Ll(e){let{side:t="left",variant:r="sidebar",collapsible:n="offcanvas",className:a,children:i}=e,o=le(e,Cl);const{isMobile:s,state:l,openMobile:u,setOpenMobile:d}=Rl();return"none"===n?(0,ne.jsx)("div",c(c({"data-slot":"sidebar",className:it("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a)},o),{},{children:i})):s?(0,ne.jsx)(ni,c(c({open:u,onOpenChange:d},o),{},{children:(0,ne.jsxs)(oi,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,ne.jsxs)(si,{className:"sr-only",children:[(0,ne.jsx)(li,{children:"Sidebar"}),(0,ne.jsx)(ci,{children:"Displays the mobile sidebar."})]}),(0,ne.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})})):(0,ne.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":"collapsed"===l?n:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[(0,ne.jsx)("div",{"data-slot":"sidebar-gap",className:it("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,ne.jsx)("div",c(c({"data-slot":"sidebar-container",className:it("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a)},o),{},{children:(0,ne.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})}))]})}function zl(e){let{className:t,onClick:r}=e,n=le(e,Ol);const{toggleSidebar:a}=Rl();return(0,ne.jsxs)(It,c(c({"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:it("size-7",t),onClick:e=>{null===r||void 0===r||r(e),a()}},n),{},{children:[(0,ne.jsx)(pr,{}),(0,ne.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]}))}function Ul(e){let{className:t}=e,r=le(e,Pl);return(0,ne.jsx)("div",c({"data-slot":"sidebar-header","data-sidebar":"header",className:it("flex flex-col gap-2 p-2",t)},r))}function Vl(e){let{className:t}=e,r=le(e,El);return(0,ne.jsx)("div",c({"data-slot":"sidebar-content","data-sidebar":"content",className:it("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t)},r))}function Wl(e){let{className:t}=e,r=le(e,Al);return(0,ne.jsx)("div",c({"data-slot":"sidebar-group","data-sidebar":"group",className:it("relative flex w-full min-w-0 flex-col p-2",t)},r))}function ql(e){let{className:t,asChild:r=!1}=e,n=le(e,Tl);const a=r?St:"div";return(0,ne.jsx)(a,c({"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:it("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t)},n))}function Hl(e){let{className:t}=e,r=le(e,Dl);return(0,ne.jsx)("div",c({"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:it("w-full text-sm",t)},r))}function Kl(e){let{className:t}=e,r=le(e,_l);return(0,ne.jsx)("ul",c({"data-slot":"sidebar-menu","data-sidebar":"menu",className:it("flex w-full min-w-0 flex-col gap-1",t)},r))}function Gl(e){let{className:t}=e,r=le(e,Ml);return(0,ne.jsx)("li",c({"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:it("group/menu-item relative",t)},r))}const $l=Dt("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Yl(e){let{asChild:t=!1,isActive:r=!1,variant:n="default",size:a="default",tooltip:i,className:o}=e,s=le(e,Il);const l=t?St:"button",{isMobile:u,state:d}=Rl(),h=(0,ne.jsx)(l,c({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":r,className:it($l({variant:n,size:a}),o)},s));return i?("string"===typeof i&&(i={children:i}),(0,ne.jsxs)(wl,{children:[(0,ne.jsx)(Nl,{asChild:!0,children:h}),(0,ne.jsx)(Sl,c({side:"right",align:"center",hidden:"collapsed"!==d||u},i))]})):h}const Jl=Gt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Xl=Gt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ql=Gt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Zl=Gt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),ec=Gt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),tc=Gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rc=Gt("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),nc=Gt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),ac=Gt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),ic=Gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oc=Gt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sc=Gt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);function lc(e){var t;let{children:r,currentPage:n,onPageChange:a}=e;const{user:i,logout:o,isManager:s}=se(),{open:l}=Rl(),c=[{title:"Dashboard",icon:Jl,id:"dashboard",badge:null},{title:"Sales",icon:Xl,id:"sales",badge:null},{title:"Orders",icon:Ql,id:"orders",badge:null},{title:"Repairs",icon:Zl,id:"repairs",badge:null}],u=[{title:"Products",icon:ec,id:"products",badge:null},{title:"Inventory",icon:ec,id:"inventory",badge:null},{title:"Product Ownership",icon:Jt,id:"product-ownership",badge:null,managerOnly:!0}],d=[{title:"Customers",icon:tc,id:"customers",badge:null},{title:"Technicians",icon:Zl,id:"technicians",badge:null},{title:"Suppliers",icon:rc,id:"suppliers",badge:null},{title:"Purchase Orders",icon:Ql,id:"purchase-orders",badge:null,managerOnly:!0}],h=[{title:"Reports",icon:Ql,id:"reports",managerOnly:!0},{title:"Cash Drawer",icon:nc,id:"cash-drawer",managerOnly:!0},{title:"Users",icon:ac,id:"users",managerOnly:!0},{title:"Settings",icon:ic,id:"settings",managerOnly:!0}],f=(e,t)=>(0,ne.jsxs)(Wl,{children:[(0,ne.jsx)(ql,{className:"text-sidebar-foreground/80",children:t}),(0,ne.jsx)(Hl,{children:(0,ne.jsx)(Kl,{children:e.filter(e=>!e.managerOnly||s).map(e=>(0,ne.jsx)(Gl,{children:(0,ne.jsxs)(Yl,{onClick:()=>a(e.id),isActive:n===e.id,className:"w-full justify-start gap-3 text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground touch-target",children:[(0,ne.jsx)(e.icon,{className:"h-5 w-5"}),(0,ne.jsx)("span",{children:e.title}),e.badge&&(0,ne.jsx)(or,{variant:e.badge.variant,className:"ml-auto text-xs",children:e.badge.text})]})},e.id))})})]});return(0,ne.jsxs)("div",{className:"flex min-h-screen w-full bg-background",children:[(0,ne.jsxs)(Ll,{className:"border-r border-sidebar-border bg-sidebar",children:[(0,ne.jsx)(Ul,{className:"border-b border-sidebar-border p-6",children:(0,ne.jsx)(tr,{size:"md",className:"text-sidebar-foreground"})}),(0,ne.jsxs)(Vl,{className:"p-4",children:[f(c,"Operations"),f(u,"Inventory"),f(d,"Management"),f(h,"Administration"),(0,ne.jsx)(fr,{className:"my-4 bg-sidebar-border"}),(0,ne.jsx)(Wl,{children:(0,ne.jsx)(Hl,{children:(0,ne.jsxs)("div",{className:"p-4 bg-sidebar-accent/50 rounded-lg",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,ne.jsx)("div",{className:"w-8 h-8 bg-sidebar-primary rounded-full flex items-center justify-center",children:(0,ne.jsx)("span",{className:"text-sm font-semibold text-sidebar-primary-foreground",children:(null===i||void 0===i||null===(t=i.fullName)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,ne.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:(null===i||void 0===i?void 0:i.fullName)||"User"}),(0,ne.jsx)("p",{className:"text-xs text-sidebar-foreground/60",children:(null===i||void 0===i?void 0:i.role)||"Role"})]})]}),(0,ne.jsxs)(It,{variant:"ghost",size:"sm",onClick:o,className:"w-full justify-start gap-2 text-sidebar-foreground hover:bg-sidebar-accent touch-target",children:[(0,ne.jsx)(oc,{className:"h-4 w-4"}),"Sign Out"]})]})})})]})]}),(0,ne.jsxs)("main",{className:"flex-1 flex flex-col transition-all duration-300 ease-in-out ".concat(l?"md:ml-[var(--sidebar-width)]":"md:ml-0"),children:[(0,ne.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 bg-card border-b border-border",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ne.jsx)(zl,{className:"touch-target"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(er,{size:"sm"}),(0,ne.jsx)("span",{className:"font-semibold text-foreground",children:"DijaGold POS"})]})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ne.jsxs)(It,{variant:"ghost",size:"sm",className:"touch-target relative",children:[(0,ne.jsx)(sc,{className:"h-5 w-5"}),(0,ne.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-destructive text-destructive-foreground text-xs rounded-full flex items-center justify-center",children:"3"})]}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground hidden sm:block",children:(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),(0,ne.jsx)(or,{variant:s?"default":"secondary",className:s?"bg-primary text-primary-foreground":"",children:null===i||void 0===i?void 0:i.role})]})]}),(0,ne.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:r})]})]})}function cc(e){return(0,ne.jsx)(Bl,{children:(0,ne.jsx)(lc,c({},e))})}const uc=Gt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dc=Gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),hc=Gt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fc=Gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),pc=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t?"EGP ".concat(r):r};function mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[r,n]=(0,t.useState)({data:e,loading:!1,error:null});return[r,{setData:(0,t.useCallback)(e=>{n(t=>c(c({},t),{},{data:e,error:null}))},[]),setLoading:(0,t.useCallback)(e=>{n(t=>c(c({},t),{},{loading:e}))},[]),setError:(0,t.useCallback)(e=>{n(t=>c(c({},t),{},{error:e,loading:!1}))},[]),reset:(0,t.useCallback)(()=>{n({data:e,loading:!1,error:null})},[e])}]}function gc(e){const[r,{setData:n,setLoading:a,setError:i,reset:o}]=mc(),s=(0,t.useCallback)(async function(){try{a(!0),i(null);const t=await e(...arguments);return n(t),t}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw i(e),t}finally{a(!1)}},[e,n,a,i]);return c(c({},r),{},{execute:s,reset:o})}function vc(){return gc(re.products.getProducts)}function yc(){return gc(re.products.createProduct)}function xc(){return gc(re.products.updateProduct)}function bc(){return gc(re.products.deleteProduct)}function jc(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.pricing.getGoldRates();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch gold rates";throw a(t),e}finally{n(!1)}},[r,n,a]),o=(0,t.useCallback)(async e=>{try{n(!0),a(null),await re.pricing.updateGoldRates(e)}catch(t){const e=t instanceof Error?t.message:"Failed to update gold rates";throw a(e),t}finally{n(!1)}},[n,a]);return c(c({},e),{},{fetchRates:i,updateRates:o})}function wc(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.pricing.getMakingCharges();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch making charges";throw a(t),e}finally{n(!1)}},[r,n,a]),o=(0,t.useCallback)(async e=>{try{n(!0),a(null),await re.pricing.updateMakingCharges(e)}catch(t){const e=t instanceof Error?t.message:"Failed to update making charges";throw a(e),t}finally{n(!1)}},[n,a]);return c(c({},e),{},{fetchCharges:i,updateCharges:o})}function Nc(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.pricing.getTaxConfigurations();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch tax configurations";throw a(t),e}finally{n(!1)}},[r,n,a]),o=(0,t.useCallback)(async e=>{try{n(!0),a(null),await re.pricing.updateTaxConfiguration(e)}catch(t){const e=t instanceof Error?t.message:"Failed to update tax configuration";throw a(e),t}finally{n(!1)}},[n,a]);return c(c({},e),{},{fetchTaxConfigurations:i,updateTaxConfiguration:o})}function Sc(){return gc(re.transactions.searchTransactions)}function kc(e){var r,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,{setData:o,setLoading:s,setError:l}]=mc({items:[],totalCount:0,pageNumber:1,pageSize:20,totalPages:0}),[u,d]=(0,t.useState)(a),h=(0,t.useRef)(u);(0,t.useEffect)(()=>{h.current=u},[u]);const f=(0,t.useCallback)(async t=>{try{s(!0),l(null);const r=t||h.current,n=await e(r);return o(n),n}catch(r){const e=r instanceof Error?r.message:"An error occurred";throw l(e),r}finally{s(!1)}},[e,o,s,l]),p=(0,t.useCallback)(e=>{d(t=>c(c({},t),e))},[]),m=(0,t.useCallback)(()=>{var e;const t=((null===(e=i.data)||void 0===e?void 0:e.pageNumber)||1)+1;p({pageNumber:t})},[null===(r=i.data)||void 0===r?void 0:r.pageNumber,p]),g=(0,t.useCallback)(()=>{var e;const t=Math.max(((null===(e=i.data)||void 0===e?void 0:e.pageNumber)||1)-1,1);p({pageNumber:t})},[null===(n=i.data)||void 0===n?void 0:n.pageNumber,p]),v=(0,t.useCallback)(e=>{p({pageNumber:Math.max(e,1)})},[p]);return(0,t.useEffect)(()=>{f()},[u]),c(c({},i),{},{params:u,fetchData:f,updateParams:p,nextPage:m,prevPage:g,setPage:v,hasNextPage:!!i.data&&i.data.pageNumber*i.data.pageSize<i.data.totalCount,hasPrevPage:!!i.data&&i.data.pageNumber>1})}function Cc(){return gc(re.customers.getCustomers)}function Oc(){return gc(re.customers.getCustomer)}function Pc(){return gc(re.customers.createCustomer)}function Ec(){return gc(re.users.createUser)}function Ac(){return gc(re.users.updateUser)}function Tc(){return gc(re.users.updateUserRoles)}function Dc(){return gc(re.users.updateUserStatus)}function _c(){return gc(re.users.getUserActivity)}function Mc(){return gc(re.users.resetPassword)}function Ic(){return gc(re.users.getUserPermissions)}function Fc(){return gc(re.users.updateUserPermissions)}function Rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kc(re.users.getUsers,c({pageNumber:1,pageSize:20,isActive:!0},e))}function Bc(){return gc(re.branches.getBranches)}function Lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kc(re.branches.getBranches,c({pageNumber:1,pageSize:20,isActive:!0},e))}function zc(){return gc(re.suppliers.getSuppliers)}function Uc(){return gc(re.suppliers.createSupplier)}function Vc(){return gc(re.suppliers.updateSupplier)}function Wc(){return gc(re.suppliers.deleteSupplier)}function qc(){return gc(re.suppliers.getSupplierProducts)}function Hc(){return gc(re.suppliers.getSupplierBalance)}function Kc(){return gc(re.suppliers.updateSupplierBalance)}function Gc(){return gc(re.suppliers.getSupplierTransactions)}function $c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kc(re.suppliers.getSuppliers,c({pageNumber:1,pageSize:20,isActive:!0},e))}function Yc(){return gc(re.inventory.getBranchInventory)}function Jc(){return gc(re.inventory.getLowStockItems)}function Xc(){return gc(re.inventory.addInventory)}function Qc(){return gc(re.inventory.adjustInventory)}function Zc(){return gc(re.inventory.transferInventory)}function eu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kc(re.inventory.getInventoryMovements,c({pageNumber:1,pageSize:20},e))}function tu(){return gc(re.reports.getDailySalesSummary)}function ru(){return gc(re.reports.getCashReconciliation)}function nu(){return gc(re.reports.getInventoryMovementReport)}function au(){return gc(re.reports.getProfitAnalysisReport)}function iu(){return gc(re.reports.getCustomerAnalysisReport)}function ou(){return gc(re.reports.getSupplierBalanceReport)}function su(){return gc(re.reports.getTaxReport)}function lu(){return gc(re.reports.getTransactionLogReport)}function cu(){return gc(re.reports.getReportTypes)}function uu(){return gc(re.reports.exportToExcel)}function du(){return gc(re.reports.exportToPdf)}function hu(){return gc(re.lookups.getTransactionTypes)}function fu(){return gc(re.lookups.getPaymentMethods)}function pu(){return gc(re.lookups.getTransactionStatuses)}function mu(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.lookups.getKaratTypes();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch karat types";throw a(t),e}finally{n(!1)}},[r,n,a]);return c(c({},e),{},{fetchKaratTypes:i})}function gu(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.lookups.getProductCategoryTypes();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch product category types";throw a(t),e}finally{n(!1)}},[r,n,a]);return c(c({},e),{},{fetchCategories:i})}function vu(){const[e,{setData:r,setLoading:n,setError:a}]=mc([]),i=(0,t.useCallback)(async()=>{try{n(!0),a(null);const e=await re.lookups.getChargeTypes();return r(e),e}catch(e){const t=e instanceof Error?e.message:"Failed to fetch charge types";throw a(t),e}finally{n(!1)}},[r,n,a]);return c(c({},e),{},{fetchChargeTypes:i})}function yu(){return gc(re.orders.createSaleOrder)}function xu(){return gc(re.orders.searchOrders)}function bu(e){let{onNavigate:r}=e;const{user:n,isManager:a,isLoading:i}=se(),{data:o,loading:s,error:l,fetchRates:c}=jc(),{execute:u,loading:d}=tu(),{execute:h,loading:f}=lu(),{data:p,execute:m}=hu(),{execute:g,loading:v}=Jc(),[y,x]=t.useState({sales:{count:0,amount:0},repairs:{count:0,amount:0},lowStock:0}),[b,j]=t.useState([]),[w,N]=t.useState(!0),[S,k]=t.useState([]),[C,O]=t.useState([]),[P,E]=t.useState([]),[A,T]=t.useState(!1),D=t.useMemo(()=>{if(!o||0===o.length)return{};const e={};return o.forEach(t=>{if(!t.karatType)return void console.warn("Skipping gold rate with undefined karatType:",t);const r="".concat(t.karatType,"k"),n=.001*t.ratePerGram;e[r]={rate:t.ratePerGram,change:n,changePercent:.1}}),e},[o]);t.useEffect(()=>{n?(async()=>{try{var e,t,r,a;N(!0);const o=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0")+"-"+String((new Date).getDate()).padStart(2,"0"),s=(null===n||void 0===n||null===(e=n.branch)||void 0===e?void 0:e.id)||1;console.log("Fetching dashboard data for branch:",s,"date:",o),await m(),await c();const l=await u(s,o);console.log("Daily sales data received:",l);const d=await g(s);console.log("Low stock items data received:",d);const f=null!==(t=null===l||void 0===l?void 0:l.transactionCount)&&void 0!==t?t:0,v=null!==(r=null===l||void 0===l?void 0:l.totalSales)&&void 0!==r?r:0,y=null!==(a=null===d||void 0===d?void 0:d.length)&&void 0!==a?a:0;console.log("Processed sales data:",{transactionCount:f,totalSales:v}),console.log("Low stock count:",y),x({sales:{count:f,amount:v},repairs:{count:0,amount:0},lowStock:y});try{T(!0);const[e,t,r]=await Promise.all([Z.getOwnershipAlerts(s),Z.getLowOwnershipProducts(.5),Z.getProductsWithOutstandingPayments()]);k(e),O(t),E(r)}catch(i){console.error("Failed to load ownership data:",i)}finally{T(!1)}const b=await h(s,o);console.log("Transaction log data received:",b);const w=(null===b||void 0===b?void 0:b.transactions)||[];console.log("Transactions array:",w),console.log("Transaction count:",w.length),console.log("Transaction statuses:",w.map(e=>({number:e.transactionNumber,status:e.status,type:typeof e.status})));const S=w.slice(0,5).map(e=>{const t={type:(e=>{if("string"===typeof e){const t=parseInt(e);if(!isNaN(t)){const r=null===p||void 0===p?void 0:p.find(e=>e.value===t),n=r?r.displayName.toLowerCase():e.toLowerCase();return"sale"===n||"repair"===n?n:"sale"}const r=e.toLowerCase();return"sale"===r||"repair"===r?r:"sale"}if("number"===typeof e){const t=null===p||void 0===p?void 0:p.find(t=>t.value===e),r=t?t.displayName.toLowerCase():"sale";return"sale"===r||"repair"===r?r:"sale"}return"sale"})(e.transactionType),id:e.transactionNumber||"N/A",amount:e.totalAmount||0,time:new Date(e.transactionDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return console.log("Processed activity:",t),t});console.log("Final activities array:",S),j(S)}catch(i){console.error("Failed to fetch dashboard data:",i),x({sales:{count:0,amount:0},repairs:{count:0,amount:0},lowStock:0}),j([])}finally{N(!1)}})():i||N(!1)},[n,i,u,h,g]);const _=e=>{switch(e){case"sale":return(0,ne.jsx)(Xl,{className:"h-4 w-4 text-green-600"});case"repair":return(0,ne.jsx)(Zl,{className:"h-4 w-4 text-blue-600"});default:return(0,ne.jsx)(ec,{className:"h-4 w-4"})}};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("h1",{className:"text-3xl text-[#0D1B2A]",children:["Good ",(new Date).getHours()<12?"Morning":(new Date).getHours()<17?"Afternoon":"Evening",", ",null===n||void 0===n?void 0:n.fullName]}),(0,ne.jsxs)("p",{className:"text-muted-foreground",children:["Here's what's happening at your store today.",(w||v)&&(0,ne.jsxs)("span",{className:"ml-2 text-sm text-blue-600",children:[(0,ne.jsx)(uc,{className:"inline h-4 w-4 animate-spin mr-1"}),"Loading data..."]})]})]}),(0,ne.jsx)("div",{className:"flex gap-3",children:(0,ne.jsxs)(It,{className:"touch-target",variant:"golden",onClick:()=>null===r||void 0===r?void 0:r("sales"),children:[(0,ne.jsx)(Xl,{className:"mr-2 h-4 w-4"}),"New Sale"]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(dc,{className:"h-5 w-5 text-[#D4AF37]"}),"Today's Gold Rates",s&&(0,ne.jsx)("div",{className:"animate-pulse h-4 w-4 bg-[#D4AF37] rounded-full"})]}),(0,ne.jsx)(pt,{children:l?(0,ne.jsx)("span",{className:"text-red-600",children:"Failed to load rates - showing cached data"}):"Current market rates per gram in Egyptian Pounds"})]}),(0,ne.jsx)(mt,{children:s&&!o?(0,ne.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,ne.jsx)("div",{className:"p-4 bg-gradient-to-br from-[#D4AF37]/10 to-[#D4AF37]/5 rounded-lg border border-[#D4AF37]/20",children:(0,ne.jsxs)("div",{className:"animate-pulse",children:[(0,ne.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,ne.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,ne.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})},e))}):(0,ne.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(D).map(e=>{let[t,r]=e;return(0,ne.jsxs)("div",{className:"p-4 bg-gradient-to-br from-[#D4AF37]/10 to-[#D4AF37]/5 rounded-lg border border-[#D4AF37]/20",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ne.jsx)("h3",{className:"font-semibold text-[#0D1B2A]",children:t.toUpperCase()}),(0,ne.jsxs)(or,{variant:r.change>=0?"default":"destructive",className:"text-xs",children:[r.change>=0?"+":"",r.changePercent.toFixed(2),"%"]})]}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:pc(r.rate)}),(0,ne.jsxs)("p",{className:"text-sm ".concat(r.change>=0?"text-green-600":"text-red-600"),children:[r.change>=0?"+":"",pc(Math.abs(r.change))]})]},t)})})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ne.jsxs)(dt,{className:"pos-card cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>null===r||void 0===r?void 0:r("sales"),children:[(0,ne.jsxs)(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,ne.jsx)(ft,{className:"text-sm",children:"Today's Sales"}),(0,ne.jsx)(Xl,{className:"h-4 w-4 text-[#D4AF37]"})]}),(0,ne.jsx)(mt,{children:w?(0,ne.jsxs)("div",{className:"animate-pulse",children:[(0,ne.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,ne.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"text-2xl text-[#0D1B2A]",children:y.sales.count}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:[pc(y.sales.amount)," total"]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>null===r||void 0===r?void 0:r("repairs"),children:[(0,ne.jsxs)(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,ne.jsx)(ft,{className:"text-sm",children:"Repairs"}),(0,ne.jsx)(Zl,{className:"h-4 w-4 text-blue-600"})]}),(0,ne.jsx)(mt,{children:w?(0,ne.jsxs)("div",{className:"animate-pulse",children:[(0,ne.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,ne.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"text-2xl text-[#0D1B2A]",children:y.repairs.count}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:[pc(y.repairs.amount)," total"]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>null===r||void 0===r?void 0:r("inventory"),children:[(0,ne.jsxs)(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,ne.jsx)(ft,{className:"text-sm",children:"Low Stock"}),(0,ne.jsx)(hc,{className:"h-4 w-4 text-red-600"})]}),(0,ne.jsx)(mt,{children:w||v?(0,ne.jsxs)("div",{className:"animate-pulse",children:[(0,ne.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,ne.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"text-2xl text-[#0D1B2A]",children:y.lowStock}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items need restocking"})]})})]})]}),(S.length>0||C.length>0||P.length>0)&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-orange-500"}),"Ownership Alerts"]}),(0,ne.jsx)(pt,{children:"Products requiring attention due to ownership issues"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"space-y-4",children:[S.slice(0,3).map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-orange-50",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-orange-500"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-medium text-sm",children:e.productName}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:e.message})]})]}),(0,ne.jsx)(or,{variant:"outline",className:"high"===e.severity.toLowerCase()?"bg-red-100 text-red-800":"medium"===e.severity.toLowerCase()?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:e.severity})]},"alert-".concat(t))),C.slice(0,2).map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-red-50",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)(ec,{className:"h-5 w-5 text-red-500"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-medium text-sm",children:e.productName}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Low ownership: ",e.ownershipPercentage.toFixed(1),"%"]})]})]}),(0,ne.jsx)(or,{variant:"outline",className:"bg-red-100 text-red-800",children:"Low Ownership"})]},"low-".concat(t))),P.slice(0,2).map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)(fc,{className:"h-5 w-5 text-yellow-600"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-medium text-sm",children:e.productName}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Outstanding: ",pc(e.outstandingAmount)]})]})]}),(0,ne.jsx)(or,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Payment Due"})]},"outstanding-".concat(t))),(S.length>3||C.length>2||P.length>2)&&(0,ne.jsx)("div",{className:"pt-2",children:(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"w-full",onClick:()=>null===r||void 0===r?void 0:r("product-ownership"),children:"View All Ownership Issues"})})]})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Recent Activities"}),(0,ne.jsx)(pt,{children:"Latest transactions and updates"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)("div",{className:"space-y-4",children:b.map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-muted/50 rounded-lg",children:[_(e.type),(0,ne.jsxs)("div",{className:"flex-1",children:[(0,ne.jsx)("p",{className:"text-sm",children:e.id}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]}),(0,ne.jsx)("div",{className:"text-right",children:(0,ne.jsx)("p",{className:"text-sm",children:pc(e.amount)})})]},t))})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Quick Actions"}),(0,ne.jsx)(pt,{children:"Frequently used operations"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)(It,{variant:"outline",className:"touch-target h-20 flex-col gap-2",onClick:()=>null===r||void 0===r?void 0:r("sales"),children:[(0,ne.jsx)(Xl,{className:"h-6 w-6"}),"New Sale"]}),(0,ne.jsxs)(It,{variant:"outline",className:"touch-target h-20 flex-col gap-2",onClick:()=>null===r||void 0===r?void 0:r("inventory"),children:[(0,ne.jsx)(ec,{className:"h-6 w-6"}),"Check Inventory"]}),(0,ne.jsxs)(It,{variant:"outline",className:"touch-target h-20 flex-col gap-2",onClick:()=>null===r||void 0===r?void 0:r("customers"),children:[(0,ne.jsx)(tc,{className:"h-6 w-6"}),"Find Customer"]}),a&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(It,{variant:"outline",className:"touch-target h-20 flex-col gap-2",onClick:()=>null===r||void 0===r?void 0:r("reports"),children:[(0,ne.jsx)(dc,{className:"h-6 w-6"}),"Daily Report"]}),(0,ne.jsxs)(It,{variant:"outline",className:"touch-target h-20 flex-col gap-2",onClick:()=>null===r||void 0===r?void 0:r("settings"),children:[(0,ne.jsx)(fc,{className:"h-6 w-6"}),"Update Rates"]})]})]})})]})]})]})}function ju(e,t){let[r,n]=t;return Math.min(n,Math.max(r,e))}function wu(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function Nu(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function Su(e,t){return e.get(Nu(e,t))}function ku(e,t,r){return e.set(Nu(e,t),r),r}var Cu;const Ou=["scope","children"];function Pu(e){const r=e+"CollectionProvider",[n,a]=xr(r),[i,o]=n(r,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:r,children:n}=e,a=t.useRef(null),o=t.useRef(new Map).current;return(0,ne.jsx)(i,{scope:r,itemMap:o,collectionRef:a,children:n})};s.displayName=r;const l=e+"CollectionSlot",u=Nt(l),d=t.forwardRef((e,t)=>{const{scope:r,children:n}=e,a=bt(t,o(l,r).collectionRef);return(0,ne.jsx)(u,{ref:a,children:n})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Nt(h),m=t.forwardRef((e,r)=>{const{scope:n,children:a}=e,i=le(e,Ou),s=t.useRef(null),l=bt(r,s),u=o(h,n);return t.useEffect(()=>(u.itemMap.set(s,c({ref:s},i)),()=>{u.itemMap.delete(s)})),(0,ne.jsx)(p,c(c({},{[f]:""}),{},{ref:l,children:a}))});return m.displayName=h,[{Provider:s,Slot:d,ItemSlot:m},function(r){const n=o(e+"CollectionConsumer",r),a=t.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(f,"]"))),r=Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current));return r},[n.collectionRef,n.itemMap]);return a},a]}var Eu=new WeakMap;Cu=new WeakMap,Map;function Au(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const r=function(e,t){const r=e.length,n=Tu(t),a=n>=0?n:r+n;return a<0||a>=r?-1:a}(e,t);return-1===r?void 0:e[r]}function Tu(e){return e!==e||0===e?0:Math.trunc(e)}var Du=t.createContext(void 0);function _u(e){const r=t.useContext(Du);return e||r||"ltr"}function Mu(e){const r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const Iu=["__scopeSelect","disabled"],Fu=["__scopeSelect","className","style","children","placeholder"],Ru=["__scopeSelect","children"],Bu=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],Lu=["__scopeSelect","onPlaced"],zu=["__scopeSelect","align","collisionPadding"],Uu=["__scopeSelect","nonce"],Vu=["__scopeSelect"],Wu=["__scopeSelect"],qu=["__scopeSelect","value","disabled","textValue"],Hu=["__scopeSelect","className","style"],Ku=["__scopeSelect"],Gu=["__scopeSelect","onAutoScroll"],$u=["__scopeSelect"],Yu=["__scopeSelect"],Ju=["__scopeSelect","value"];var Xu=[" ","Enter","ArrowUp","ArrowDown"],Qu=[" ","Enter"],Zu="Select",[ed,td,rd]=Pu(Zu),[nd,ad]=xr(Zu,[rd,hs]),id=hs(),[od,sd]=nd(Zu),[ld,cd]=nd(Zu),ud=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=id(r),[y,x]=t.useState(null),[b,j]=t.useState(null),[w,N]=t.useState(!1),S=_u(d),[k,C]=Cr({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:Zu}),[O,P]=Cr({prop:s,defaultProp:l,onChange:u,caller:Zu}),E=t.useRef(null),A=!y||(g||!!y.closest("form")),[T,D]=t.useState(new Set),_=Array.from(T).map(e=>e.props.value).join(";");return(0,ne.jsx)(Ps,c(c({},v),{},{children:(0,ne.jsxs)(od,{required:m,scope:r,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Sr(),value:O,onValueChange:P,open:k,onOpenChange:C,dir:S,triggerPointerDownPosRef:E,disabled:p,children:[(0,ne.jsx)(ed.Provider,{scope:r,children:(0,ne.jsx)(ld,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{D(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:n})}),A?(0,ne.jsxs)(Qd,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:O,onChange:e=>P(e.target.value),disabled:p,form:g,children:[void 0===O?(0,ne.jsx)("option",{value:""}):null,Array.from(T)]},_):null]})}))};ud.displayName=Zu;var dd="SelectTrigger",hd=t.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1}=e,i=le(e,Iu),o=id(n),s=sd(dd,n),l=s.disabled||a,u=bt(r,s.onTriggerChange),d=td(n),h=t.useRef("touch"),[f,p,m]=eh(e=>{const t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===s.value),n=th(t,e,r);void 0!==n&&s.onValueChange(n.value)}),g=e=>{l||(s.onOpenChange(!0),m()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,ne.jsx)(Es,c(c({asChild:!0},o),{},{children:(0,ne.jsx)(Bt.button,c(c({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zd(s.value)?"":void 0},i),{},{ref:u,onClick:gr(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&g(e)}),onPointerDown:gr(i.onPointerDown,e=>{h.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:gr(i.onKeyDown,e=>{const t=""!==f.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),t&&" "===e.key||Xu.includes(e.key)&&(g(),e.preventDefault())})}))}))});hd.displayName=dd;var fd="SelectValue",pd=t.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o=""}=e,s=le(e,Fu),l=sd(fd,r),{onValueNodeHasChildrenChange:u}=l,d=void 0!==i,h=bt(t,l.onValueNodeChange);return jr(()=>{u(d)},[u,d]),(0,ne.jsx)(Bt.span,c(c({},s),{},{ref:h,style:{pointerEvents:"none"},children:Zd(l.value)?(0,ne.jsx)(ne.Fragment,{children:o}):i}))});pd.displayName=fd;var md=t.forwardRef((e,t)=>{const{__scopeSelect:r,children:n}=e,a=le(e,Ru);return(0,ne.jsx)(Bt.span,c(c({"aria-hidden":!0},a),{},{ref:t,children:n||"\u25bc"}))});md.displayName="SelectIcon";var gd=e=>(0,ne.jsx)(Jr,c({asChild:!0},e));gd.displayName="SelectPortal";var vd="SelectContent",yd=t.forwardRef((e,r)=>{const n=sd(vd,e.__scopeSelect),[a,i]=t.useState();if(jr(()=>{i(new DocumentFragment)},[]),!n.open){const t=a;return t?Ft.createPortal((0,ne.jsx)(bd,{scope:e.__scopeSelect,children:(0,ne.jsx)(ed.Slot,{scope:e.__scopeSelect,children:(0,ne.jsx)("div",{children:e.children})})}),t):null}return(0,ne.jsx)(Nd,c(c({},e),{},{ref:r}))});yd.displayName=vd;var xd=10,[bd,jd]=nd(vd),wd=Nt("SelectContent.RemoveScroll"),Nd=t.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y}=e,x=le(e,Bu),b=sd(vd,n),[j,w]=t.useState(null),[N,S]=t.useState(null),k=bt(r,e=>w(e)),[C,O]=t.useState(null),[P,E]=t.useState(null),A=td(n),[T,D]=t.useState(!1),_=t.useRef(!1);t.useEffect(()=>{if(j)return ta(j)},[j]),en();const M=t.useCallback(e=>{const[t,...r]=A().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(null===i||void 0===i||i.scrollIntoView({block:"nearest"}),i===t&&N&&(N.scrollTop=0),i===n&&N&&(N.scrollTop=N.scrollHeight),null===i||void 0===i||i.focus(),document.activeElement!==a)return}},[A,N]),I=t.useCallback(()=>M([C,j]),[M,C,j]);t.useEffect(()=>{T&&I()},[T,I]);const{onOpenChange:F,triggerPointerDownPosRef:R}=b;t.useEffect(()=>{if(j){let e={x:0,y:0};const t=t=>{var r,n,a,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=R.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(i=R.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||F(!1),document.removeEventListener("pointermove",t),R.current=null};return null!==R.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,F,R]),t.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[B,L]=eh(e=>{const t=A().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=th(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),z=t.useCallback((e,t,r)=>{const n=!_.current&&!r;(void 0!==b.value&&b.value===t||n)&&(O(e),n&&(_.current=!0))},[b.value]),U=t.useCallback(()=>null===j||void 0===j?void 0:j.focus(),[j]),V=t.useCallback((e,t,r)=>{const n=!_.current&&!r;(void 0!==b.value&&b.value===t||n)&&E(e)},[b.value]),W="popper"===a?kd:Sd,q=W===kd?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return(0,ne.jsx)(bd,{scope:n,content:j,viewport:N,onViewportChange:S,itemRefCallback:z,selectedItem:C,onItemLeave:U,itemTextRefCallback:V,focusSelectedItem:I,selectedItemText:P,position:a,isPositioned:T,searchRef:B,children:(0,ne.jsx)(Gn,{as:wd,allowPinchZoom:!0,children:(0,ne.jsx)(Vr,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:gr(i,e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,ne.jsx)(Mr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,ne.jsx)(W,c(c(c({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},x),q),{},{onPlaced:()=>D(!0),ref:k,style:c({display:"flex",flexDirection:"column",outline:"none"},x.style),onKeyDown:gr(x.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=A().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>M(t)),e.preventDefault()}})}))})})})})});Nd.displayName="SelectContentImpl";var Sd=t.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a}=e,i=le(e,Lu),o=sd(vd,n),s=jd(vd,n),[l,u]=t.useState(null),[d,h]=t.useState(null),f=bt(r,e=>h(e)),p=td(n),m=t.useRef(!1),g=t.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=s,j=t.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&v&&y&&x){const e=o.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),n=x.getBoundingClientRect();if("rtl"!==o.dir){const a=n.left-t.left,i=r.left-a,o=e.left-i,s=e.width+o,c=Math.max(s,t.width),u=window.innerWidth-xd,d=ju(i,[xd,Math.max(xd,u-c)]);l.style.minWidth=s+"px",l.style.left=d+"px"}else{const a=t.right-n.right,i=window.innerWidth-r.right-a,o=window.innerWidth-e.right-i,s=e.width+o,c=Math.max(s,t.width),u=window.innerWidth-xd,d=ju(i,[xd,Math.max(xd,u-c)]);l.style.minWidth=s+"px",l.style.right=d+"px"}const i=p(),s=window.innerHeight-2*xd,c=v.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),g=parseInt(u.borderBottomWidth,10),b=h+f+c+parseInt(u.paddingBottom,10)+g,j=Math.min(5*y.offsetHeight,b),w=window.getComputedStyle(v),N=parseInt(w.paddingTop,10),S=parseInt(w.paddingBottom,10),k=e.top+e.height/2-xd,C=s-k,O=y.offsetHeight/2,P=h+f+(y.offsetTop+O),E=b-P;if(P<=k){const e=i.length>0&&y===i[i.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-v.offsetTop-v.offsetHeight,r=P+Math.max(C,O+(e?S:0)+t+g);l.style.height=r+"px"}else{const e=i.length>0&&y===i[0].ref.current;l.style.top="0px";const t=Math.max(k,h+v.offsetTop+(e?N:0)+O)+E;l.style.height=t+"px",v.scrollTop=P-k+v.offsetTop}l.style.margin="".concat(xd,"px 0"),l.style.minHeight=j+"px",l.style.maxHeight=s+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,d,v,y,x,o.dir,a]);jr(()=>j(),[j]);const[w,N]=t.useState();jr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=t.useCallback(e=>{e&&!0===g.current&&(j(),null===b||void 0===b||b(),g.current=!1)},[j,b]);return(0,ne.jsx)(Cd,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:(0,ne.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,ne.jsx)(Bt.div,c(c({},i),{},{ref:f,style:c({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});Sd.displayName="SelectItemAlignedPosition";var kd=t.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=xd}=e,i=le(e,zu),o=id(r);return(0,ne.jsx)(As,c(c(c({},o),i),{},{ref:t,align:n,collisionPadding:a,style:c(c({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});kd.displayName="SelectPopperPosition";var[Cd,Od]=nd(vd,{}),Pd="SelectViewport",Ed=t.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a}=e,i=le(e,Uu),o=jd(Pd,n),s=Od(Pd,n),l=bt(r,o.onViewportChange),u=t.useRef(0);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,ne.jsx)(ed.Slot,{scope:n,children:(0,ne.jsx)(Bt.div,c(c({"data-radix-select-viewport":"",role:"presentation"},i),{},{ref:l,style:c({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:gr(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(null!==n&&void 0!==n&&n.current&&r){const e=Math.abs(u.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*xd,a=parseFloat(r.style.minHeight),i=parseFloat(r.style.height),o=Math.max(a,i);if(o<n){const a=o+e,i=Math.min(n,a),s=a-i;r.style.height=i+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});Ed.displayName=Pd;var Ad="SelectGroup",[Td,Dd]=nd(Ad),_d=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=le(e,Vu),a=Sr();return(0,ne.jsx)(Td,{scope:r,id:a,children:(0,ne.jsx)(Bt.div,c(c({role:"group","aria-labelledby":a},n),{},{ref:t}))})});_d.displayName=Ad;var Md="SelectLabel",Id=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=le(e,Wu),a=Dd(Md,r);return(0,ne.jsx)(Bt.div,c(c({id:a.id},n),{},{ref:t}))});Id.displayName=Md;var Fd="SelectItem",[Rd,Bd]=nd(Fd),Ld=t.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:i=!1,textValue:o}=e,s=le(e,qu),l=sd(Fd,n),u=jd(Fd,n),d=l.value===a,[h,f]=t.useState(null!==o&&void 0!==o?o:""),[p,m]=t.useState(!1),g=bt(r,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,a,i)}),v=Sr(),y=t.useRef("touch"),x=()=>{i||(l.onValueChange(a),l.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,ne.jsx)(Rd,{scope:n,value:a,disabled:i,textId:v,isSelected:d,onItemTextChange:t.useCallback(e=>{f(t=>{var r;return t||(null!==(r=null===e||void 0===e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[]),children:(0,ne.jsx)(ed.ItemSlot,{scope:n,value:a,disabled:i,textValue:h,children:(0,ne.jsx)(Bt.div,c(c({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s),{},{ref:g,onFocus:gr(s.onFocus,()=>m(!0)),onBlur:gr(s.onBlur,()=>m(!1)),onClick:gr(s.onClick,()=>{"mouse"!==y.current&&x()}),onPointerUp:gr(s.onPointerUp,()=>{"mouse"===y.current&&x()}),onPointerDown:gr(s.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:gr(s.onPointerMove,e=>{var t;(y.current=e.pointerType,i)?null===(t=u.onItemLeave)||void 0===t||t.call(u):"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gr(s.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=u.onItemLeave)||void 0===t||t.call(u))}),onKeyDown:gr(s.onKeyDown,e=>{var t;""!==(null===(t=u.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Qu.includes(e.key)&&x()," "===e.key&&e.preventDefault())})}))})})});Ld.displayName=Fd;var zd="SelectItemText",Ud=t.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:i}=e,o=le(e,Hu),s=sd(zd,n),l=jd(zd,n),u=Bd(zd,n),d=cd(zd,n),[h,f]=t.useState(null),p=bt(r,e=>f(e),u.onItemTextChange,e=>{var t;return null===(t=l.itemTextRefCallback)||void 0===t?void 0:t.call(l,e,u.value,u.disabled)}),m=null===h||void 0===h?void 0:h.textContent,g=t.useMemo(()=>(0,ne.jsx)("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return jr(()=>(v(g),()=>y(g)),[v,y,g]),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Bt.span,c(c({id:u.textId},o),{},{ref:p})),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ft.createPortal(o.children,s.valueNode):null]})});Ud.displayName=zd;var Vd="SelectItemIndicator",Wd=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=le(e,Ku);return Bd(Vd,r).isSelected?(0,ne.jsx)(Bt.span,c(c({"aria-hidden":!0},n),{},{ref:t})):null});Wd.displayName=Vd;var qd="SelectScrollUpButton",Hd=t.forwardRef((e,r)=>{const n=jd(qd,e.__scopeSelect),a=Od(qd,e.__scopeSelect),[i,o]=t.useState(!1),s=bt(r,a.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,ne.jsx)($d,c(c({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Hd.displayName=qd;var Kd="SelectScrollDownButton",Gd=t.forwardRef((e,r)=>{const n=jd(Kd,e.__scopeSelect),a=Od(Kd,e.__scopeSelect),[i,o]=t.useState(!1),s=bt(r,a.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;o(r)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,ne.jsx)($d,c(c({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Gd.displayName=Kd;var $d=t.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a}=e,i=le(e,Gu),o=jd("SelectScrollButton",n),s=t.useRef(null),l=td(n),u=t.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return t.useEffect(()=>()=>u(),[u]),jr(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[l]),(0,ne.jsx)(Bt.div,c(c({"aria-hidden":!0},i),{},{ref:r,style:c({flexShrink:0},i.style),onPointerDown:gr(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(a,50))}),onPointerMove:gr(i.onPointerMove,()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===s.current&&(s.current=window.setInterval(a,50))}),onPointerLeave:gr(i.onPointerLeave,()=>{u()})}))}),Yd=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=le(e,$u);return(0,ne.jsx)(Bt.div,c(c({"aria-hidden":!0},n),{},{ref:t}))});Yd.displayName="SelectSeparator";var Jd="SelectArrow",Xd=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=le(e,Yu),a=id(r),i=sd(Jd,r),o=jd(Jd,r);return i.open&&"popper"===o.position?(0,ne.jsx)(Ts,c(c(c({},a),n),{},{ref:t})):null});Xd.displayName=Jd;var Qd=t.forwardRef((e,r)=>{let{__scopeSelect:n,value:a}=e,i=le(e,Ju);const o=t.useRef(null),s=bt(r,o),l=Mu(a);return t.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==a&&r){const t=new Event("change",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[l,a]),(0,ne.jsx)(Bt.select,c(c({},i),{},{style:c(c({},Ds),i.style),ref:s,defaultValue:a}))});function Zd(e){return""===e||void 0===e}function eh(e){const r=Or(e),n=t.useRef(""),a=t.useRef(0),i=t.useCallback(e=>{const t=n.current+e;r(t),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[r]),o=t.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,i,o]}function th(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(a,0));1===n.length&&(i=i.filter(e=>e!==r));const o=i.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}Qd.displayName="SelectBubbleInput";var rh=ud,nh=hd,ah=pd,ih=md,oh=gd,sh=yd,lh=Ed,ch=Ld,uh=Ud,dh=Wd,hh=Hd,fh=Gd;const ph=Gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mh=Gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),gh=Gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vh=["className","size","children"],yh=["className","children","position"],xh=["className","children"],bh=["className"],jh=["className"];function wh(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(rh,c({"data-slot":"select"},t))}function Nh(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(ah,c({"data-slot":"select-value"},t))}function Sh(e){let{className:t,size:r="default",children:n}=e,a=le(e,vh);return(0,ne.jsxs)(nh,c(c({"data-slot":"select-trigger","data-size":r,className:it("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-white dark:bg-[#1A2B3A] px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},a),{},{children:[n,(0,ne.jsx)(ih,{asChild:!0,children:(0,ne.jsx)(ph,{className:"size-4 opacity-50"})})]}))}function kh(e){let{className:t,children:r,position:n="popper"}=e,a=le(e,yh);return(0,ne.jsx)(oh,{children:(0,ne.jsxs)(sh,c(c({"data-slot":"select-content",className:it("bg-white dark:bg-[#1A2B3A] text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n},a),{},{children:[(0,ne.jsx)(Oh,{}),(0,ne.jsx)(lh,{className:it("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,ne.jsx)(Ph,{})]}))})}function Ch(e){let{className:t,children:r}=e,n=le(e,xh);return(0,ne.jsxs)(ch,c(c({"data-slot":"select-item",className:it("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t)},n),{},{children:[(0,ne.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,ne.jsx)(dh,{children:(0,ne.jsx)(mh,{className:"size-4"})})}),(0,ne.jsx)(uh,{children:r})]}))}function Oh(e){let{className:t}=e,r=le(e,bh);return(0,ne.jsx)(hh,c(c({"data-slot":"select-scroll-up-button",className:it("flex cursor-default items-center justify-center py-1",t)},r),{},{children:(0,ne.jsx)(gh,{className:"size-4"})}))}function Ph(e){let{className:t}=e,r=le(e,jh);return(0,ne.jsx)(fh,c(c({"data-slot":"select-scroll-down-button",className:it("flex cursor-default items-center justify-center py-1",t)},r),{},{children:(0,ne.jsx)(ph,{className:"size-4"})}))}const Eh=["className"],Ah=["className"],Th=["className"],Dh=["className"],_h=["className"],Mh=["className"];function Ih(e){let{className:t}=e,r=le(e,Eh);return(0,ne.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,ne.jsx)("table",c({"data-slot":"table",className:it("w-full caption-bottom text-sm",t)},r))})}function Fh(e){let{className:t}=e,r=le(e,Ah);return(0,ne.jsx)("thead",c({"data-slot":"table-header",className:it("[&_tr]:border-b",t)},r))}function Rh(e){let{className:t}=e,r=le(e,Th);return(0,ne.jsx)("tbody",c({"data-slot":"table-body",className:it("[&_tr:last-child]:border-0",t)},r))}function Bh(e){let{className:t}=e,r=le(e,Dh);return(0,ne.jsx)("tr",c({"data-slot":"table-row",className:it("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t)},r))}function Lh(e){let{className:t}=e,r=le(e,_h);return(0,ne.jsx)("th",c({"data-slot":"table-head",className:it("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},r))}function zh(e){let{className:t}=e,r=le(e,Mh);return(0,ne.jsx)("td",c({"data-slot":"table-cell",className:it("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},r))}const Uh=["className"],Vh=["className","children"],Wh=["className"],qh=["className"],Hh=["className"];function Kh(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(Wa,c({"data-slot":"dialog"},t))}const Gh=t.forwardRef((e,t)=>(0,ne.jsx)(qa,c({ref:t,"data-slot":"dialog-trigger"},e)));function $h(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(Ha,c({"data-slot":"dialog-portal"},t))}Gh.displayName="DialogTrigger";t.forwardRef((e,t)=>(0,ne.jsx)(Ja,c({ref:t,"data-slot":"dialog-close"},e))).displayName="DialogClose";const Yh=t.forwardRef((e,t)=>{let{className:r}=e,n=le(e,Uh);return(0,ne.jsx)(Ka,c({ref:t,"data-slot":"dialog-overlay",className:it("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r)},n))});Yh.displayName="DialogOverlay";const Jh=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=le(e,Vh);return(0,ne.jsxs)($h,{"data-slot":"dialog-portal",children:[(0,ne.jsx)(Yh,{}),(0,ne.jsxs)(Ga,c(c({ref:t,"data-slot":"dialog-content",className:it("bg-white dark:bg-[#1A2B3A] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r)},a),{},{children:[n,(0,ne.jsxs)(Ja,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,ne.jsx)(Xa,{}),(0,ne.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});function Xh(e){let{className:t}=e,r=le(e,Wh);return(0,ne.jsx)("div",c({"data-slot":"dialog-header",className:it("flex flex-col gap-2 text-center sm:text-left",t)},r))}function Qh(e){let{className:t}=e,r=le(e,qh);return(0,ne.jsx)($a,c({"data-slot":"dialog-title",className:it("text-lg leading-none font-semibold",t)},r))}function Zh(e){let{className:t}=e,r=le(e,Hh);return(0,ne.jsx)(Ya,c({"data-slot":"dialog-description",className:it("text-muted-foreground text-sm",t)},r))}Jh.displayName="DialogContent";const ef=Gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),tf=Gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rf=Gt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),nf=Gt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),af=Gt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),of=Gt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),sf=Gt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),lf=Gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),cf=Gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),uf=Gt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);function df(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(!t||0===t.length)return{goldValue:0,makingChargesAmount:0,totalPrice:0,goldRate:0,makingChargesRate:void 0,makingChargesType:void 0,discountAmount:0,subtotal:0,taxableAmount:0,totalTaxAmount:0,finalTotal:0};const o=t.find(t=>t.karatType===e.karatType&&null==t.effectiveTo);if(!o)return{goldValue:0,makingChargesAmount:0,totalPrice:0,goldRate:0,makingChargesRate:void 0,makingChargesType:void 0,discountAmount:0,subtotal:0,taxableAmount:0,totalTaxAmount:0,finalTotal:0};const s=o.ratePerGram,l=e.weight*n*s;let c,u,d=0;if(e.makingChargesApplicable)if(e.useProductMakingCharges&&e.productMakingChargesTypeId&&e.productMakingChargesValue){const t=e.productMakingChargesTypeId;c=e.productMakingChargesValue,u=1===t?"percentage":"fixed",d=1===t?l*(e.productMakingChargesValue/100):e.productMakingChargesValue*n}else{let t=r.find(t=>t.productCategory===e.categoryType&&t.subCategory===e.subCategory&&null==t.effectiveTo);t||(t=r.find(t=>t.productCategory===e.categoryType&&!t.subCategory&&null==t.effectiveTo)),t&&(c=t.chargeValue,u=1===t.chargeType?"percentage":"fixed",d=1===t.chargeType?l*(t.chargeValue/100):t.chargeValue*n)}let h=0;a&&(a.defaultDiscountPercentage&&a.defaultDiscountPercentage>0&&!a.makingChargesWaived&&(h=(l+d)*(a.defaultDiscountPercentage/100)),a.makingChargesWaived&&(h+=d),h>d&&(console.warn("Customer discount ".concat(h.toFixed(2)," exceeds making charges ").concat(d.toFixed(2),". Capping discount to making charges amount.")),h=d));const f=l+d,p=f-h;let m=0;if(i){i.filter(e=>e.isMandatory&&e.isCurrent).forEach(e=>{1===e.taxType?m+=p*(e.taxRate/100):m+=e.taxRate*n})}return{goldValue:l,makingChargesAmount:d,totalPrice:p,goldRate:s,makingChargesRate:c,makingChargesType:u,discountAmount:h,subtotal:f,taxableAmount:p,totalTaxAmount:m,finalTotal:p+m}}async function hf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;try{return await re.products.getProductPricing(e,t,r)}catch(n){throw console.error("Error fetching pricing from API:",n),n}}const ff=Gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),pf=["message"];var mf=Array(12).fill(0),gf=e=>{let{visible:r,className:n}=e;return t.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":r},t.createElement("div",{className:"sonner-spinner"},mf.map((e,r)=>t.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(r)}))))},vf=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yf=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xf=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bf=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jf=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},t.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wf=1,Nf=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r}=e,n=le(e,pf),a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:wf++,i=this.toasts.find(e=>e.id===a),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(t=>t.id===a?(this.publish(c(c(c({},t),e),{},{id:a,title:r})),c(c(c({},t),e),{},{id:a,dismissible:o,title:r})):t):this.addToast(c(c({title:r},n),{},{dismissible:o,id:a})),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create(c(c({},t),{},{message:e})),this.error=(e,t)=>this.create(c(c({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(c(c({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(c(c({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(c(c({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(c(c({},t),{},{type:"loading",message:e})),this.promise=(e,r)=>{if(!r)return;let n;void 0!==r.loading&&(n=this.create(c(c({},r),{},{promise:e,type:"loading",message:r.loading,description:"function"!=typeof r.description?r.description:void 0})));let a,i=e instanceof Promise?e:e(),o=void 0!==n,s=i.then(async e=>{if(a=["resolve",e],t.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(Sf(e)&&!e.ok){o=!1;let t="function"==typeof r.error?await r.error("HTTP error! status: ".concat(e.status)):r.error,a="function"==typeof r.description?await r.description("HTTP error! status: ".concat(e.status)):r.description;this.create({id:n,type:"error",message:t,description:a})}else if(void 0!==r.success){o=!1;let t="function"==typeof r.success?await r.success(e):r.success,a="function"==typeof r.description?await r.description(e):r.description;this.create({id:n,type:"success",message:t,description:a})}}).catch(async e=>{if(a=["reject",e],void 0!==r.error){o=!1;let t="function"==typeof r.error?await r.error(e):r.error,a="function"==typeof r.description?await r.description(e):r.description;this.create({id:n,type:"error",message:t,description:a})}}).finally(()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=r.finally)||e.call(r)}),l=()=>new Promise((e,t)=>s.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||wf++;return this.create(c({jsx:e(r),id:r},t)),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Sf=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,kf=(e,t)=>{let r=(null==t?void 0:t.id)||wf++;return Nf.addToast(c(c({title:e},t),{},{id:r})),r},Cf=Object.assign(kf,{success:Nf.success,info:Nf.info,warning:Nf.warning,error:Nf.error,custom:Nf.custom,message:Nf.message,promise:Nf.promise,dismiss:Nf.dismiss,loading:Nf.loading},{getHistory:()=>Nf.toasts,getToasts:()=>Nf.getActiveToasts()});function Of(e){return void 0!==e.label}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"undefined"==typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Pf=3,Ef=14;function Af(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}var Tf=e=>{var r,n,a,i,o,s,l,u,d,h,f;let{invert:p,toast:m,unstyled:g,interacting:v,setHeights:y,visibleToasts:x,heights:b,index:j,toasts:w,expanded:N,removeToast:S,defaultRichColors:k,closeButton:C,style:O,cancelButtonStyle:P,actionButtonStyle:E,className:A="",descriptionClassName:T="",duration:D,position:_,gap:M,loadingIcon:I,expandByDefault:F,classNames:R,icons:B,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:z}=e,[U,V]=t.useState(null),[W,q]=t.useState(null),[H,K]=t.useState(!1),[G,$]=t.useState(!1),[Y,J]=t.useState(!1),[X,Q]=t.useState(!1),[Z,ee]=t.useState(!1),[te,re]=t.useState(0),[ne,ae]=t.useState(0),ie=t.useRef(m.duration||D||4e3),oe=t.useRef(null),se=t.useRef(null),le=0===j,ce=j+1<=x,ue=m.type,de=!1!==m.dismissible,he=m.className||"",fe=m.descriptionClassName||"",pe=t.useMemo(()=>b.findIndex(e=>e.toastId===m.id)||0,[b,m.id]),me=t.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:C},[m.closeButton,C]),ge=t.useMemo(()=>m.duration||D||4e3,[m.duration,D]),ve=t.useRef(0),ye=t.useRef(0),xe=t.useRef(0),be=t.useRef(null),[je,we]=_.split("-"),Ne=t.useMemo(()=>b.reduce((e,t,r)=>r>=pe?e:e+t.height,0),[b,pe]),Se=(()=>{let[e,r]=t.useState(document.hidden);return t.useEffect(()=>{let e=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ke=m.invert||p,Ce="loading"===ue;ye.current=t.useMemo(()=>pe*M+Ne,[pe,Ne]),t.useEffect(()=>{ie.current=ge},[ge]),t.useEffect(()=>{K(!0)},[]),t.useEffect(()=>{let e=se.current;if(e){let t=e.getBoundingClientRect().height;return ae(t),y(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>y(e=>e.filter(e=>e.toastId!==m.id))}},[y,m.id]),t.useLayoutEffect(()=>{if(!H)return;let e=se.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,ae(r),y(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?c(c({},e),{},{height:r}):e):[{toastId:m.id,height:r,position:m.position},...e])},[H,m.title,m.description,y,m.id]);let Oe=t.useCallback(()=>{$(!0),re(ye.current),y(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{S(m)},200)},[m,S,y,ye]);return t.useEffect(()=>{if(m.promise&&"loading"===ue||m.duration===1/0||"loading"===m.type)return;let e;return N||v||z&&Se?(()=>{if(xe.current<ve.current){let e=(new Date).getTime()-ve.current;ie.current=ie.current-e}xe.current=(new Date).getTime()})():ie.current!==1/0&&(ve.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),Oe()},ie.current)),()=>clearTimeout(e)},[N,v,m,ue,z,Se,Oe]),t.useEffect(()=>{m.delete&&Oe()},[Oe,m.delete]),t.createElement("li",{tabIndex:0,ref:se,className:Af(A,he,null==R?void 0:R.toast,null==(r=null==m?void 0:m.classNames)?void 0:r.toast,null==R?void 0:R.default,null==R?void 0:R[ue],null==(n=null==m?void 0:m.classNames)?void 0:n[ue]),"data-sonner-toast":"","data-rich-colors":null!=(a=m.richColors)?a:k,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":Z,"data-removed":G,"data-visible":ce,"data-y-position":je,"data-x-position":we,"data-index":j,"data-front":le,"data-swiping":Y,"data-dismissible":de,"data-type":ue,"data-invert":ke,"data-swipe-out":X,"data-swipe-direction":W,"data-expanded":!!(N||F&&H),style:c(c({"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":"".concat(G?te:ye.current,"px"),"--initial-height":F?"auto":"".concat(ne,"px")},O),m.style),onDragEnd:()=>{J(!1),V(null),be.current=null},onPointerDown:e=>{Ce||!de||(oe.current=new Date,re(ye.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),be.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,n;if(X||!de)return;be.current=null;let a=Number((null==(e=se.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=se.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=(new Date).getTime()-(null==(r=oe.current)?void 0:r.getTime()),s="x"===U?a:i,l=Math.abs(s)/o;if(Math.abs(s)>=20||l>.11)return re(ye.current),null==(n=m.onDismiss)||n.call(m,m),q("x"===U?a>0?"right":"left":i>0?"down":"up"),Oe(),Q(!0),void ee(!1);J(!1),V(null)},onPointerMove:t=>{var r,n,a,i;if(!be.current||!de||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let o=t.clientY-be.current.y,s=t.clientX-be.current.x,l=null!=(n=e.swipeDirections)?n:function(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}(_);!U&&(Math.abs(s)>1||Math.abs(o)>1)&&V(Math.abs(s)>Math.abs(o)?"x":"y");let c={x:0,y:0};"y"===U?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&o<0||l.includes("bottom")&&o>0)&&(c.y=o):"x"===U&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&s<0||l.includes("right")&&s>0)&&(c.x=s),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(a=se.current)||a.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(i=se.current)||i.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},me&&!m.jsx?t.createElement("button",{"aria-label":L,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!de?()=>{}:()=>{var e;Oe(),null==(e=m.onDismiss)||e.call(m,m)},className:Af(null==R?void 0:R.closeButton,null==(i=null==m?void 0:m.classNames)?void 0:i.closeButton)},null!=(o=null==B?void 0:B.close)?o:jf):null,m.jsx||(0,t.isValidElement)(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:t.createElement(t.Fragment,null,ue||m.icon||m.promise?t.createElement("div",{"data-icon":"",className:Af(null==R?void 0:R.icon,null==(s=null==m?void 0:m.classNames)?void 0:s.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||function(){var e,r,n;return null!=B&&B.loading?t.createElement("div",{className:Af(null==R?void 0:R.loader,null==(e=null==m?void 0:m.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ue},B.loading):I?t.createElement("div",{className:Af(null==R?void 0:R.loader,null==(r=null==m?void 0:m.classNames)?void 0:r.loader,"sonner-loader"),"data-visible":"loading"===ue},I):t.createElement(gf,{className:Af(null==R?void 0:R.loader,null==(n=null==m?void 0:m.classNames)?void 0:n.loader),visible:"loading"===ue})}():null,"loading"!==m.type?m.icon||(null==B?void 0:B[ue])||(e=>{switch(e){case"success":return vf;case"info":return xf;case"warning":return yf;case"error":return bf;default:return null}})(ue):null):null,t.createElement("div",{"data-content":"",className:Af(null==R?void 0:R.content,null==(l=null==m?void 0:m.classNames)?void 0:l.content)},t.createElement("div",{"data-title":"",className:Af(null==R?void 0:R.title,null==(u=null==m?void 0:m.classNames)?void 0:u.title)},"function"==typeof m.title?m.title():m.title),m.description?t.createElement("div",{"data-description":"",className:Af(T,fe,null==R?void 0:R.description,null==(d=null==m?void 0:m.classNames)?void 0:d.description)},"function"==typeof m.description?m.description():m.description):null),(0,t.isValidElement)(m.cancel)?m.cancel:m.cancel&&Of(m.cancel)?t.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:e=>{var t,r;Of(m.cancel)&&de&&(null==(r=(t=m.cancel).onClick)||r.call(t,e),Oe())},className:Af(null==R?void 0:R.cancelButton,null==(h=null==m?void 0:m.classNames)?void 0:h.cancelButton)},m.cancel.label):null,(0,t.isValidElement)(m.action)?m.action:m.action&&Of(m.action)?t.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||E,onClick:e=>{var t,r;Of(m.action)&&(null==(r=(t=m.action).onClick)||r.call(t,e),!e.defaultPrevented&&Oe())},className:Af(null==R?void 0:R.actionButton,null==(f=null==m?void 0:m.classNames)?void 0:f.actionButton)},m.action.label):null))};function Df(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function _f(e,t){let r={};return[e,t].forEach((e,t)=>{let n=1===t,a=n?"--mobile-offset":"--offset",i=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{r["".concat(a,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r["".concat(a,"-").concat(t)]=i:r["".concat(a,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(i)}),r}var Mf=(0,t.forwardRef)(function(e,r){let{invert:n,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:s,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:g=Pf,toastOptions:v,dir:y=Df(),gap:x=Ef,loadingIcon:b,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[S,k]=t.useState([]),C=t.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[O,P]=t.useState([]),[E,A]=t.useState(!1),[T,D]=t.useState(!1),[_,M]=t.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=t.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=t.useRef(null),B=t.useRef(!1),L=t.useCallback(e=>{k(t=>{var r;return null!=(r=t.find(t=>t.id===e.id))&&r.delete||Nf.dismiss(e.id),t.filter(t=>{let{id:r}=t;return r!==e.id})})},[]);return t.useEffect(()=>Nf.subscribe(e=>{e.dismiss?k(t=>t.map(t=>t.id===e.id?c(c({},t),{},{delete:!0}):t)):setTimeout(()=>{Ft.flushSync(()=>{k(t=>{let r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),c(c({},t[r]),e),...t.slice(r+1)]:[e,...t]})})})}),[]),t.useEffect(()=>{if("system"!==h)return void M(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;M(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{M(t?"dark":"light")}catch(r){console.error(r)}})}},[h]),t.useEffect(()=>{S.length<=1&&A(!1)},[S]),t.useEffect(()=>{let e=e=>{var t,r;i.every(t=>e[t]||e.code===t)&&(A(!0),null==(t=I.current)||t.focus()),"Escape"===e.code&&(document.activeElement===I.current||null!=(r=I.current)&&r.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),t.useEffect(()=>{if(I.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,B.current=!1)}},[I.current]),t.createElement("section",{ref:r,"aria-label":"".concat(w," ").concat(F),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((r,a)=>{var i;let[h,w]=r.split("-");return S.length?t.createElement("ol",{key:r,dir:"auto"===y?Df():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":h,"data-lifted":E&&S.length>1&&!o,"data-x-position":w,style:c(c({"--front-toast-height":"".concat((null==(i=O[0])?void 0:i.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(x,"px")},m),_f(u,d)),onBlur:e=>{B.current&&!e.currentTarget.contains(e.relatedTarget)&&(B.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||B.current||(B.current=!0,R.current=e.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{T||A(!1)},onDragEnd:()=>A(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},S.filter(e=>!e.position&&0===a||e.position===r).map((a,i)=>{var l,c;return t.createElement(Tf,{key:a.id,icons:j,index:i,toast:a,defaultRichColors:f,duration:null!=(l=null==v?void 0:v.duration)?l:p,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:s,interacting:T,position:r,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:L,toasts:S.filter(e=>e.position==a.position),heights:O.filter(e=>e.position==a.position),setHeights:P,expandByDefault:o,gap:x,loadingIcon:b,expanded:E,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const If=e=>{let{isOpen:r,onClose:n,transactionId:a,receiptData:i,onGenerateReceipt:o}=e;const[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(i||null);return(0,ne.jsx)(Kh,{open:r,onOpenChange:n,children:(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{className:"flex items-center justify-between",children:[(0,ne.jsx)("span",{children:"Receipt Printer"}),(0,ne.jsx)(It,{variant:"ghost",size:"sm",onClick:n,children:(0,ne.jsx)(Xa,{className:"h-4 w-4"})})]})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[!c&&a&&(0,ne.jsx)("div",{className:"flex justify-center",children:(0,ne.jsx)(It,{onClick:async()=>{if(a&&o){l(!0);try{const e=await o(a);u(e),Cf.success("Receipt generated successfully")}catch(e){console.error("Error generating receipt:",e),Cf.error("Failed to generate receipt")}finally{l(!1)}}else Cf.error("Transaction ID is required")},disabled:s,className:"flex items-center gap-2",children:s?"Generating...":"Generate Receipt"})}),c&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,ne.jsxs)(It,{onClick:()=>{if(c)try{const e=window.open("","_blank");if(!e)return void Cf.error("Popup blocked. Please allow popups for this site.");e.document.write(c.htmlTemplate),e.document.close(),e.onload=()=>{e.print(),e.close()},Cf.success("Print dialog opened")}catch(e){console.error("Error printing receipt:",e),Cf.error("Failed to print receipt")}else Cf.error("No receipt data available")},className:"flex items-center gap-2",variant:"outline",children:[(0,ne.jsx)(sf,{className:"h-4 w-4"}),"Print Receipt"]}),(0,ne.jsxs)(It,{onClick:()=>{if(c)try{const e=new Blob([c.htmlTemplate],{type:"text/html"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="receipt_".concat(c.transactionNumber,"_").concat((new Date).toISOString().split("T")[0],".html"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),Cf.success("Receipt downloaded successfully")}catch(e){console.error("Error downloading receipt:",e),Cf.error("Failed to download receipt")}else Cf.error("No receipt data available")},className:"flex items-center gap-2",variant:"outline",children:[(0,ne.jsx)(ff,{className:"h-4 w-4"}),"Download HTML"]})]}),(0,ne.jsx)("div",{className:"border rounded-lg p-4 bg-white",children:(0,ne.jsx)("div",{className:"receipt-preview max-w-md mx-auto",dangerouslySetInnerHTML:{__html:c.htmlTemplate}})})]})]})]})})};function Ff(){var e,r;const{user:n}=se(),[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(null),[l,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)("Cash"),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[j,w]=(0,t.useState)(null),[N,k]=(0,t.useState)(!1),[C,O]=(0,t.useState)(1),[P]=(0,t.useState)(10),[E,A]=(0,t.useState)(!1),[T,D]=(0,t.useState)(null),[_,M]=(0,t.useState)({}),[I,F]=(0,t.useState)(!1),{data:R,loading:B,execute:L}=vc(),{data:z,loading:U,execute:V}=Cc(),{execute:W}=yu(),{data:q,loading:H,fetchRates:K}=jc(),{data:G,loading:$,fetchCharges:Y}=wc(),{data:J,fetchKaratTypes:X}=mu(),{data:Q,execute:ee}=fu(),{data:te,fetchTaxConfigurations:ae}=Nc(),{data:ie,loading:oe,execute:le}=xu(),ce=!H&&!$&&q&&q.length>0&&G&&G.length>0;(0,t.useEffect)(()=>{L({searchTerm:l,isActive:!0,pageNumber:1,pageSize:50}),X(),ee(),ae(),K(),Y()},[l,L,X,ee,ae,K,Y]),(0,t.useEffect)(()=>{H||$||(q&&G&&0!==q.length&&0!==G.length?console.log("Pricing data loaded successfully:",{goldRatesCount:q.length,makingChargesCount:G.length}):console.log("Pricing data not yet available, waiting for configuration..."))},[q,G,H,$]),(0,t.useEffect)(()=>{d.trim()&&V({searchTerm:d,pageNumber:1,pageSize:20})},[d,V]),(0,t.useEffect)(()=>{var e;if(null!==n&&void 0!==n&&null!==(e=n.branch)&&void 0!==e&&e.id){const e=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0")+"-"+String((new Date).getDate()).padStart(2,"0");console.log("Fetching orders for today:",e),le({branchId:n.branch.id,orderTypeId:1,fromDate:e,toDate:e,page:C,pageSize:P})}},[null===n||void 0===n||null===(e=n.branch)||void 0===e?void 0:e.id,C,P,le]),(0,t.useEffect)(()=>{a.length>0&&ce&&me(o)},[o,ce]);const ue=(null===R||void 0===R?void 0:R.items)||[],de=(null===z||void 0===z?void 0:z.items)||[],he=ue.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||S.productCategoryEnumToString(e.categoryType).toLowerCase().includes(l.toLowerCase())),fe=async(e,t)=>{var r;if(null===n||void 0===n||null===(r=n.branch)||void 0===r||!r.id)return!0;try{F(!0);const r=await Z.validateOwnership({productId:e,branchId:n.branch.id,requestedQuantity:t});return r.canSell?(M(t=>{const r=c({},t);return delete r[e],r}),!0):(M(t=>c(c({},t),{},{[e]:r.message})),!1)}catch(a){return console.error("Ownership validation failed:",a),M(t=>c(c({},t),{},{[e]:"Failed to validate ownership"})),!1}finally{F(!1)}},pe=async(e,t)=>{if(t<=0)return void i(a.filter(t=>t.id!==e));const r=a.find(t=>t.id===e);if(!r)return;if(await fe(r.productId,t))if(ce)try{const n=await hf(r.productId,t,null===o||void 0===o?void 0:o.id),s=n.estimatedTotalPrice/t,l=n.estimatedTotalPrice*(1-r.discountPercentage/100);i(a.map(r=>r.id===e?c(c({},r),{},{quantity:t,unitPrice:s,makingCharges:n.estimatedMakingCharges,rate:n.currentGoldRate,total:l}):r))}catch(n){console.error("Error recalculating price for quantity change:",n),i(a.map(r=>r.id===e?c(c({},r),{},{quantity:t,total:t*r.unitPrice*(1-r.discountPercentage/100)}):r))}else console.warn("Pricing data not ready, cannot update quantity")},me=async e=>{if(0!==a.length)if(ce)try{const t=await Promise.all(a.map(async t=>{try{const r=await hf(t.productId,t.quantity,null===e||void 0===e?void 0:e.id),n=r.estimatedTotalPrice/t.quantity,a=r.estimatedTotalPrice*(1-t.discountPercentage/100);return c(c({},t),{},{unitPrice:n,makingCharges:r.estimatedMakingCharges,rate:r.currentGoldRate,total:a})}catch(r){return console.error("Error recalculating price for item ".concat(t.productId,":"),r),t}}));i(t)}catch(t){console.error("Error recalculating cart pricing:",t)}else console.warn("Pricing data not ready, cannot recalculate cart pricing")},[ge,ve]=(0,t.useState)({subtotal:0,totalMakingCharges:0,totalDiscountAmount:0,totalTax:0,total:0});(0,t.useEffect)(()=>{(async()=>{if(0!==a.length)if(ce)try{let t=0,r=0,n=0,i=0;console.log("=== FRONTEND CALCULATION DEBUG (API-based) ==="),console.log("Processing",a.length,"items");for(const l of a)try{console.log("Product ".concat(l.productId," (").concat(l.name,") - Quantity: ").concat(l.quantity));const e=await hf(l.productId,l.quantity,null===o||void 0===o?void 0:o.id),a=e.estimatedBasePrice,s=e.estimatedMakingCharges,c=e.estimatedTotalPrice;let u=0,d=c;l.discountPercentage&&l.discountPercentage>0&&(u=c*(l.discountPercentage/100),d=c-u);const h=c-a-s;console.log("  Backend Gold Value: ".concat(a.toFixed(2),", Making Charges: ").concat(s.toFixed(2))),console.log("  Backend Total: ".concat(c.toFixed(2),", Custom Discount: ").concat(u.toFixed(2))),console.log("  Calculated Tax: ".concat(h.toFixed(2),", Final Total: ").concat(d.toFixed(2))),t+=a,r+=s,n+=u,i+=h}catch(e){console.error("Error calculating pricing for item ".concat(l.productId,":"),e),t+=l.total}const s=t+r+i-n;console.log("=== FRONTEND TOTALS (API-based) ==="),console.log("Subtotal (Gold Value):",t.toFixed(2)),console.log("Total Making Charges:",r.toFixed(2)),console.log("Total Discount:",n.toFixed(2)),console.log("Total Tax:",i.toFixed(2)),console.log("FINAL TOTAL:",s.toFixed(2)),console.log("=== END FRONTEND DEBUG ==="),ve({subtotal:t,totalMakingCharges:r,totalDiscountAmount:n,totalTax:i,total:s})}catch(e){console.error("Error calculating bill summary:",e)}else console.log("Pricing data not ready, skipping bill summary calculation");else ve({subtotal:0,totalMakingCharges:0,totalDiscountAmount:0,totalTax:0,total:0})})()},[a,o,ce]);const{subtotal:ye,totalMakingCharges:xe,totalDiscountAmount:be,totalTax:je,total:we}=ge,Ne=async e=>{D(e),A(!0)};return(0,ne.jsxs)("div",{className:"space-y-6",children:[!ce&&(0,ne.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,ne.jsxs)("div",{className:"flex items-center",children:[(0,ne.jsx)(uc,{className:"h-5 w-5 animate-spin text-yellow-600 mr-3"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-yellow-800 font-medium",children:"Loading Pricing Configuration"}),(0,ne.jsx)("p",{className:"text-yellow-700 text-sm",children:H||$?"Loading gold rates and making charges...":"Waiting for pricing data to be configured..."})]})]})}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"New Sale"}),(0,ne.jsx)("div",{className:"flex gap-3",children:(0,ne.jsxs)(Kh,{open:x,onOpenChange:b,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{variant:"outline",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Yt,{className:"mr-2 h-4 w-4"}),o?o.fullName:"Select Customer"]})}),(0,ne.jsxs)(Jh,{className:"max-w-md bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{className:"text-center pb-4",children:[(0,ne.jsx)(Qh,{className:"text-xl font-bold text-gray-800",children:"Select Customer"}),(0,ne.jsx)(Zh,{className:"text-gray-500 text-sm",children:"Choose an existing customer or proceed without one"})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,ne.jsx)(vt,{placeholder:"Search by name or phone...",value:d,onChange:e=>h(e.target.value),className:"pl-10 bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ne.jsx)("div",{className:"max-h-60 overflow-auto space-y-2",children:U&&d.trim()?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin"}),(0,ne.jsx)("span",{className:"ml-2 text-sm",children:"Loading customers..."})]}):0===de.length&&d.trim()?(0,ne.jsx)("div",{className:"text-center p-4 text-muted-foreground",children:"No customers found"}):de.map(e=>(0,ne.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>{s(e),h(""),b(!1)},children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium text-gray-800",children:e.fullName}),(0,ne.jsx)("p",{className:"text-sm text-gray-500",children:e.mobileNumber||e.email||"No contact info"})]}),(0,ne.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Tier ",e.loyaltyTier]})]})},e.id))}),(0,ne.jsx)(It,{variant:"outline",className:"w-full touch-target hover:bg-[#F4E9B1] transition-colors",onClick:()=>{s(null),b(!1)},children:"Proceed without customer"})]})]})]})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ne.jsx)("div",{className:"lg:col-span-2 space-y-4",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Products"}),(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search products...",value:l,onChange:e=>u(e.target.value),className:"pl-10"})]})]}),(0,ne.jsx)(mt,{children:B?(0,ne.jsxs)("div",{className:"text-center p-8",children:[(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Loading products..."})]}):0===he.length?(0,ne.jsx)("div",{className:"text-center p-8 text-muted-foreground",children:l?"No products found matching your search":"No products available"}):ce?(0,ne.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:he.map(e=>{let t=0,r=0,n=0;if(ce&&q&&G)try{const a=df(e,q,G,1,o,te||[]);t=a.goldRate,r=a.makingChargesAmount,n=a.totalPrice}catch(s){console.error("Error calculating price for product:",e.id,s),t=0,r=0,n=0}return(0,ne.jsxs)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow ".concat(_[e.id]?"border-red-200 bg-red-50":""),children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ne.jsx)("h3",{className:"font-medium",children:e.name}),(0,ne.jsx)(or,{variant:"outline",children:S.karatEnumToString(e.karatType)})]}),(0,ne.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground mb-3",children:[(0,ne.jsxs)("p",{children:["Weight: ",e.weight,"g"]}),(0,ne.jsxs)("p",{children:["Rate: ",t>0?pc(t):"Loading...","/g"]}),(0,ne.jsxs)("p",{children:["Making: ",r>0?pc(r):"Loading..."]}),(0,ne.jsxs)("p",{children:["Code: ",e.productCode]})]}),_[e.id]&&(0,ne.jsxs)("div",{className:"mb-3 p-2 bg-red-100 border border-red-200 rounded text-xs text-red-700",children:[(0,ne.jsx)("p",{className:"font-medium",children:"Ownership Error:"}),(0,ne.jsx)("p",{children:_[e.id]})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsx)("p",{className:"font-semibold",children:n>0?pc(n):"Calculating..."}),(0,ne.jsx)(It,{size:"sm",variant:"golden",onClick:()=>(async e=>{var t;if(!ce)return void console.warn("Pricing data not fully loaded, cannot add to cart");const r=((null===(t=a.find(t=>t.productId===e.id))||void 0===t?void 0:t.quantity)||0)+1;if(!await fe(e.id,r))return;const n=a.find(t=>t.productId===e.id);try{const t=await hf(e.id,1,null===o||void 0===o?void 0:o.id),r=t.estimatedTotalPrice,s=t.estimatedMakingCharges,l=t.currentGoldRate;if(n)i(a.map(t=>t.productId===e.id?c(c({},t),{},{quantity:t.quantity+1,total:(t.quantity+1)*r*(1-t.discountPercentage/100)}):t));else{const t={id:Date.now(),productId:e.id,name:e.name,category:S.productCategoryEnumToString(e.categoryType),karat:S.karatEnumToString(e.karatType),weight:e.weight,rate:l,makingCharges:s,quantity:1,unitPrice:r,discountPercentage:0,total:r};i([...a,t])}}catch(s){console.error("Error calculating price for product:",e.id,s);try{if(!ce)return void alert("Pricing data not available. Please try again.");const t=df(e,q,G,1,o,te||[]);if(0===t.goldRate)return void alert("Unable to calculate pricing for this product. Please check pricing configuration.");const r=t.finalTotal;if(n)i(a.map(t=>t.productId===e.id?c(c({},t),{},{quantity:t.quantity+1,total:(t.quantity+1)*r*(1-t.discountPercentage/100)}):t));else{const n={id:Date.now(),productId:e.id,name:e.name,category:S.productCategoryEnumToString(e.categoryType),karat:S.karatEnumToString(e.karatType),weight:e.weight,rate:t.goldRate,makingCharges:t.makingChargesAmount,quantity:1,unitPrice:r,discountPercentage:0,total:r};i([...a,n])}}catch(l){console.error("Fallback calculation failed:",l),alert("Error calculating product price. Please try again.")}}})(e),disabled:!e.isActive||!ce||0===t||I,className:"touch-target",children:I?(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin"}):(0,ne.jsx)(tf,{className:"h-4 w-4"})})]})]},e.id)})}):(0,ne.jsxs)("div",{className:"text-center p-8",children:[(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:H||$?"Loading pricing data...":"Loading pricing configuration..."})]})})]})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Xl,{className:"h-5 w-5"}),"Cart (",a.length,")"]})}),(0,ne.jsx)(mt,{children:0===a.length?(0,ne.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No items in cart"}):(0,ne.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,ne.jsxs)("div",{className:"p-3 border rounded-lg ".concat(_[e.productId]?"border-red-200 bg-red-50":""),children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ne.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,ne.jsx)(It,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void i(a.filter(e=>e.id!==t));var t},children:(0,ne.jsx)(Xa,{className:"h-4 w-4"})})]}),_[e.productId]&&(0,ne.jsxs)("div",{className:"mb-2 p-2 bg-red-100 border border-red-200 rounded text-xs text-red-700",children:[(0,ne.jsx)("p",{className:"font-medium",children:"Ownership Error:"}),(0,ne.jsx)("p",{children:_[e.productId]})]}),(0,ne.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:[e.weight,"g \xd7 ",pc(e.rate)," + ",pc(e.makingCharges)]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",onClick:()=>pe(e.id,e.quantity-1),children:(0,ne.jsx)(rf,{className:"h-3 w-3"})}),(0,ne.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",onClick:()=>pe(e.id,e.quantity+1),children:(0,ne.jsx)(tf,{className:"h-3 w-3"})})]}),(0,ne.jsx)("p",{className:"font-medium",children:pc(e.total)})]})]},e.id))})})]}),a.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(nf,{className:"h-5 w-5"}),"Bill Summary"]})}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Subtotal (Gold Value):"}),(0,ne.jsx)("span",{children:pc(ye)})]}),xe>0&&(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Making Charges:"}),(0,ne.jsx)("span",{children:pc(xe)})]}),be>0&&(0,ne.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,ne.jsx)("span",{children:"Discount:"}),(0,ne.jsxs)("span",{children:["-",pc(be)]})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsxs)("span",{children:[te&&te.length>0?te.filter(e=>e.isMandatory&&e.isCurrent).map(e=>"".concat(e.taxName," (").concat(e.taxRate,"%)")).join(", "):"Tax",":"]}),(0,ne.jsx)("span",{children:pc(je)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex justify-between font-semibold text-lg",children:[(0,ne.jsx)("span",{children:"Total:"}),(0,ne.jsx)("span",{children:pc(we)})]})]}),(0,ne.jsxs)("div",{className:"space-y-3",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,ne.jsxs)(wh,{value:f,onValueChange:e=>p(e),children:[(0,ne.jsx)(Sh,{className:"hover:bg-[#F4E9B1] transition-colors focus:ring-2 focus:ring-[#D4AF37] focus:border-[#D4AF37]",children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:Q?Q.map(e=>(0,ne.jsx)(Ch,{value:e.name,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.displayName},e.value)):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Ch,{value:"Cash",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Cash"}),(0,ne.jsx)(Ch,{value:"Card",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Card"}),(0,ne.jsx)(Ch,{value:"BankTransfer",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Bank Transfer"}),(0,ne.jsx)(Ch,{value:"Cheque",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Cheque"})]})})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"amountPaid",children:"Amount Paid"}),(0,ne.jsx)(vt,{id:"amountPaid",type:"number",value:m||"",onChange:e=>g(parseFloat(e.target.value)||0),placeholder:pc(we),min:"0",step:"0.01",className:"focus:ring-2 focus:ring-[#D4AF37] focus:border-[#D4AF37]"}),m>0&&m!==we&&(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Change: ",pc(Math.max(0,m-we))]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(It,{className:"w-full touch-target",variant:"golden",onClick:async()=>{var e;if(console.log("User data:",n),console.log("User branch:",null===n||void 0===n?void 0:n.branch),0!==a.length){if(null===n||void 0===n||null===(e=n.branch)||void 0===e||!e.id)return console.error("Branch information missing. User:",n),void alert("Branch information not available. Please contact your administrator to assign you to a branch.");if(m<we)alert("Insufficient amount paid");else{try{F(!0);const e=a.map(e=>fe(e.productId,e.quantity)),t=await Promise.all(e);if(t.some(e=>!e))return void alert("Some items cannot be sold due to ownership restrictions. Please check the items in your cart.")}catch(l){return console.error("Ownership validation failed during checkout:",l),void alert("Failed to validate ownership. Please try again.")}finally{F(!1)}try{var t;y(!0);const e={branchId:n.branch.id,customerId:null===o||void 0===o?void 0:o.id,items:a.map(e=>({productId:e.productId,quantity:e.quantity,customDiscountPercentage:e.discountPercentage||void 0})),amountPaid:m,paymentMethodId:S.paymentMethodStringToEnum(f)},c=await W(e);try{var r;const e=null===n||void 0===n||null===(r=n.branch)||void 0===r?void 0:r.id;if(e){const t=a.map(t=>Z.updateOwnershipAfterSale({productId:t.productId,branchId:e,soldQuantity:t.quantity,referenceNumber:c.orderNumber}));await Promise.all(t),console.log("Ownership updated successfully after sale")}}catch(l){console.error("Failed to update ownership after sale:",l)}if(alert("Sale completed successfully! Order Number: ".concat(c.orderNumber)),i([]),s(null),g(0),h(""),u(""),M({}),null!==n&&void 0!==n&&null!==(t=n.branch)&&void 0!==t&&t.id){const e=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0")+"-"+String((new Date).getDate()).padStart(2,"0");le({branchId:n.branch.id,orderTypeId:1,fromDate:e,toDate:e,page:C,pageSize:P})}}catch(l){console.error("Order creation failed:",l),alert(l instanceof Error?l.message:"Order creation failed. Please try again.")}finally{y(!1)}}}else alert("Please add items to cart before checkout")},disabled:v||I||0===a.length||m<we||!ce,children:v||I?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),I?"Validating Ownership...":"Processing..."]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(af,{className:"mr-2 h-4 w-4"}),"Complete Sale"]})}),!ce&&(0,ne.jsx)("p",{className:"text-xs text-yellow-600 text-center",children:"Checkout disabled until pricing configuration is loaded"})]})]})]})]})]})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(of,{className:"h-5 w-5"}),"Today's Sales Orders"]}),(0,ne.jsxs)(pt,{children:["Showing sales orders for ",(null===n||void 0===n||null===(r=n.branch)||void 0===r?void 0:r.name)||"your branch"," (today)"]})]}),(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{var e;if(null!==n&&void 0!==n&&null!==(e=n.branch)&&void 0!==e&&e.id){const e=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0")+"-"+String((new Date).getDate()).padStart(2,"0");le({branchId:n.branch.id,orderTypeId:1,fromDate:e,toDate:e,page:C,pageSize:P})}},disabled:oe,className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[oe?(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin"}):(0,ne.jsx)(of,{className:"h-4 w-4"}),"Refresh"]})]})}),(0,ne.jsx)(mt,{children:oe?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin"}),(0,ne.jsx)("span",{className:"ml-2",children:"Loading today's orders..."})]}):null!==ie&&void 0!==ie&&ie.items&&ie.items.length>0?(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsx)("div",{className:"overflow-x-auto",children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Order #"}),(0,ne.jsx)(Lh,{children:"Time"}),(0,ne.jsx)(Lh,{children:"Customer"}),(0,ne.jsx)(Lh,{children:"Cashier"}),(0,ne.jsx)(Lh,{children:"Items"}),(0,ne.jsx)(Lh,{children:"Total"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:ie.items.map(e=>{var t,r;return(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-mono text-sm",children:e.orderNumber}),(0,ne.jsx)(zh,{children:new Date(e.orderDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,ne.jsx)(zh,{children:e.customerName||"Walk-in Customer"}),(0,ne.jsx)(zh,{children:e.cashierName}),(0,ne.jsxs)(zh,{children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,ne.jsx)(zh,{className:"font-semibold",children:pc((null===(r=e.items)||void 0===r?void 0:r.reduce((e,t)=>e+t.totalAmount,0))||0)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"Completed"===e.statusDescription?"default":"secondary",className:"Completed"===e.statusDescription?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:e.statusDescription})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const t=await re.orders.getOrder(e.id);w(t),k(!0)}catch(t){console.error("Failed to fetch order details:",t),alert("Failed to load order details. Please try again.")}})(e),className:"h-8 w-8 p-0 hover:bg-blue-50",title:"View Details",children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>Ne(e.id),className:"h-8 w-8 p-0 hover:bg-green-50",title:"Print Receipt",children:(0,ne.jsx)(sf,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),(()=>{const e=Math.ceil(ie.totalCount/P);return e>1?(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(C-1)*P+1," to"," ",Math.min(C*P,ie.totalCount)," of"," ",ie.totalCount," orders"]}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>O(e=>Math.max(1,e-1)),disabled:1===C,className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(lf,{className:"h-4 w-4"}),"Previous"]}),(0,ne.jsxs)("span",{className:"text-sm font-medium",children:["Page ",C," of ",e]}),(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>O(t=>Math.min(e,t+1)),disabled:C===e,className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:["Next",(0,ne.jsx)(cf,{className:"h-4 w-4"})]})]})]}):null})(),(0,ne.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,ne.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),(0,ne.jsx)("p",{className:"text-2xl font-bold text-[#0D1B2A]",children:ie.totalCount})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Sales"}),(0,ne.jsx)("p",{className:"text-2xl font-bold text-green-600",children:pc(ie.items.reduce((e,t)=>{var r;return e+((null===(r=t.items)||void 0===r?void 0:r.reduce((e,t)=>e+t.totalAmount,0))||0)},0))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average Sale"}),(0,ne.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:ie.totalCount>0?(()=>{const e=ie.items.reduce((e,t)=>{var r;return e+((null===(r=t.items)||void 0===r?void 0:r.reduce((e,t)=>e+t.totalAmount,0))||0)},0);return pc(e/ie.totalCount)})():pc(0)})]})]})})]}):(0,ne.jsxs)("div",{className:"text-center p-8 text-muted-foreground",children:[(0,ne.jsx)(uf,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,ne.jsx)("p",{className:"text-lg font-medium",children:"No sales orders today"}),(0,ne.jsx)("p",{className:"text-sm",children:"Start making sales to see them appear here"})]})})]}),j&&(0,ne.jsx)(Kh,{open:N,onOpenChange:k,children:(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{children:["Order Details - ",j.orderNumber]})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("p",{children:[(0,ne.jsx)("strong",{children:"Customer:"})," ",j.customerName||"Walk-in Customer"]}),(0,ne.jsxs)("p",{children:[(0,ne.jsx)("strong",{children:"Date:"})," ",new Date(j.orderDate).toLocaleString()]}),(0,ne.jsxs)("p",{children:[(0,ne.jsx)("strong",{children:"Status:"})," ",j.statusDescription]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("p",{children:[(0,ne.jsx)("strong",{children:"Cashier:"})," ",j.cashierName]}),(0,ne.jsxs)("p",{children:[(0,ne.jsx)("strong",{children:"Branch:"})," ",j.branchName]})]})]}),j.items&&j.items.length>0&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"font-semibold mb-2",children:"Items"}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Quantity"}),(0,ne.jsx)(Lh,{children:"Unit Price"}),(0,ne.jsx)(Lh,{children:"Total"})]})}),(0,ne.jsx)(Rh,{children:j.items.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:e.productName}),(0,ne.jsx)(zh,{children:e.quantity}),(0,ne.jsx)(zh,{children:pc(e.unitPrice)}),(0,ne.jsx)(zh,{children:pc(e.totalAmount)})]},e.id))})]})]}),(0,ne.jsx)("div",{className:"flex justify-end gap-2",children:(0,ne.jsxs)(It,{variant:"outline",onClick:()=>Ne(j.id),children:[(0,ne.jsx)(sf,{className:"h-4 w-4 mr-2"}),"Print Receipt"]})})]})]})}),(0,ne.jsx)(If,{isOpen:E,onClose:()=>{A(!1),D(null)},transactionId:T||void 0,onGenerateReceipt:async e=>{try{const t=await re.orders.getOrder(e);if(t.financialTransactionId){return await re.financialTransactions.generateBrowserReceipt(t.financialTransactionId)}throw new Error("No financial transaction associated with this order")}catch(t){throw console.error("Error generating receipt:",t),t}}})]})}const Rf=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)("all");(0,t.useEffect)(()=>{const e=[{id:1,orderNumber:"ORD-001",orderType:"Sale",orderDate:"2024-01-15",customerId:1,customerName:"John Doe",branchId:1,branchName:"Main Branch",totalAmount:2500,orderStatus:"Completed",items:[{id:1,productId:1,productName:"Gold Ring",productCode:"GR-001",quantity:1,unitPrice:2500,totalPrice:2500,weight:5.5,karatType:"22K",categoryType:"GoldJewelry"}],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:2,orderNumber:"ORD-002",orderType:"Repair",orderDate:"2024-01-16",customerId:2,customerName:"Jane Smith",branchId:1,branchName:"Main Branch",totalAmount:150,orderStatus:"In Progress",items:[],createdAt:"2024-01-16T14:00:00Z",updatedAt:"2024-01-16T14:00:00Z"}];setTimeout(()=>{r(e),a(!1)},1e3)},[]);const f=e.filter(e=>{var t;const r=e.orderNumber.toLowerCase().includes(i.toLowerCase())||(null===(t=e.customerName)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase())),n="all"===c||e.orderStatus===c,a="all"===d||e.orderType===d;return r&&n&&a}),p=e=>{switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"in progress":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return n?(0,ne.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ne.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsx)("div",{className:"flex justify-between items-center",children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Orders"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage and track all orders"})]})}),(0,ne.jsxs)(dt,{children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(ef,{className:"h-5 w-5"}),"Search & Filter Orders"]})}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,ne.jsxs)("div",{className:"flex-1",children:[(0,ne.jsx)(Wt,{htmlFor:"search",children:"Search Orders"}),(0,ne.jsx)(vt,{id:"search",placeholder:"Search by order number or customer name...",value:i,onChange:e=>o(e.target.value)})]}),(0,ne.jsxs)("div",{className:"w-full sm:w-48",children:[(0,ne.jsx)(Wt,{htmlFor:"status-filter",children:"Status"}),(0,ne.jsxs)(wh,{value:c,onValueChange:u,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"All Statuses"})}),(0,ne.jsxs)(kh,{children:[(0,ne.jsx)(Ch,{value:"all",children:"All Statuses"}),(0,ne.jsx)(Ch,{value:"Pending",children:"Pending"}),(0,ne.jsx)(Ch,{value:"In Progress",children:"In Progress"}),(0,ne.jsx)(Ch,{value:"Completed",children:"Completed"}),(0,ne.jsx)(Ch,{value:"Cancelled",children:"Cancelled"})]})]})]}),(0,ne.jsxs)("div",{className:"w-full sm:w-48",children:[(0,ne.jsx)(Wt,{htmlFor:"type-filter",children:"Type"}),(0,ne.jsxs)(wh,{value:d,onValueChange:h,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"All Types"})}),(0,ne.jsxs)(kh,{children:[(0,ne.jsx)(Ch,{value:"all",children:"All Types"}),(0,ne.jsx)(Ch,{value:"Sale",children:"Sale"}),(0,ne.jsx)(Ch,{value:"Repair",children:"Repair"}),(0,ne.jsx)(Ch,{value:"Return",children:"Return"})]})]})]})]})})]}),(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{children:["Orders (",f.length,")"]}),(0,ne.jsx)(pt,{children:0===f.length?"No orders found":"Showing ".concat(f.length," orders")})]}),(0,ne.jsx)(mt,{children:0===f.length?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Ql,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"No orders found matching your criteria"})]}):(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Order #"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Customer"}),(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"Amount"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:f.map(e=>{return(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.orderNumber}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(t=e.orderType,"sale"===t.toLowerCase()?(0,ne.jsx)(ec,{className:"h-4 w-4"}):(0,ne.jsx)(Ql,{className:"h-4 w-4"})),e.orderType]})}),(0,ne.jsx)(zh,{children:e.customerName||"N/A"}),(0,ne.jsx)(zh,{children:new Date(e.orderDate).toLocaleDateString()}),(0,ne.jsx)(zh,{children:pc(e.totalAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{className:p(e.orderStatus),children:e.orderStatus})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(Kh,{children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>l(e),children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})})}),(0,ne.jsxs)(Jh,{className:"max-w-4xl",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsxs)(Qh,{children:["Order Details - ",e.orderNumber]}),(0,ne.jsx)(Zh,{children:"View complete order information and items"})]}),s&&(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Order Number"}),(0,ne.jsx)("p",{className:"font-medium",children:s.orderNumber})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Order Type"}),(0,ne.jsx)("p",{className:"font-medium",children:s.orderType})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Customer"}),(0,ne.jsx)("p",{className:"font-medium",children:s.customerName||"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Branch"}),(0,ne.jsx)("p",{className:"font-medium",children:s.branchName})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Order Date"}),(0,ne.jsx)("p",{className:"font-medium",children:new Date(s.orderDate).toLocaleDateString()})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Status"}),(0,ne.jsx)(or,{className:p(s.orderStatus),children:s.orderStatus})]})]}),(0,ne.jsx)(fr,{}),s.items.length>0&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Code"}),(0,ne.jsx)(Lh,{children:"Quantity"}),(0,ne.jsx)(Lh,{children:"Unit Price"}),(0,ne.jsx)(Lh,{children:"Total"})]})}),(0,ne.jsx)(Rh,{children:s.items.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:e.productName}),(0,ne.jsx)(zh,{children:e.productCode}),(0,ne.jsx)(zh,{children:e.quantity}),(0,ne.jsx)(zh,{children:pc(e.unitPrice)}),(0,ne.jsx)(zh,{children:pc(e.totalPrice)})]},e.id))})]})]}),(0,ne.jsx)(fr,{}),(0,ne.jsx)("div",{className:"flex justify-end",children:(0,ne.jsxs)("div",{className:"text-right",children:[(0,ne.jsx)(Wt,{children:"Total Amount"}),(0,ne.jsx)("p",{className:"text-2xl font-bold text-primary",children:pc(s.totalAmount)})]})})]})]})]})})]},e.id);var t})})]})})]})]})},Bf=["className"];function Lf(e){let{className:t}=e,r=le(e,Bf);return(0,ne.jsx)("textarea",c({"data-slot":"textarea",className:it("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t)},r))}const zf=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Uf=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Vf="rovingFocusGroup.onEntryFocus",Wf={bubbles:!1,cancelable:!0},qf="RovingFocusGroup",[Hf,Kf,Gf]=Pu(qf),[$f,Yf]=xr(qf,[Gf]),[Jf,Xf]=$f(qf),Qf=t.forwardRef((e,t)=>(0,ne.jsx)(Hf.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,ne.jsx)(Hf.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,ne.jsx)(Zf,c(c({},e),{},{ref:t}))})}));Qf.displayName=qf;var Zf=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1}=e,f=le(e,zf),p=t.useRef(null),m=bt(r,p),g=_u(o),[v,y]=Cr({prop:s,defaultProp:null!==l&&void 0!==l?l:null,onChange:u,caller:qf}),[x,b]=t.useState(!1),j=Or(d),w=Kf(n),N=t.useRef(!1),[S,k]=t.useState(0);return t.useEffect(()=>{const e=p.current;if(e)return e.addEventListener(Vf,j),()=>e.removeEventListener(Vf,j)},[j]),(0,ne.jsx)(Jf,{scope:n,orientation:a,dir:g,loop:i,currentTabStopId:v,onItemFocus:t.useCallback(e=>y(e),[y]),onItemShiftTab:t.useCallback(()=>b(!0),[]),onFocusableItemAdd:t.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>k(e=>e-1),[]),children:(0,ne.jsx)(Bt.div,c(c({tabIndex:x||0===S?-1:0,"data-orientation":a},f),{},{ref:m,style:c({outline:"none"},e.style),onMouseDown:gr(e.onMouseDown,()=>{N.current=!0}),onFocus:gr(e.onFocus,e=>{const t=!N.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(Vf,Wf);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter(e=>e.focusable);np([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),h)}}N.current=!1}),onBlur:gr(e.onBlur,()=>b(!1))}))})}),ep="RovingFocusGroupItem",tp=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:o,children:s}=e,l=le(e,Uf),u=Sr(),d=o||u,h=Xf(ep,n),f=h.currentTabStopId===d,p=Kf(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:v}=h;return t.useEffect(()=>{if(a)return m(),()=>g()},[a,m,g]),(0,ne.jsx)(Hf.ItemSlot,{scope:n,id:d,focusable:a,active:i,children:(0,ne.jsx)(Bt.span,c(c({tabIndex:f?0:-1,"data-orientation":h.orientation},l),{},{ref:r,onMouseDown:gr(e.onMouseDown,e=>{a?h.onItemFocus(d):e.preventDefault()}),onFocus:gr(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:gr(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:rp[n]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const n=r.indexOf(e.currentTarget);r=h.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>np(r))}}),children:"function"===typeof s?s({isCurrentTabStop:f,hasTabStop:null!=v}):s}))})});tp.displayName=ep;var rp={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function np(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var ap=Qf,ip=tp;const op=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],sp=["__scopeTabs","loop"],lp=["__scopeTabs","value","disabled"],cp=["__scopeTabs","value","forceMount","children"];var up="Tabs",[dp,hp]=xr(up,[Yf]),fp=Yf(),[pp,mp]=dp(up),gp=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic"}=e,u=le(e,op),d=_u(s),[h,f]=Cr({prop:n,onChange:a,defaultProp:null!==i&&void 0!==i?i:"",caller:up});return(0,ne.jsx)(pp,{scope:r,baseId:Sr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:(0,ne.jsx)(Bt.div,c(c({dir:d,"data-orientation":o},u),{},{ref:t}))})});gp.displayName=up;var vp="TabsList",yp=t.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0}=e,a=le(e,sp),i=mp(vp,r),o=fp(r);return(0,ne.jsx)(ap,c(c({asChild:!0},o),{},{orientation:i.orientation,dir:i.dir,loop:n,children:(0,ne.jsx)(Bt.div,c(c({role:"tablist","aria-orientation":i.orientation},a),{},{ref:t}))}))});yp.displayName=vp;var xp="TabsTrigger",bp=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1}=e,i=le(e,lp),o=mp(xp,r),s=fp(r),l=Np(o.baseId,n),u=Sp(o.baseId,n),d=n===o.value;return(0,ne.jsx)(ip,c(c({asChild:!0},s),{},{focusable:!a,active:d,children:(0,ne.jsx)(Bt.button,c(c({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l},i),{},{ref:t,onMouseDown:gr(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:gr(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:gr(e.onFocus,()=>{const e="manual"!==o.activationMode;d||a||!e||o.onValueChange(n)})}))}))});bp.displayName=xp;var jp="TabsContent",wp=t.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:i,children:o}=e,s=le(e,cp),l=mp(jp,n),u=Np(l.baseId,a),d=Sp(l.baseId,a),h=a===l.value,f=t.useRef(h);return t.useEffect(()=>{const e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,ne.jsx)(Xr,{present:i||h,children:t=>{let{present:n}=t;return(0,ne.jsx)(Bt.div,c(c({"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!n,id:d,tabIndex:0},s),{},{ref:r,style:c(c({},e.style),{},{animationDuration:f.current?"0s":void 0}),children:n&&o}))}})});function Np(e,t){return"".concat(e,"-trigger-").concat(t)}function Sp(e,t){return"".concat(e,"-content-").concat(t)}wp.displayName=jp;var kp=gp,Cp=yp,Op=bp,Pp=wp;const Ep=["className"],Ap=["className"],Tp=["className"],Dp=["className"];function _p(e){let{className:t}=e,r=le(e,Ep);return(0,ne.jsx)(kp,c({"data-slot":"tabs",className:it("flex flex-col gap-2",t)},r))}function Mp(e){let{className:t}=e,r=le(e,Ap);return(0,ne.jsx)(Cp,c({"data-slot":"tabs-list",className:it("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t)},r))}function Ip(e){let{className:t}=e,r=le(e,Tp);return(0,ne.jsx)(Op,c({"data-slot":"tabs-trigger",className:it("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},r))}function Fp(e){let{className:t}=e,r=le(e,Dp);return(0,ne.jsx)(Pp,c({"data-slot":"tabs-content",className:it("flex-1 outline-none",t)},r))}const Rp=Gt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bp=Gt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function Lp(){var e;const{user:r}=se(),[n,a]=(0,t.useState)("all"),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)({customerId:"",customerName:"",customerPhone:"",itemDescription:"",repairType:"",priority:"Medium",estimatedCost:"",estimatedCompletion:"",notes:"",amountPaid:""}),[w,N]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[C,O]=(0,t.useState)(!1),[P,E]=(0,t.useState)(null),[A,T]=(0,t.useState)({status:"",notes:"",materialsUsed:"",hoursSpent:"",additionalPaymentAmount:"",paymentMethod:"Cash"}),[D,_]=(0,t.useState)(!1),[M,I]=(0,t.useState)(null),[F,R]=(0,t.useState)({technicianId:"",technicianNotes:""}),[B,L]=(0,t.useState)([]),[z,U]=(0,t.useState)(!0),[V,W]=(0,t.useState)(!1),[q,H]=(0,t.useState)(!1),[G,Q]=(0,t.useState)([]),[Z,ee]=(0,t.useState)([]),[te,re]=(0,t.useState)([]);(0,t.useEffect)(()=>{ae()},[]);const ae=async()=>{try{U(!0);const[e,t,r,n,a,i,o]=await Promise.all([$.getCustomers({pageSize:1e3}),X.getActiveTechnicians(),J.searchRepairJobs({pageSize:1e3}),J.getRepairJobStatistics(),Y.getRepairStatuses(),Y.getRepairPriorities(),Y.getPaymentMethods()]);f(e.items||[]),m(t),L(r.items||[]),v(n),Q(a),ee(i),re(o)}catch(e){console.error("Error fetching data:",e),Cf.error("Failed to load repair jobs data")}finally{U(!1)}},ie=()=>{j({customerId:"",customerName:"",customerPhone:"",itemDescription:"",repairType:"",priority:"Medium",estimatedCost:"",estimatedCompletion:"",notes:"",amountPaid:""})},oe=()=>{T({status:"",notes:"",materialsUsed:"",hoursSpent:"",additionalPaymentAmount:"",paymentMethod:"Cash"}),E(null)},le=()=>{R({technicianId:"",technicianNotes:""}),I(null)},ce=(e,t)=>{E(e),T({status:t,notes:"",materialsUsed:"",hoursSpent:"",additionalPaymentAmount:"",paymentMethod:"Cash"}),O(!0)},ue=B.filter(e=>{var t,r,a;const i=G.find(t=>t.value===e.status),o=(null===i||void 0===i||null===(t=i.displayName)||void 0===t?void 0:t.toLowerCase())||"",l="all"===n||o===n,c=""===s||(null===(r=e.financialTransactionNumber)||void 0===r?void 0:r.toLowerCase().includes(s.toLowerCase()))||(null===(a=e.customerName)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase()))||e.repairDescription.toLowerCase().includes(s.toLowerCase());return l&&c}),de=e=>{var t;const r=G.find(t=>t.value===e);switch((null===r||void 0===r||null===(t=r.displayName)||void 0===t?void 0:t.toLowerCase())||""){case"pending":default:return"secondary";case"in progress":case"completed":case"ready for pickup":case"delivered":return"default";case"cancelled":return"destructive"}},he=e=>{var t;const r=G.find(t=>t.value===e);switch((null===r||void 0===r||null===(t=r.displayName)||void 0===t?void 0:t.toLowerCase())||""){case"pending":return"bg-yellow-100 text-yellow-800";case"in progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"ready for pickup":return"bg-orange-100 text-orange-800";case"delivered":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return z?(0,ne.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ne.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0D1B2A]"})}):(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Repair Services"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Track and manage jewelry repair jobs"})]}),(0,ne.jsxs)("div",{className:"flex gap-3",children:[(0,ne.jsxs)(It,{variant:"outline",onClick:()=>x(!y),className:"touch-target",children:[(0,ne.jsx)(Jl,{className:"mr-2 h-4 w-4"}),y?"Hide":"Show"," Statistics"]}),(0,ne.jsxs)(Kh,{open:i,onOpenChange:o,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{className:"touch-target",variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"New Repair Job"]})}),(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Create New Repair Job"}),(0,ne.jsxs)(Zh,{children:["Fill in the details for the new repair job. Fields marked with ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})," are required."]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"customer",children:"Customer (Optional)"}),(0,ne.jsxs)(wh,{value:b.customerId,onValueChange:e=>{if("walk-in"===e)j(c(c({},b),{},{customerId:e,customerName:"Walk-in Customer",customerPhone:""}));else{const t=h.find(t=>t.id.toString()===e);j(c(c({},b),{},{customerId:e,customerName:(null===t||void 0===t?void 0:t.fullName)||"",customerPhone:(null===t||void 0===t?void 0:t.mobileNumber)||""}))}},children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select customer (optional)"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"walk-in",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Walk-in Customer"}),h.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[e.fullName," - ",e.mobileNumber]},e.id))]})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"customerPhone",children:"Customer Phone"}),(0,ne.jsx)(vt,{id:"customerPhone",value:b.customerPhone,onChange:e=>j(c(c({},b),{},{customerPhone:e.target.value})),placeholder:"Enter phone number",disabled:!!b.customerId})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"itemDescription",children:["Item Description ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsx)(Lf,{id:"itemDescription",value:b.itemDescription,onChange:e=>j(c(c({},b),{},{itemDescription:e.target.value})),placeholder:"e.g., Gold ring with loose stone, Chain with broken clasp",rows:3})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"repairType",children:["Repair Type ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsxs)(wh,{value:b.repairType,onValueChange:e=>j(c(c({},b),{},{repairType:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select repair type"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"cleaning",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Cleaning & Polishing"}),(0,ne.jsx)(Ch,{value:"resizing",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Ring Resizing"}),(0,ne.jsx)(Ch,{value:"clasp_repair",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Clasp Repair"}),(0,ne.jsx)(Ch,{value:"stone_setting",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Stone Setting"}),(0,ne.jsx)(Ch,{value:"chain_repair",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Chain Repair"}),(0,ne.jsx)(Ch,{value:"other",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Other"})]})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"priority",children:"Priority"}),(0,ne.jsxs)(wh,{value:b.priority,onValueChange:e=>j(c(c({},b),{},{priority:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:Z.map(e=>(0,ne.jsx)(Ch,{value:e.displayName,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.displayName},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"estimatedCost",children:"Estimated Cost"}),(0,ne.jsx)(vt,{id:"estimatedCost",type:"number",value:b.estimatedCost,onChange:e=>j(c(c({},b),{},{estimatedCost:e.target.value})),placeholder:"Enter estimated cost",step:"0.01",min:"0"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"estimatedCompletion",children:"Estimated Completion (days)"}),(0,ne.jsx)(vt,{id:"estimatedCompletion",type:"number",value:b.estimatedCompletion,onChange:e=>j(c(c({},b),{},{estimatedCompletion:e.target.value})),placeholder:"Enter estimated days",min:"1"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"amountPaid",children:"Amount Paid"}),(0,ne.jsx)(vt,{id:"amountPaid",type:"number",value:b.amountPaid,onChange:e=>j(c(c({},b),{},{amountPaid:e.target.value})),placeholder:"Enter amount paid",step:"0.01",min:"0"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"notes",children:"Notes"}),(0,ne.jsx)(Lf,{id:"notes",value:b.notes,onChange:e=>j(c(c({},b),{},{notes:e.target.value})),placeholder:"Additional notes or special instructions...",rows:3})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",className:"touch-target",onClick:()=>o(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{if(b.itemDescription&&b.repairType)try{var e;if(W(!0),console.log("User data for repair:",r),console.log("User branch:",null===r||void 0===r?void 0:r.branch),null===r||void 0===r||null===(e=r.branch)||void 0===e||!e.id)return void Cf.error("Branch information not available. Please contact your administrator to assign you to a branch.");const t=r.branch.id;console.log("Using branch ID:",t);const n=Z.find(e=>e.displayName===b.priority),a=(null===n||void 0===n?void 0:n.value)||2,i={branchId:t,customerId:b.customerId&&"walk-in"!==b.customerId?parseInt(b.customerId):void 0,repairDescription:b.itemDescription,repairAmount:parseFloat(b.estimatedCost)||0,amountPaid:parseFloat(b.amountPaid)||0,paymentMethodId:1,estimatedCompletionDate:b.estimatedCompletion?new Date(Date.now()+24*parseInt(b.estimatedCompletion)*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),priority:a,assignedTechnicianId:void 0,technicianNotes:b.notes};await K.createRepairOrder(i);Cf.success("Repair job created successfully"),o(!1),ie(),ae()}catch(t){console.error("Error creating repair job:",t),Cf.error("Failed to create repair job")}finally{W(!1)}else Cf.error("Please fill in all required fields")},variant:"golden",disabled:!b.itemDescription||!b.repairType||V,className:"touch-target",children:V?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Job"})]})]})]})]})]}),y&&g&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Jl,{className:"h-5 w-5"}),"Repair Job Statistics"]})}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,ne.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.totalJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"Total Jobs"})]}),(0,ne.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:g.pendingJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"Pending"})]}),(0,ne.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.inProgressJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),(0,ne.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g.completedJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"Completed"})]}),(0,ne.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:g.readyForPickupJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"Ready for Pickup"})]}),(0,ne.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,ne.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g.deliveredJobs}),(0,ne.jsx)("div",{className:"text-sm text-gray-600",children:"Delivered"})]})]}),(0,ne.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-semibold mb-3",children:"Revenue Overview"}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Total Revenue:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(g.totalRevenue)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Average Completion Time:"}),(0,ne.jsxs)("span",{className:"font-semibold",children:[g.averageCompletionTime.toFixed(1)," hours"]})]})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-semibold mb-3",children:"Jobs by Priority"}),(0,ne.jsx)("div",{className:"space-y-2",children:Object.entries(g.jobsByPriority).map(e=>{let[t,r]=e;return(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsxs)("span",{className:"capitalize",children:[t,":"]}),(0,ne.jsx)("span",{className:"font-semibold",children:r})]},t)})})]})]})]})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search by job number, customer name, or item description...",value:s,onChange:e=>l(e.target.value),className:"pl-10 touch-target"})]})})}),(0,ne.jsxs)(_p,{value:n,onValueChange:a,children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-7",children:[(0,ne.jsx)(Ip,{value:"all",children:"All Jobs"}),(0,ne.jsx)(Ip,{value:"pending",children:"Pending"}),(0,ne.jsx)(Ip,{value:"inprogress",children:"In Progress"}),(0,ne.jsx)(Ip,{value:"completed",children:"Completed"}),(0,ne.jsx)(Ip,{value:"readyforpickup",children:"Ready"}),(0,ne.jsx)(Ip,{value:"delivered",children:"Delivered"}),(0,ne.jsx)(Ip,{value:"cancelled",children:"Cancelled"})]}),(0,ne.jsx)(Fp,{value:n,className:"mt-6",children:(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"overflow-x-auto",children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Job #"}),(0,ne.jsx)(Lh,{children:"Customer"}),(0,ne.jsx)(Lh,{children:"Item Description"}),(0,ne.jsx)(Lh,{children:"Repair Type"}),(0,ne.jsx)(Lh,{children:"Priority"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Technician"}),(0,ne.jsx)(Lh,{children:"Created"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:ue.map(e=>{var t;return(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.financialTransactionNumber||"RJ-".concat(e.id)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.customerName||"Walk-in Customer"}),e.customerPhone&&(0,ne.jsx)("div",{className:"text-sm text-gray-500",children:e.customerPhone})]})}),(0,ne.jsx)(zh,{className:"max-w-xs truncate",children:e.repairDescription}),(0,ne.jsx)(zh,{children:"Repair Service"}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",className:"capitalize",children:(null===(t=Z.find(t=>t.value===e.priority))||void 0===t?void 0:t.displayName)||"Unknown"})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:de(e.status),className:he(e.status),children:e.statusDisplayName||e.status})}),(0,ne.jsx)(zh,{children:e.assignedTechnicianName||(0,ne.jsx)("span",{className:"text-gray-400",children:"Unassigned"})}),(0,ne.jsx)(zh,{children:new Date(e.createdAt).toLocaleDateString()}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>(e=>{k(e),N(!0)})(e),className:"touch-target",children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})}),!e.assignedTechnicianId&&(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>(e=>{I(e),R({technicianId:"",technicianNotes:""}),_(!0)})(e),className:"touch-target",children:(0,ne.jsx)(Yt,{className:"h-4 w-4"})}),1===e.status&&(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>ce(e,"In Progress"),className:"touch-target",children:(0,ne.jsx)(Zl,{className:"h-4 w-4"})}),2===e.status&&(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>ce(e,"Completed"),className:"touch-target",children:(0,ne.jsx)(Rp,{className:"h-4 w-4"})}),3===e.status&&(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>ce(e,"Ready for Pickup"),className:"touch-target",children:(0,ne.jsx)(ec,{className:"h-4 w-4"})}),4===e.status&&(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:()=>ce(e,"Delivered"),className:"touch-target",children:(0,ne.jsx)(Bp,{className:"h-4 w-4"})})]})})]},e.id)})})]}),0===ue.length&&(0,ne.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No repair jobs found matching your criteria."})]})})})})]}),(0,ne.jsx)(Kh,{open:w,onOpenChange:N,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{children:[(null===S||void 0===S?void 0:S.financialTransactionNumber)||"RJ-".concat(null===S||void 0===S?void 0:S.id)," - Repair Job Details"]})}),S&&(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,ne.jsx)("p",{className:"text-sm",children:S.customerName||"Walk-in Customer"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,ne.jsx)("p",{className:"text-sm",children:S.customerPhone||"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Repair Type"}),(0,ne.jsx)("p",{className:"text-sm",children:"Repair Service"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Priority"}),(0,ne.jsx)(or,{variant:"outline",className:"capitalize",children:(null===(e=Z.find(e=>e.value===S.priority))||void 0===e?void 0:e.displayName)||"Unknown"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,ne.jsx)(or,{variant:de(S.status),className:he(S.status),children:S.statusDisplayName||S.status})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Technician"}),(0,ne.jsx)("p",{className:"text-sm",children:S.assignedTechnicianName||"Unassigned"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,ne.jsx)("p",{className:"text-sm",children:new Date(S.createdAt).toLocaleString()})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Estimated Cost"}),(0,ne.jsx)("p",{className:"text-sm",children:S.actualCost?pc(S.actualCost):"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Amount Paid"}),(0,ne.jsx)("p",{className:"text-sm",children:S.amountPaid?pc(S.amountPaid):"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Estimated Completion"}),(0,ne.jsx)("p",{className:"text-sm",children:S.estimatedCompletionDate?new Date(S.estimatedCompletionDate).toLocaleDateString():"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Completed At"}),(0,ne.jsx)("p",{className:"text-sm",children:S.completedDate?new Date(S.completedDate).toLocaleString():"N/A"})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Item Description"}),(0,ne.jsx)("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:S.repairDescription})]}),S.technicianNotes&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Technician Notes"}),(0,ne.jsx)("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:S.technicianNotes})]}),S.materialsUsed&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Materials Used"}),(0,ne.jsx)("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:S.materialsUsed})]}),S.hoursSpent&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-sm font-medium text-gray-500",children:"Hours Spent"}),(0,ne.jsxs)("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:[S.hoursSpent," hours"]})]})]})]})}),(0,ne.jsx)(Kh,{open:C,onOpenChange:O,children:(0,ne.jsxs)(Jh,{className:"max-w-md bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Update Repair Job Status"}),(0,ne.jsxs)(Zh,{children:["Update the status for repair job ",(null===P||void 0===P?void 0:P.financialTransactionNumber)||"RJ-".concat(null===P||void 0===P?void 0:P.id)]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"status",children:"New Status"}),(0,ne.jsxs)(wh,{value:A.status,onValueChange:e=>T(c(c({},A),{},{status:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select new status"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:G.map(e=>(0,ne.jsx)(Ch,{value:e.displayName,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.displayName},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"statusNotes",children:"Notes"}),(0,ne.jsx)(Lf,{id:"statusNotes",value:A.notes,onChange:e=>T(c(c({},A),{},{notes:e.target.value})),placeholder:"Add any notes about the status update...",rows:3})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"materialsUsed",children:"Materials Used"}),(0,ne.jsx)(vt,{id:"materialsUsed",value:A.materialsUsed,onChange:e=>T(c(c({},A),{},{materialsUsed:e.target.value})),placeholder:"e.g., Gold wire, solder, stones"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"hoursSpent",children:"Hours Spent"}),(0,ne.jsx)(vt,{id:"hoursSpent",type:"number",value:A.hoursSpent,onChange:e=>T(c(c({},A),{},{hoursSpent:e.target.value})),placeholder:"Enter hours spent",step:"0.5",min:"0"})]}),("Completed"===A.status||"Ready for Pickup"===A.status)&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"additionalPayment",children:"Additional Payment Amount"}),(0,ne.jsx)(vt,{id:"additionalPayment",type:"number",value:A.additionalPaymentAmount,onChange:e=>T(c(c({},A),{},{additionalPaymentAmount:e.target.value})),placeholder:"Enter additional payment amount",step:"0.01",min:"0"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,ne.jsxs)(wh,{value:A.paymentMethod,onValueChange:e=>T(c(c({},A),{},{paymentMethod:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select payment method"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:te.map(e=>(0,ne.jsx)(Ch,{value:e.name,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.displayName},e.value))})]})]})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",className:"touch-target",onClick:()=>O(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:()=>"Completed"===A.status?(async e=>{try{H(!0);const r=B.find(t=>t.id===e);if(!r)return void Cf.error("Repair job not found");if(2!==r.status){var t;const e=(null===(t=G.find(e=>e.value===r.status))||void 0===t?void 0:t.displayName)||"Unknown";return void Cf.error("Cannot complete repair from ".concat(e," status. Job must be In Progress first."))}const n=A.materialsUsed?parseFloat(A.materialsUsed)||r.repairAmount||0:r.repairAmount||0,a=te.find(e=>e.name===A.paymentMethod),i=(null===a||void 0===a?void 0:a.value)||1;await J.completeRepair(e,{actualCost:n,technicianNotes:A.notes,materialsUsed:A.materialsUsed,hoursSpent:A.hoursSpent?parseFloat(A.hoursSpent):void 0,additionalPaymentAmount:A.additionalPaymentAmount?parseFloat(A.additionalPaymentAmount):void 0,paymentMethod:i}),Cf.success("Repair job completed successfully"),O(!1),oe(),ae()}catch(r){console.error("Error completing repair job:",r);const e=r instanceof Error?r.message:"Failed to complete repair job";Cf.error(e)}finally{H(!1)}})(P.id):(async(e,t)=>{try{var r;H(!0);const a=B.find(t=>t.id===e);if(!a)return void Cf.error("Repair job not found");const i=G.find(e=>e.displayName===t);if(!i)return void Cf.error("Invalid status selected");const o={1:[2,6],2:[3,6],3:[4,6],4:[5,6],5:[],6:[]},s=a.status,l=i.value;if(null===(r=o[s])||void 0===r||!r.includes(l)){var n;const e=(null===(n=G.find(e=>e.value===s))||void 0===n?void 0:n.displayName)||"Unknown";return void Cf.error("Cannot transition from ".concat(e," to ").concat(t,". Please follow the proper workflow."))}const c=te.find(e=>e.name===A.paymentMethod),u=(null===c||void 0===c?void 0:c.value)||1;await J.updateRepairJobStatus(e,{status:i.value,technicianNotes:A.notes,materialsUsed:A.materialsUsed,hoursSpent:A.hoursSpent?parseFloat(A.hoursSpent):void 0,additionalPaymentAmount:A.additionalPaymentAmount?parseFloat(A.additionalPaymentAmount):void 0,paymentMethod:u}),Cf.success("Repair job status updated successfully"),O(!1),oe(),ae()}catch(a){console.error("Error updating repair job status:",a);const e=a instanceof Error?a.message:"Failed to update repair job status";Cf.error(e)}finally{H(!1)}})(P.id,A.status),variant:"golden",disabled:!A.status,className:"touch-target",children:"Update Status"})]})]})}),(0,ne.jsx)(Kh,{open:D,onOpenChange:_,children:(0,ne.jsxs)(Jh,{className:"max-w-md bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Assign Technician"}),(0,ne.jsxs)(Zh,{children:["Assign a technician to repair job ",(null===M||void 0===M?void 0:M.financialTransactionNumber)||"RJ-".concat(null===M||void 0===M?void 0:M.id)]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"technicianId",children:"Technician"}),(0,ne.jsxs)(wh,{value:F.technicianId,onValueChange:e=>R(c(c({},F),{},{technicianId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select a technician"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:p.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[e.fullName," ",e.specialization&&"(".concat(e.specialization,")")]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"assignTechnicianNotes",children:"Notes"}),(0,ne.jsx)(Lf,{id:"assignTechnicianNotes",value:F.technicianNotes,onChange:e=>R(c(c({},F),{},{technicianNotes:e.target.value})),placeholder:"Add any special instructions for the technician...",rows:3})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",className:"touch-target",onClick:()=>_(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:()=>(async e=>{try{H(!0),await J.assignTechnician(e,{technicianId:parseInt(F.technicianId)}),Cf.success("Technician assigned successfully"),_(!1),le(),ae()}catch(t){console.error("Error assigning technician:",t),Cf.error("Failed to assign technician")}finally{H(!1)}})(M.id),variant:"golden",disabled:!F.technicianId,className:"touch-target",children:"Assign Technician"})]})]})})]})}const zp=Gt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Up=Gt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Vp=Gt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Wp=Gt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),qp=Gt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Hp=Gt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Kp(){var e;const{user:r}=se(),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)({fullName:"",phoneNumber:"",email:"",specialization:"",branchId:(null===r||void 0===r||null===(e=r.branch)||void 0===e?void 0:e.id)||1}),[b,j]=(0,t.useState)({fullName:"",phoneNumber:"",email:"",specialization:"",isActive:!0,branchId:1}),w=async()=>{try{l(!0);const e=await X.searchTechnicians({pageSize:100,isActive:!0});a(e.items)}catch(e){console.error("Failed to fetch technicians:",e),Cf.error("Failed to Load Technicians",{description:"Unable to fetch technicians. Please check your connection and try again.",duration:5e3})}finally{l(!1)}};(0,t.useEffect)(()=>{w(),(async()=>{try{const e=await I.getBranches({pageSize:100});o(e.items)}catch(e){console.error("Failed to fetch branches:",e),Cf.warning("Branch List Unavailable",{description:"Unable to load branch list. Some features may be limited.",duration:4e3})}})()},[]);const N=n.filter(e=>e.fullName.toLowerCase().includes(u.toLowerCase())||e.phoneNumber.includes(u)||e.email&&e.email.toLowerCase().includes(u.toLowerCase())||e.specialization&&e.specialization.toLowerCase().includes(u.toLowerCase())),S=e=>{const t=[];return e.fullName.trim()||t.push("Full name is required"),e.phoneNumber.trim()||t.push("Phone number is required"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&t.push("Please enter a valid email address"),t};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Technician Management"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage technicians for repair jobs"})]}),(0,ne.jsxs)(Kh,{open:h,onOpenChange:f,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{className:"touch-target",variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"New Technician"]})}),(0,ne.jsxs)(Jh,{className:"max-w-md bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Add New Technician"}),(0,ne.jsxs)(Zh,{children:["Fill in the details for the new technician. Fields marked with ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})," are required."]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"fullName",children:["Full Name ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsx)(vt,{id:"fullName",value:y.fullName,onChange:e=>x(c(c({},y),{},{fullName:e.target.value})),placeholder:"Enter full name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"phoneNumber",children:["Phone Number ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsx)(vt,{id:"phoneNumber",value:y.phoneNumber,onChange:e=>x(c(c({},y),{},{phoneNumber:e.target.value})),placeholder:"Enter phone number"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email"}),(0,ne.jsx)(vt,{id:"email",type:"email",value:y.email,onChange:e=>x(c(c({},y),{},{email:e.target.value})),placeholder:"Enter email address"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"specialization",children:"Specialization"}),(0,ne.jsx)(vt,{id:"specialization",value:y.specialization,onChange:e=>x(c(c({},y),{},{specialization:e.target.value})),placeholder:"e.g., Ring repairs, Stone setting"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"branchId",children:"Branch"}),(0,ne.jsxs)(wh,{value:y.branchId.toString(),onValueChange:e=>x(c(c({},y),{},{branchId:parseInt(e)})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:i.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",className:"touch-target",onClick:()=>f(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{try{var e;v(!0);const t=S(y);if(t.length>0)return void Cf.error("Validation Failed",{description:t.join("\n"),duration:5e3});const n={fullName:y.fullName.trim(),phoneNumber:y.phoneNumber.trim(),email:y.email.trim()||void 0,specialization:y.specialization.trim()||void 0,branchId:y.branchId};await X.createTechnician(n),Cf.success("Success!",{description:"Technician created successfully!",duration:4e3}),f(!1),x({fullName:"",phoneNumber:"",email:"",specialization:"",branchId:(null===r||void 0===r||null===(e=r.branch)||void 0===e?void 0:e.id)||1}),await w()}catch(t){console.error("Failed to create technician:",t),Cf.error("Failed to Create Technician",{description:t instanceof Error?t.message:"An unexpected error occurred. Please try again.",duration:6e3})}finally{v(!1)}},variant:"golden",disabled:g||!y.fullName.trim()||!y.phoneNumber.trim(),className:"touch-target",children:g?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Creating..."]}):"Create Technician"})]})]})]})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search by name, phone, email, or specialization...",value:u,onChange:e=>d(e.target.value),className:"pl-10 touch-target"})]})})}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Technicians"}),(0,ne.jsxs)(pt,{children:[N.length," technician(s) found"]})]}),(0,ne.jsx)(mt,{children:s?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-[#D4AF37] border-t-transparent rounded-full mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Loading technicians..."})]}):0===N.length?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:u?"No technicians match your search":"No technicians found"}),u&&(0,ne.jsx)(It,{variant:"outline",className:"mt-4",onClick:()=>d(""),children:"Clear Search"})]}):(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Name"}),(0,ne.jsx)(Lh,{children:"Contact"}),(0,ne.jsx)(Lh,{children:"Specialization"}),(0,ne.jsx)(Lh,{children:"Branch"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:N.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.fullName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",e.id]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(zp,{className:"h-3 w-3 text-muted-foreground"}),(0,ne.jsx)("span",{className:"text-sm",children:e.phoneNumber})]}),e.email&&(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Up,{className:"h-3 w-3 text-muted-foreground"}),(0,ne.jsx)("span",{className:"text-sm",children:e.email})]})]})}),(0,ne.jsx)(zh,{children:e.specialization?(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Vp,{className:"h-3 w-3 text-muted-foreground"}),(0,ne.jsx)("span",{className:"text-sm",children:e.specialization})]}):(0,ne.jsx)("span",{className:"text-sm text-muted-foreground",children:"General"})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Wp,{className:"h-3 w-3 text-muted-foreground"}),(0,ne.jsx)("span",{className:"text-sm",children:e.branchName||"Unknown"})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>(e=>{m(e),j({fullName:e.fullName,phoneNumber:e.phoneNumber,email:e.email||"",specialization:e.specialization||"",isActive:e.isActive,branchId:e.branchId})})(e),className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:(0,ne.jsx)(qp,{className:"h-3 w-3"})}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete technician "'.concat(e.fullName,'"?')))try{await X.deleteTechnician(e.id),Cf.success("Success!",{description:"Technician deleted successfully!",duration:4e3}),await w()}catch(t){console.error("Failed to delete technician:",t),Cf.error("Failed to Delete Technician",{description:t instanceof Error?t.message:"An unexpected error occurred. Please try again.",duration:6e3})}})(e),className:"touch-target hover:bg-red-50 hover:text-red-600 transition-colors",children:(0,ne.jsx)(Hp,{className:"h-3 w-3"})})]})})]},e.id))})]})})]}),(0,ne.jsx)(Kh,{open:!!p,onOpenChange:e=>!e&&m(null),children:(0,ne.jsxs)(Jh,{className:"max-w-md bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Edit Technician"}),(0,ne.jsxs)(Zh,{children:["Update the technician's information. Fields marked with ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})," are required."]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"editFullName",children:["Full Name ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsx)(vt,{id:"editFullName",value:b.fullName,onChange:e=>j(c(c({},b),{},{fullName:e.target.value})),placeholder:"Enter full name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"editPhoneNumber",children:["Phone Number ",(0,ne.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ne.jsx)(vt,{id:"editPhoneNumber",value:b.phoneNumber,onChange:e=>j(c(c({},b),{},{phoneNumber:e.target.value})),placeholder:"Enter phone number"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"editEmail",children:"Email"}),(0,ne.jsx)(vt,{id:"editEmail",type:"email",value:b.email,onChange:e=>j(c(c({},b),{},{email:e.target.value})),placeholder:"Enter email address"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"editSpecialization",children:"Specialization"}),(0,ne.jsx)(vt,{id:"editSpecialization",value:b.specialization,onChange:e=>j(c(c({},b),{},{specialization:e.target.value})),placeholder:"e.g., Ring repairs, Stone setting"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"editBranchId",children:"Branch"}),(0,ne.jsxs)(wh,{value:b.branchId.toString(),onValueChange:e=>j(c(c({},b),{},{branchId:parseInt(e)})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:i.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"editIsActive",children:"Status"}),(0,ne.jsxs)(wh,{value:b.isActive.toString(),onValueChange:e=>j(c(c({},b),{},{isActive:"true"===e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"true",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Active"}),(0,ne.jsx)(Ch,{value:"false",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Inactive"})]})]})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",className:"touch-target",onClick:()=>m(null),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{if(p)try{v(!0);const e=S(b);if(e.length>0)return void Cf.error("Validation Failed",{description:e.join("\n"),duration:5e3});const t={fullName:b.fullName.trim(),phoneNumber:b.phoneNumber.trim(),email:b.email.trim()||void 0,specialization:b.specialization.trim()||void 0,isActive:b.isActive,branchId:b.branchId};await X.updateTechnician(p.id,t),Cf.success("Success!",{description:"Technician updated successfully!",duration:4e3}),m(null),j({fullName:"",phoneNumber:"",email:"",specialization:"",isActive:!0,branchId:1}),await w()}catch(e){console.error("Failed to update technician:",e),Cf.error("Failed to Update Technician",{description:e instanceof Error?e.message:"An unexpected error occurred. Please try again.",duration:6e3})}finally{v(!1)}},variant:"golden",disabled:g||!b.fullName.trim()||!b.phoneNumber.trim(),className:"touch-target",children:g?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Updating..."]}):"Update Technician"})]})]})})]})}const Gp=["__scopeMenu"],$p=["forceMount"],Yp=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],Jp=["__scopeMenu"],Xp=["__scopeMenu"],Qp=["disabled","onSelect"],Zp=["__scopeMenu","disabled","textValue"],em=["checked","onCheckedChange"],tm=["value","onValueChange"],rm=["value"],nm=["__scopeMenu","forceMount"],am=["__scopeMenu"],im=["__scopeMenu"],om=["forceMount"];var sm=["Enter"," "],lm=["ArrowUp","PageDown","End"],cm=["ArrowDown","PageUp","Home",...lm],um={ltr:[...sm,"ArrowRight"],rtl:[...sm,"ArrowLeft"]},dm={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hm="Menu",[fm,pm,mm]=Pu(hm),[gm,vm]=xr(hm,[mm,hs,Yf]),ym=hs(),xm=Yf(),[bm,jm]=gm(hm),[wm,Nm]=gm(hm),Sm=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:i,onOpenChange:o,modal:s=!0}=e,l=ym(r),[u,d]=t.useState(null),h=t.useRef(!1),f=Or(o),p=_u(i);return t.useEffect(()=>{const e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,ne.jsx)(Ps,c(c({},l),{},{children:(0,ne.jsx)(bm,{scope:r,open:n,onOpenChange:f,content:u,onContentChange:d,children:(0,ne.jsx)(wm,{scope:r,onClose:t.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:s,children:a})})}))};Sm.displayName=hm;var km=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=le(e,Gp),a=ym(r);return(0,ne.jsx)(Es,c(c(c({},a),n),{},{ref:t}))});km.displayName="MenuAnchor";var Cm="MenuPortal",[Om,Pm]=gm(Cm,{forceMount:void 0}),Em=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=jm(Cm,t);return(0,ne.jsx)(Om,{scope:t,forceMount:r,children:(0,ne.jsx)(Xr,{present:r||i.open,children:(0,ne.jsx)(Jr,{asChild:!0,container:a,children:n})})})};Em.displayName=Cm;var Am="MenuContent",[Tm,Dm]=gm(Am),_m=t.forwardRef((e,t)=>{const r=Pm(Am,e.__scopeMenu),{forceMount:n=r.forceMount}=e,a=le(e,$p),i=jm(Am,e.__scopeMenu),o=Nm(Am,e.__scopeMenu);return(0,ne.jsx)(fm.Provider,{scope:e.__scopeMenu,children:(0,ne.jsx)(Xr,{present:n||i.open,children:(0,ne.jsx)(fm.Slot,{scope:e.__scopeMenu,children:o.modal?(0,ne.jsx)(Mm,c(c({},a),{},{ref:t})):(0,ne.jsx)(Im,c(c({},a),{},{ref:t}))})})})}),Mm=t.forwardRef((e,r)=>{const n=jm(Am,e.__scopeMenu),a=t.useRef(null),i=bt(r,a);return t.useEffect(()=>{const e=a.current;if(e)return ta(e)},[]),(0,ne.jsx)(Rm,c(c({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:gr(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Im=t.forwardRef((e,t)=>{const r=jm(Am,e.__scopeMenu);return(0,ne.jsx)(Rm,c(c({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),Fm=Nt("MenuContent.ScrollLock"),Rm=t.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:g}=e,v=le(e,Yp),y=jm(Am,n),x=Nm(Am,n),b=ym(n),j=xm(n),w=pm(n),[N,S]=t.useState(null),k=t.useRef(null),C=bt(r,k,y.onContentChange),O=t.useRef(0),P=t.useRef(""),E=t.useRef(0),A=t.useRef(null),T=t.useRef("right"),D=t.useRef(0),_=g?Gn:t.Fragment,M=g?{as:Fm,allowPinchZoom:!0}:void 0,I=e=>{var t,r;const n=P.current+e,a=w().filter(e=>!e.disabled),i=document.activeElement,o=null===(t=a.find(e=>e.ref.current===i))||void 0===t?void 0:t.textValue,s=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),a=n?t[0]:t,i=r?e.indexOf(r):-1;let o=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(i,0));1===a.length&&(o=o.filter(e=>e!==r));const s=o.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(a.map(e=>e.textValue),n,o),l=null===(r=a.find(e=>e.textValue===s))||void 0===r?void 0:r.ref.current;!function e(t){P.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};t.useEffect(()=>()=>window.clearTimeout(O.current),[]),en();const F=t.useCallback(e=>{var t,r;return T.current===(null===(t=A.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const e=t[i],s=t[o],l=e.x,c=e.y,u=s.x,d=s.y;c>n!==d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}(r,t)}(e,null===(r=A.current)||void 0===r?void 0:r.area)},[]);return(0,ne.jsx)(Tm,{scope:n,searchRef:P,onItemEnter:t.useCallback(e=>{F(e)&&e.preventDefault()},[F]),onItemLeave:t.useCallback(e=>{var t;F(e)||(null===(t=k.current)||void 0===t||t.focus(),S(null))},[F]),onTriggerLeave:t.useCallback(e=>{F(e)&&e.preventDefault()},[F]),pointerGraceTimerRef:E,onPointerGraceIntentChange:t.useCallback(e=>{A.current=e},[]),children:(0,ne.jsx)(_,c(c({},M),{},{children:(0,ne.jsx)(Vr,{asChild:!0,trapped:i,onMountAutoFocus:gr(o,e=>{var t;e.preventDefault(),null===(t=k.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:(0,ne.jsx)(Mr,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:(0,ne.jsx)(ap,c(c({asChild:!0},j),{},{dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:gr(u,e=>{x.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,ne.jsx)(As,c(c(c({role:"menu","aria-orientation":"vertical","data-state":dg(y.open),"data-radix-menu-content":"",dir:x.dir},b),v),{},{ref:C,style:c({outline:"none"},v.style),onKeyDown:gr(v.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&I(e.key));const a=k.current;if(e.target!==a)return;if(!cm.includes(e.key))return;e.preventDefault();const i=w().filter(e=>!e.disabled).map(e=>e.ref.current);lm.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(i)}),onBlur:gr(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:gr(e.onPointerMove,pg(e=>{const t=e.target,r=D.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>D.current?"right":"left";T.current=t,D.current=e.clientX}}))}))}))})})}))})});_m.displayName=Am;var Bm=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=le(e,Jp);return(0,ne.jsx)(Bt.div,c(c({role:"group"},n),{},{ref:t}))});Bm.displayName="MenuGroup";var Lm=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=le(e,Xp);return(0,ne.jsx)(Bt.div,c(c({},n),{},{ref:t}))});Lm.displayName="MenuLabel";var zm="MenuItem",Um="menu.itemSelect",Vm=t.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a}=e,i=le(e,Qp),o=t.useRef(null),s=Nm(zm,e.__scopeMenu),l=Dm(zm,e.__scopeMenu),u=bt(r,o),d=t.useRef(!1);return(0,ne.jsx)(Wm,c(c({},i),{},{ref:u,disabled:n,onClick:gr(e.onClick,()=>{const e=o.current;if(!n&&e){const t=new CustomEvent(Um,{bubbles:!0,cancelable:!0});e.addEventListener(Um,e=>null===a||void 0===a?void 0:a(e),{once:!0}),Lt(e,t),t.defaultPrevented?d.current=!1:s.onClose()}}),onPointerDown:t=>{var r;null===(r=e.onPointerDown)||void 0===r||r.call(e,t),d.current=!0},onPointerUp:gr(e.onPointerUp,e=>{var t;d.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:gr(e.onKeyDown,e=>{const t=""!==l.searchRef.current;n||t&&" "===e.key||sm.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});Vm.displayName=zm;var Wm=t.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i}=e,o=le(e,Zp),s=Dm(zm,n),l=xm(n),u=t.useRef(null),d=bt(r,u),[h,f]=t.useState(!1),[p,m]=t.useState("");return t.useEffect(()=>{const e=u.current;var t;e&&m((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[o.children]),(0,ne.jsx)(fm.ItemSlot,{scope:n,disabled:a,textValue:null!==i&&void 0!==i?i:p,children:(0,ne.jsx)(ip,c(c({asChild:!0},l),{},{focusable:!a,children:(0,ne.jsx)(Bt.div,c(c({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},o),{},{ref:d,onPointerMove:gr(e.onPointerMove,pg(e=>{if(a)s.onItemLeave(e);else if(s.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:gr(e.onPointerLeave,pg(e=>s.onItemLeave(e))),onFocus:gr(e.onFocus,()=>f(!0)),onBlur:gr(e.onBlur,()=>f(!1))}))}))})}),qm=t.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n}=e,a=le(e,em);return(0,ne.jsx)(Qm,{scope:e.__scopeMenu,checked:r,children:(0,ne.jsx)(Vm,c(c({role:"menuitemcheckbox","aria-checked":hg(r)?"mixed":r},a),{},{ref:t,"data-state":fg(r),onSelect:gr(a.onSelect,()=>null===n||void 0===n?void 0:n(!!hg(r)||!r),{checkForDefaultPrevented:!1})}))})});qm.displayName="MenuCheckboxItem";var Hm="MenuRadioGroup",[Km,Gm]=gm(Hm,{value:void 0,onValueChange:()=>{}}),$m=t.forwardRef((e,t)=>{const{value:r,onValueChange:n}=e,a=le(e,tm),i=Or(n);return(0,ne.jsx)(Km,{scope:e.__scopeMenu,value:r,onValueChange:i,children:(0,ne.jsx)(Bm,c(c({},a),{},{ref:t}))})});$m.displayName=Hm;var Ym="MenuRadioItem",Jm=t.forwardRef((e,t)=>{const{value:r}=e,n=le(e,rm),a=Gm(Ym,e.__scopeMenu),i=r===a.value;return(0,ne.jsx)(Qm,{scope:e.__scopeMenu,checked:i,children:(0,ne.jsx)(Vm,c(c({role:"menuitemradio","aria-checked":i},n),{},{ref:t,"data-state":fg(i),onSelect:gr(n.onSelect,()=>{var e;return null===(e=a.onValueChange)||void 0===e?void 0:e.call(a,r)},{checkForDefaultPrevented:!1})}))})});Jm.displayName=Ym;var Xm="MenuItemIndicator",[Qm,Zm]=gm(Xm,{checked:!1}),eg=t.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n}=e,a=le(e,nm),i=Zm(Xm,r);return(0,ne.jsx)(Xr,{present:n||hg(i.checked)||!0===i.checked,children:(0,ne.jsx)(Bt.span,c(c({},a),{},{ref:t,"data-state":fg(i.checked)}))})});eg.displayName=Xm;var tg=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=le(e,am);return(0,ne.jsx)(Bt.div,c(c({role:"separator","aria-orientation":"horizontal"},n),{},{ref:t}))});tg.displayName="MenuSeparator";var rg=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=le(e,im),a=ym(r);return(0,ne.jsx)(Ts,c(c(c({},a),n),{},{ref:t}))});rg.displayName="MenuArrow";var ng="MenuSub",[ag,ig]=gm(ng),og=e=>{const{__scopeMenu:r,children:n,open:a=!1,onOpenChange:i}=e,o=jm(ng,r),s=ym(r),[l,u]=t.useState(null),[d,h]=t.useState(null),f=Or(i);return t.useEffect(()=>(!1===o.open&&f(!1),()=>f(!1)),[o.open,f]),(0,ne.jsx)(Ps,c(c({},s),{},{children:(0,ne.jsx)(bm,{scope:r,open:a,onOpenChange:f,content:d,onContentChange:h,children:(0,ne.jsx)(ag,{scope:r,contentId:Sr(),triggerId:Sr(),trigger:l,onTriggerChange:u,children:n})})}))};og.displayName=ng;var sg="MenuSubTrigger",lg=t.forwardRef((e,r)=>{const n=jm(sg,e.__scopeMenu),a=Nm(sg,e.__scopeMenu),i=ig(sg,e.__scopeMenu),o=Dm(sg,e.__scopeMenu),s=t.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=o,d={__scopeMenu:e.__scopeMenu},h=t.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return t.useEffect(()=>h,[h]),t.useEffect(()=>{const e=l.current;return()=>{window.clearTimeout(e),u(null)}},[l,u]),(0,ne.jsx)(km,c(c({asChild:!0},d),{},{children:(0,ne.jsx)(Wm,c(c({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":dg(n.open)},e),{},{ref:xt(r,i.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:gr(e.onPointerMove,pg(t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||s.current||(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:gr(e.onPointerLeave,pg(e=>{var t;h();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var a;const t=null===(a=n.content)||void 0===a?void 0:a.dataset.side,i="right"===t,s=i?-5:5,c=r[i?"left":"right"],u=r[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:c,y:r.top},{x:u,y:r.top},{x:u,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:gr(e.onKeyDown,t=>{const r=""!==o.searchRef.current;var i;e.disabled||r&&" "===t.key||um[a.dir].includes(t.key)&&(n.onOpenChange(!0),null===(i=n.content)||void 0===i||i.focus(),t.preventDefault())})}))}))});lg.displayName=sg;var cg="MenuSubContent",ug=t.forwardRef((e,r)=>{const n=Pm(Am,e.__scopeMenu),{forceMount:a=n.forceMount}=e,i=le(e,om),o=jm(Am,e.__scopeMenu),s=Nm(Am,e.__scopeMenu),l=ig(cg,e.__scopeMenu),u=t.useRef(null),d=bt(r,u);return(0,ne.jsx)(fm.Provider,{scope:e.__scopeMenu,children:(0,ne.jsx)(Xr,{present:a||o.open,children:(0,ne.jsx)(fm.Slot,{scope:e.__scopeMenu,children:(0,ne.jsx)(Rm,c(c({id:l.contentId,"aria-labelledby":l.triggerId},i),{},{ref:d,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;s.isUsingKeyboardRef.current&&(null===(t=u.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:gr(e.onFocusOutside,e=>{e.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:gr(e.onEscapeKeyDown,e=>{s.onClose(),e.preventDefault()}),onKeyDown:gr(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),r=dm[s.dir].includes(e.key);var n;t&&r&&(o.onOpenChange(!1),null===(n=l.trigger)||void 0===n||n.focus(),e.preventDefault())})}))})})})});function dg(e){return e?"open":"closed"}function hg(e){return"indeterminate"===e}function fg(e){return hg(e)?"indeterminate":e?"checked":"unchecked"}function pg(e){return t=>"mouse"===t.pointerType?e(t):void 0}ug.displayName=cg;var mg=Sm,gg=km,vg=Em,yg=_m,xg=Bm,bg=Lm,jg=Vm,wg=qm,Ng=$m,Sg=Jm,kg=eg,Cg=tg,Og=rg,Pg=lg,Eg=ug;const Ag=["__scopeDropdownMenu","disabled"],Tg=["__scopeDropdownMenu"],Dg=["__scopeDropdownMenu"],_g=["__scopeDropdownMenu"],Mg=["__scopeDropdownMenu"],Ig=["__scopeDropdownMenu"],Fg=["__scopeDropdownMenu"],Rg=["__scopeDropdownMenu"],Bg=["__scopeDropdownMenu"],Lg=["__scopeDropdownMenu"],zg=["__scopeDropdownMenu"],Ug=["__scopeDropdownMenu"],Vg=["__scopeDropdownMenu"],Wg=["__scopeDropdownMenu"];var qg="DropdownMenu",[Hg,Kg]=xr(qg,[vm]),Gg=vm(),[$g,Yg]=Hg(qg),Jg=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:i,defaultOpen:o,onOpenChange:s,modal:l=!0}=e,u=Gg(r),d=t.useRef(null),[h,f]=Cr({prop:i,defaultProp:null!==o&&void 0!==o&&o,onChange:s,caller:qg});return(0,ne.jsx)($g,{scope:r,triggerId:Sr(),triggerRef:d,contentId:Sr(),open:h,onOpenChange:f,onOpenToggle:t.useCallback(()=>f(e=>!e),[f]),modal:l,children:(0,ne.jsx)(mg,c(c({},u),{},{open:h,onOpenChange:f,dir:a,modal:l,children:n}))})};Jg.displayName=qg;var Xg="DropdownMenuTrigger",Qg=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1}=e,a=le(e,Ag),i=Yg(Xg,r),o=Gg(r);return(0,ne.jsx)(gg,c(c({asChild:!0},o),{},{children:(0,ne.jsx)(Bt.button,c(c({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a),{},{ref:xt(t,i.triggerRef),onPointerDown:gr(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())}),onKeyDown:gr(e.onKeyDown,e=>{n||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});Qg.displayName=Xg;var Zg=e=>{const{__scopeDropdownMenu:t}=e,r=le(e,Tg),n=Gg(t);return(0,ne.jsx)(vg,c(c({},n),r))};Zg.displayName="DropdownMenuPortal";var ev="DropdownMenuContent",tv=t.forwardRef((e,r)=>{const{__scopeDropdownMenu:n}=e,a=le(e,Dg),i=Yg(ev,n),o=Gg(n),s=t.useRef(!1);return(0,ne.jsx)(yg,c(c(c({id:i.contentId,"aria-labelledby":i.triggerId},o),a),{},{ref:r,onCloseAutoFocus:gr(e.onCloseAutoFocus,e=>{var t;s.current||null===(t=i.triggerRef.current)||void 0===t||t.focus(),s.current=!1,e.preventDefault()}),onInteractOutside:gr(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;i.modal&&!n||(s.current=!0)}),style:c(c({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});tv.displayName=ev;var rv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,_g),a=Gg(r);return(0,ne.jsx)(xg,c(c(c({},a),n),{},{ref:t}))});rv.displayName="DropdownMenuGroup";var nv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Mg),a=Gg(r);return(0,ne.jsx)(bg,c(c(c({},a),n),{},{ref:t}))});nv.displayName="DropdownMenuLabel";var av=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Ig),a=Gg(r);return(0,ne.jsx)(jg,c(c(c({},a),n),{},{ref:t}))});av.displayName="DropdownMenuItem";var iv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Fg),a=Gg(r);return(0,ne.jsx)(wg,c(c(c({},a),n),{},{ref:t}))});iv.displayName="DropdownMenuCheckboxItem";var ov=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Rg),a=Gg(r);return(0,ne.jsx)(Ng,c(c(c({},a),n),{},{ref:t}))});ov.displayName="DropdownMenuRadioGroup";var sv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Bg),a=Gg(r);return(0,ne.jsx)(Sg,c(c(c({},a),n),{},{ref:t}))});sv.displayName="DropdownMenuRadioItem";var lv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Lg),a=Gg(r);return(0,ne.jsx)(kg,c(c(c({},a),n),{},{ref:t}))});lv.displayName="DropdownMenuItemIndicator";var cv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,zg),a=Gg(r);return(0,ne.jsx)(Cg,c(c(c({},a),n),{},{ref:t}))});cv.displayName="DropdownMenuSeparator";var uv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Ug),a=Gg(r);return(0,ne.jsx)(Og,c(c(c({},a),n),{},{ref:t}))});uv.displayName="DropdownMenuArrow";var dv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Vg),a=Gg(r);return(0,ne.jsx)(Pg,c(c(c({},a),n),{},{ref:t}))});dv.displayName="DropdownMenuSubTrigger";var hv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=le(e,Wg),a=Gg(r);return(0,ne.jsx)(Eg,c(c(c({},a),n),{},{ref:t,style:c(c({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});hv.displayName="DropdownMenuSubContent";var fv=Jg,pv=Qg,mv=Zg,gv=tv,vv=av;const yv=["className","sideOffset"],xv=["className","inset","variant"];function bv(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(fv,c({"data-slot":"dropdown-menu"},t))}function jv(e){let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(pv,c({"data-slot":"dropdown-menu-trigger"},t))}function wv(e){let{className:t,sideOffset:r=4}=e,n=le(e,yv);return(0,ne.jsx)(mv,{children:(0,ne.jsx)(gv,c({"data-slot":"dropdown-menu-content",sideOffset:r,className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t)},n))})}function Nv(e){let{className:t,inset:r,variant:n="default"}=e,a=le(e,xv);return(0,ne.jsx)(vv,c({"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:it("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},a))}const Sv=Gt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function kv(e){let{product:r,goldRatesData:n,makingChargesData:a}=e;const[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{l(!0);const e=await hf(r.id,1);o(e.estimatedTotalPrice)}catch(e){console.error("Error fetching price from API:",e);try{if(n&&a){const e=df(r,n,a,1,null,[]);o(e.finalTotal)}else o(0)}catch(t){console.error("Fallback calculation failed:",t),o(0)}}finally{l(!1)}})()},[r.id,n,a]),s?(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin"}):(0,ne.jsx)("span",{children:pc(i||0)})}function Cv(){const{isManager:e}=se(),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)("all"),[o,s]=(0,t.useState)("all"),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),{data:m,loading:g,error:v,execute:y}=vc(),{execute:x,loading:b}=yc(),{execute:j,loading:w}=xc(),{execute:N,loading:k}=bc(),{data:C,loading:O,fetchKaratTypes:P}=mu(),{data:E,loading:A,fetchCategories:T}=gu(),{data:D,loading:_,execute:M}=zc(),{data:I,loading:F,fetchRates:R}=jc(),{data:B,loading:L,fetchCharges:z}=wc(),[U,V]=(0,t.useState)({productCode:"",name:"",categoryType:"GoldJewelry",karatType:"22K",weight:"",brand:"",designStyle:"",subCategory:"",shape:"",purityCertificateNumber:"",countryOfOrigin:"",yearOfMinting:"",faceValue:"",hasNumismaticValue:!1,makingChargesApplicable:!0,useProductMakingCharges:!1,supplierId:"none"});(0,t.useEffect)(()=>{P(),T(),M(),R(),z()},[P,T,M,R,z]),(0,t.useEffect)(()=>{y({searchTerm:r||void 0,categoryType:"all"!==a?a:void 0,karatType:"all"!==o?o:void 0,isActive:!0,pageNumber:1,pageSize:100})},[r,a,o,y]);const W=(null===m||void 0===m?void 0:m.items)||[],q=["GoldJewelry","Bullion","Coins"],H={GoldJewelry:"Gold Jewelry",Bullion:"Bullion",Coins:"Gold Coins"},K=C?S.lookupToSelectOptions(C).map(e=>e.value):["18K","21K","22K","24K"],G=((null===D||void 0===D?void 0:D.items)||[]).map(e=>({value:e.id.toString(),label:"".concat(e.companyName).concat(e.contactPersonName?" (".concat(e.contactPersonName,")"):"")}));return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Product Management"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage jewelry inventory and product catalog"})]}),e&&(0,ne.jsxs)(Kh,{open:l,onOpenChange:u,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{className:"touch-target",variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:f?"Edit Product":"Add New Product"}),(0,ne.jsx)(Zh,{children:f?"Update product information":"Enter product details to add to inventory"})]}),(0,ne.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e)if(U.productCode.trim())if(U.name.trim())if(!U.weight||isNaN(parseFloat(U.weight))||parseFloat(U.weight)<=0)alert("Valid weight is required (must be greater than 0)");else if(U.categoryType)if(U.karatType)try{var n,i,s,l,c,m;const e=parseFloat(U.weight),t={productCode:U.productCode.trim(),name:U.name.trim(),categoryType:S.productCategoryStringToEnum(U.categoryType),karatType:S.karatStringToEnum(U.karatType),weight:e,brand:(null===(n=U.brand)||void 0===n?void 0:n.trim())||void 0,designStyle:(null===(i=U.designStyle)||void 0===i?void 0:i.trim())||void 0,subCategory:(null===(s=U.subCategory)||void 0===s?void 0:s.trim())||void 0,shape:(null===(l=U.shape)||void 0===l?void 0:l.trim())||void 0,purityCertificateNumber:(null===(c=U.purityCertificateNumber)||void 0===c?void 0:c.trim())||void 0,countryOfOrigin:(null===(m=U.countryOfOrigin)||void 0===m?void 0:m.trim())||void 0,yearOfMinting:U.yearOfMinting?parseInt(U.yearOfMinting):void 0,faceValue:U.faceValue?parseFloat(U.faceValue):void 0,hasNumismaticValue:U.hasNumismaticValue,makingChargesApplicable:U.makingChargesApplicable,useProductMakingCharges:U.useProductMakingCharges,supplierId:U.supplierId&&""!==U.supplierId&&"none"!==U.supplierId?parseInt(U.supplierId):void 0,isActive:!0};console.log("Submitting product data:",t),f&&d?(await j(d.id,t),alert("Product updated successfully!")):(await x(t),alert("Product created successfully!")),await y({searchTerm:r||void 0,categoryType:"all"!==a?a:void 0,karatType:"all"!==o?o:void 0,isActive:!0,pageNumber:1,pageSize:100}),V({productCode:"",name:"",categoryType:"GoldJewelry",karatType:"22K",weight:"",brand:"",designStyle:"",subCategory:"",shape:"",purityCertificateNumber:"",countryOfOrigin:"",yearOfMinting:"",faceValue:"",hasNumismaticValue:!1,makingChargesApplicable:!0,useProductMakingCharges:!1,supplierId:"none"}),h(null),p(!1),u(!1)}catch(g){if(console.error("Error saving product:",g),g instanceof Error)try{const e=JSON.parse(g.message);if(e.errors){const t=Object.entries(e.errors).map(e=>{let[t,r]=e;return"".concat(t,": ").concat(Array.isArray(r)?r.join(", "):r)}).join("\n");alert("Validation errors:\n".concat(t))}else alert(g.message)}catch(v){alert(g.message)}else alert("Failed to save product")}else alert("Karat is required");else alert("Category is required");else alert("Product name is required");else alert("Product code is required");else alert("Only managers can manage products")},children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"productCode",children:"Product Code"}),(0,ne.jsx)(vt,{id:"productCode",value:U.productCode,onChange:e=>V(c(c({},U),{},{productCode:e.target.value})),placeholder:"GLD-XXX-XXX",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"name",children:"Product Name"}),(0,ne.jsx)(vt,{id:"name",value:U.name,onChange:e=>V(c(c({},U),{},{name:e.target.value})),placeholder:"Enter product name",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"categoryType",children:"Category"}),(0,ne.jsxs)(wh,{value:U.categoryType,onValueChange:e=>V(c(c({},U),{},{categoryType:e})),required:!0,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select category"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:q.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:H[e]},e))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"subCategory",children:"Subcategory"}),(0,ne.jsx)(vt,{id:"subCategory",value:U.subCategory,onChange:e=>V(c(c({},U),{},{subCategory:e.target.value})),placeholder:"Wedding, Designer, Traditional"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"karatType",children:"Karat"}),(0,ne.jsxs)(wh,{value:U.karatType,onValueChange:e=>V(c(c({},U),{},{karatType:e})),required:!0,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select karat"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:K.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e},e))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"weight",children:"Weight (grams)"}),(0,ne.jsx)(vt,{id:"weight",type:"number",step:"0.001",min:"0.001",value:U.weight,onChange:e=>V(c(c({},U),{},{weight:e.target.value})),placeholder:"0.0",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"shape",children:"Shape/Dimensions"}),(0,ne.jsx)(vt,{id:"shape",value:U.shape,onChange:e=>V(c(c({},U),{},{shape:e.target.value})),placeholder:"Size, length, diameter, shape"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"supplierId",children:"Supplier"}),(0,ne.jsxs)(wh,{value:"none"===U.supplierId?"":U.supplierId,onValueChange:e=>V(c(c({},U),{},{supplierId:e})),disabled:_,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:_?"Loading suppliers...":"Select supplier"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:_?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading suppliers..."}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Ch,{value:"none",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"None (No supplier)"}),G.map(e=>(0,ne.jsx)(Ch,{value:e.value,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.label},e.value))]})})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"brand",children:"Brand"}),(0,ne.jsx)(vt,{id:"brand",value:U.brand,onChange:e=>V(c(c({},U),{},{brand:e.target.value})),placeholder:"DijaGold Premium, Classic, etc."})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"yearOfMinting",children:"Year of Minting"}),(0,ne.jsx)(vt,{id:"yearOfMinting",type:"number",value:U.yearOfMinting,onChange:e=>V(c(c({},U),{},{yearOfMinting:e.target.value})),placeholder:"2024"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"faceValue",children:"Face Value"}),(0,ne.jsx)(vt,{id:"faceValue",type:"number",value:U.faceValue,onChange:e=>V(c(c({},U),{},{faceValue:e.target.value})),placeholder:"0"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"countryOfOrigin",children:"Country of Origin"}),(0,ne.jsx)(vt,{id:"countryOfOrigin",value:U.countryOfOrigin,onChange:e=>V(c(c({},U),{},{countryOfOrigin:e.target.value})),placeholder:"Country of origin"})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,ne.jsx)(It,{type:"submit",variant:"golden",disabled:b||w,children:b||w?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),f?"Updating...":"Creating..."]}):f?"Update Product":"Add Product"})]})]})]})]})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ne.jsxs)("div",{className:"relative flex-1",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search products by name, SKU, or description...",value:r,onChange:e=>n(e.target.value),className:"pl-10 touch-target"})]}),(0,ne.jsxs)(wh,{value:a,onValueChange:i,children:[(0,ne.jsx)(Sh,{className:"w-full md:w-40",children:(0,ne.jsx)(Nh,{placeholder:"Category"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Categories"}),q.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:H[e]},e))]})]}),(0,ne.jsxs)(wh,{value:o,onValueChange:s,children:[(0,ne.jsx)(Sh,{className:"w-full md:w-32",children:(0,ne.jsx)(Nh,{placeholder:"Karat"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Karats"}),K.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e},e))]})]})]})})}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Products"}),(0,ne.jsx)(pt,{children:g?"Loading...":"".concat(W.length," product(s) found")})]}),(0,ne.jsx)(mt,{children:g?(0,ne.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,ne.jsx)("div",{className:"flex items-center space-x-4",children:(0,ne.jsxs)("div",{className:"animate-pulse flex-1 space-y-2",children:[(0,ne.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,ne.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})},e))}):v?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)($t,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,ne.jsxs)("p",{className:"text-red-600",children:["Error loading products: ",v]}),(0,ne.jsx)(It,{onClick:()=>y({searchTerm:r||void 0,categoryType:"all"!==a?a:void 0,karatType:"all"!==o?o:void 0,isActive:!0,pageNumber:1,pageSize:100}),className:"mt-4",children:"Retry"})]}):0===W.length?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(ec,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:r||"all"!==a||"all"!==o?"No products found matching your filters":"No products in catalog"})]}):(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product Code"}),(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Category"}),(0,ne.jsx)(Lh,{children:"Karat"}),(0,ne.jsx)(Lh,{children:"Weight"}),(0,ne.jsx)(Lh,{children:"Est. Price"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:W.map(t=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:t.productCode}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:t.name}),t.brand&&(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:t.brand}),t.supplierName&&(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["by ",t.supplierName]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{children:H[S.productCategoryEnumToString(t.categoryType)]}),t.subCategory&&(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:t.subCategory})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",children:S.karatEnumToString(t.karatType)})}),(0,ne.jsxs)(zh,{children:[t.weight,"g"]}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:(0,ne.jsx)(kv,{product:t,goldRatesData:I||[],makingChargesData:B||[]})}),t.makingChargesApplicable&&(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"+ Making Charges"})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:t.isActive?"default":"secondary",children:t.isActive?"Active":"Inactive"})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(bv,{children:[(0,ne.jsx)(jv,{asChild:!0,children:(0,ne.jsx)(It,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,ne.jsx)(Sv,{className:"h-4 w-4"})})}),(0,ne.jsxs)(wv,{align:"end",className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Nv,{onClick:()=>{h(t)},className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[(0,ne.jsx)(Qt,{className:"mr-2 h-4 w-4"}),"View Details"]}),e&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Nv,{onClick:()=>{(e=>{var t,r,n;console.log("Opening edit dialog for product:",e),h(e);const a={productCode:e.productCode,name:e.name,categoryType:S.productCategoryEnumToString(e.categoryType),karatType:S.karatEnumToString(e.karatType),weight:e.weight.toString(),brand:e.brand||"",designStyle:e.designStyle||"",subCategory:e.subCategory||"",shape:e.shape||"",purityCertificateNumber:e.purityCertificateNumber||"",countryOfOrigin:e.countryOfOrigin||"",yearOfMinting:(null===(t=e.yearOfMinting)||void 0===t?void 0:t.toString())||"",faceValue:(null===(r=e.faceValue)||void 0===r?void 0:r.toString())||"",hasNumismaticValue:e.hasNumismaticValue||!1,makingChargesApplicable:e.makingChargesApplicable,useProductMakingCharges:e.useProductMakingCharges,supplierId:(null===(n=e.supplierId)||void 0===n?void 0:n.toString())||"none"};console.log("Setting form data:",a),V(a),p(!0)})(t),u(!0)},className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Edit Product"]}),(0,ne.jsxs)(Nv,{onClick:()=>(async t=>{if(e){if(window.confirm('Are you sure you want to delete "'.concat(t.name,'"?')))try{await N(t.id),alert("Product deleted successfully!"),await y({searchTerm:r||void 0,categoryType:"all"!==a?a:void 0,karatType:"all"!==o?o:void 0,isActive:!0,pageNumber:1,pageSize:100})}catch(n){console.error("Error deleting product:",n),alert(n instanceof Error?n.message:"Failed to delete product")}}else alert("Only managers can delete products")})(t),className:"text-red-600 hover:bg-red-50 focus:bg-red-50 focus:text-red-700",disabled:k,children:[(0,ne.jsx)(Hp,{className:"mr-2 h-4 w-4"}),k?"Deleting...":"Delete Product"]})]})]})]})})]},t.id))})]})})]})]})}const Ov=Gt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Pv=Gt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),Ev={productId:0,branchId:1,quantity:0,weight:0,movementType:"Purchase",referenceNumber:"",unitCost:0,notes:""},Av={productId:0,branchId:1,newQuantity:0,newWeight:0,reason:""},Tv={productId:0,fromBranchId:1,toBranchId:1,quantity:0,weight:0,transferNumber:"",notes:""};function Dv(){const{user:e,isManager:r}=se(),[n,a]=(0,t.useState)("inventory"),[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(null),[w,N]=(0,t.useState)(Ev),[S,k]=(0,t.useState)(Av),[C,O]=(0,t.useState)(Tv),{execute:P,loading:E,error:A}=Yc(),{execute:T,loading:D}=Jc(),{execute:_,loading:M}=Xc(),{execute:I,loading:F}=Qc(),{execute:R,loading:B}=Zc(),{execute:L,loading:z}=Bc(),{execute:U,loading:V}=vc(),{data:W,loading:q,error:H,fetchData:K,updateParams:G,hasNextPage:$,hasPrevPage:Y,nextPage:J,prevPage:X}=eu(i?{branchId:i}:{}),[Q,ee]=(0,t.useState)([]),[te,re]=(0,t.useState)([]),[ae,ie]=(0,t.useState)([]),[oe,le]=(0,t.useState)([]),[ce,ue]=(0,t.useState)({}),[de,he]=(0,t.useState)(!1),[fe,pe]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([L(),U({isActive:!0,pageSize:1e3})]);ie(e.items),le(t.items),null===i&&e.items.length>0&&o(e.items[0].id)}catch(e){console.error("Failed to load initial data:",e)}})()},[L,U,i]),(0,t.useEffect)(()=>{(async()=>{if(i)try{const[e,t]=await Promise.all([P(i,h),T(i)]);if(ee(e),re(t),e.length>0){const t=e.map(e=>ge(e.productId,i));await Promise.all(t)}}catch(e){console.error("Failed to load inventory data:",e),Cf.error("Failed to load inventory data")}})()},[i,h,P,T]),(0,t.useEffect)(()=>{G(i?{branchId:i,pageNumber:1}:{branchId:void 0,pageNumber:1})},[i,G]);const me=async(t,r,n)=>{var a;if(null===e||void 0===e||null===(a=e.branch)||void 0===a||!a.id)return!0;try{he(!0);const e=await Z.validateOwnership({productId:t,branchId:r,requestedQuantity:n});return e.canSell?(pe(e=>{const r=c({},e);return delete r[t],r}),!0):(pe(r=>c(c({},r),{},{[t]:e.message})),!1)}catch(i){return console.error("Ownership validation failed:",i),pe(e=>c(c({},e),{},{[t]:"Failed to validate ownership"})),!1}finally{he(!1)}},ge=async(e,t)=>{try{const r=await Z.getProductOwnership(e,t);ue(t=>c(c({},t),{},{[e]:r}))}catch(r){console.error("Failed to fetch product ownership:",r)}},ve=Q.filter(e=>{const t=""===s||e.productName.toLowerCase().includes(s.toLowerCase())||e.productCode.toLowerCase().includes(s.toLowerCase()),r=""===u||"all"===u||"low_stock"===u&&e.isLowStock||"normal_stock"===u&&!e.isLowStock;return t&&r}),ye=async()=>{if(i)try{const[e,t]=await Promise.all([P(i,h),T(i)]);ee(e),re(t),K()}catch(e){console.error("Failed to refresh inventory data:",e)}},xe=()=>{N(c(c({},Ev),{},{branchId:i||1}))},be=()=>{k(c(c({},Av),{},{branchId:i||1}))},je=()=>{O(c(c({},Tv),{},{fromBranchId:i||1}))},we=e=>new Date(e).toLocaleDateString(),Ne=e=>0===e.quantityOnHand?"bg-red-100 text-red-800":e.isLowStock?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",Se=e=>0===e.quantityOnHand?"Out of Stock":e.isLowStock?"Low Stock":"In Stock",ke=e=>{switch(e.toLowerCase()){case"purchase":return"bg-green-100 text-green-800";case"sale":return"bg-blue-100 text-blue-800";case"adjustment":return"bg-yellow-100 text-yellow-800";case"transfer":return"bg-purple-100 text-purple-800";case"return":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Inventory Management"}),(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(wh,{value:(null===i||void 0===i?void 0:i.toString())||"",onValueChange:e=>o(parseInt(e)),children:[(0,ne.jsx)(Sh,{className:"w-48",children:(0,ne.jsx)(Nh,{placeholder:z?"Loading branches...":"Select Branch"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:z?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading branches..."}):0===ae.length?(0,ne.jsx)(Ch,{value:"no-branches",disabled:!0,children:"No branches available"}):ae.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]}),r&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(It,{onClick:()=>m(!0),variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Stock"]}),(0,ne.jsxs)(It,{onClick:()=>v(!0),variant:"outline",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Adjust Stock"]}),(0,ne.jsxs)(It,{onClick:()=>x(!0),variant:"outline",children:[(0,ne.jsx)(Ov,{className:"mr-2 h-4 w-4"}),"Transfer Stock"]})]})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:Q.length})]}),(0,ne.jsx)(ec,{className:"h-8 w-8 text-muted-foreground"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:te.length})]}),(0,ne.jsx)(hc,{className:"h-8 w-8 text-orange-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Quantity"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:Q.reduce((e,t)=>e+t.quantityOnHand,0)})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Weight"}),(0,ne.jsxs)("p",{className:"text-3xl font-bold",children:[Q.reduce((e,t)=>e+t.weightOnHand,0).toFixed(2),"g"]})]}),(0,ne.jsx)(Pv,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search products...",value:s,onChange:e=>l(e.target.value),className:"pl-10"})]}),(0,ne.jsxs)(wh,{value:u,onValueChange:d,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Filter by status"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Items"}),(0,ne.jsx)(Ch,{value:"normal_stock",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Normal Stock"}),(0,ne.jsx)(Ch,{value:"low_stock",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Low Stock"})]})]}),(0,ne.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ne.jsx)("input",{type:"checkbox",id:"includeZeroStock",checked:h,onChange:e=>f(e.target.checked),className:"rounded border-gray-300"}),(0,ne.jsx)(Wt,{htmlFor:"includeZeroStock",children:"Include Zero Stock"})]}),(0,ne.jsx)("div",{}),(0,ne.jsx)(It,{variant:"outline",onClick:()=>{l(""),d("all"),f(!1)},children:"Clear Filters"})]})})}),(0,ne.jsxs)(_p,{value:n,onValueChange:a,className:"w-full",children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-3",children:[(0,ne.jsx)(Ip,{value:"inventory",children:"Current Inventory"}),(0,ne.jsx)(Ip,{value:"movements",children:"Stock Movements"}),(0,ne.jsx)(Ip,{value:"alerts",children:"Low Stock Alerts"})]}),(0,ne.jsx)(Fp,{value:"inventory",className:"space-y-4",children:(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(mt,{className:"p-0",children:[!i&&(0,ne.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,ne.jsx)(Wp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,ne.jsx)("p",{children:"Please select a branch to view inventory"})]}),i&&E&&(0,ne.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),i&&A&&(0,ne.jsxs)("div",{className:"text-center py-12 text-red-600",children:[(0,ne.jsxs)("p",{children:["Error loading inventory: ",A]}),(0,ne.jsx)(It,{onClick:ye,className:"mt-4",children:"Try Again"})]}),i&&!E&&!A&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Current Stock"}),(0,ne.jsx)(Lh,{children:"Weight"}),(0,ne.jsx)(Lh,{children:"Stock Levels"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Ownership"}),(0,ne.jsx)(Lh,{children:"Last Updated"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:ve.map(e=>{var t;return(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)(ec,{className:"h-8 w-8 text-muted-foreground"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.productName}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:e.productCode})]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"font-medium",children:e.quantityOnHand})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"font-medium",children:[e.weightOnHand.toFixed(2),"g"]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,ne.jsxs)("div",{children:["Min: ",e.minimumStockLevel]}),(0,ne.jsxs)("div",{children:["Max: ",e.maximumStockLevel]}),(0,ne.jsxs)("div",{children:["Reorder: ",e.reorderPoint]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"secondary",className:Ne(e),children:Se(e)})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:de?(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin"}):(null===(t=ce[e.productId])||void 0===t?void 0:t.length)>0?(0,ne.jsx)("div",{className:"space-y-1",children:ce[e.productId].map((e,t)=>(0,ne.jsxs)(or,{variant:"outline",className:e.ownershipPercentage>=80?"bg-green-100 text-green-800":e.ownershipPercentage>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.ownershipPercentage.toFixed(1),"%"]},t))}):(0,ne.jsx)("span",{className:"text-muted-foreground",children:"No ownership"})})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:we(e.lastCountDate)})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"flex space-x-2",children:(0,ne.jsx)(It,{size:"sm",variant:"ghost",onClick:()=>j(e),children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})})})})]},e.id)})})]}),0===ve.length&&(0,ne.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No inventory items found"})]})]})})}),(0,ne.jsx)(Fp,{value:"movements",className:"space-y-4",children:(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(mt,{className:"p-0",children:[!i&&(0,ne.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,ne.jsx)(Wp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,ne.jsx)("p",{children:"Please select a branch to view movements"})]}),i&&q&&(0,ne.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),i&&H&&(0,ne.jsxs)("div",{className:"text-center py-12 text-red-600",children:[(0,ne.jsxs)("p",{children:["Error loading movements: ",H]}),(0,ne.jsx)(It,{onClick:K,className:"mt-4",children:"Try Again"})]}),i&&W&&W.items&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Movement Type"}),(0,ne.jsx)(Lh,{children:"Quantity Change"}),(0,ne.jsx)(Lh,{children:"Weight Change"}),(0,ne.jsx)(Lh,{children:"Balance After"}),(0,ne.jsx)(Lh,{children:"Reference"}),(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"User"})]})}),(0,ne.jsx)(Rh,{children:W.items.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.productName}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"secondary",className:ke(e.movementType),children:e.movementType})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:e.quantityChange>=0?"text-green-600":"text-red-600",children:[e.quantityChange>=0?"+":"",e.quantityChange]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:e.weightChange>=0?"text-green-600":"text-red-600",children:[e.weightChange>=0?"+":"",e.weightChange.toFixed(2),"g"]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{children:["Qty: ",e.quantityBalance]}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Weight: ",e.weightBalance.toFixed(2),"g"]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:e.referenceNumber||"-"})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:we(e.createdAt)})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:e.createdBy})})]},e.id))})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",W.items.length," of ",W.totalCount," movements"]}),(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:X,disabled:!Y,children:"Previous"}),(0,ne.jsxs)("span",{className:"flex items-center px-3 text-sm",children:["Page ",W.pageNumber," of ",Math.ceil(W.totalCount/W.pageSize)]}),(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:J,disabled:!$,children:"Next"})]})]})]})]})})}),(0,ne.jsx)(Fp,{value:"alerts",className:"space-y-4",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center",children:[(0,ne.jsx)(hc,{className:"mr-2 h-5 w-5 text-orange-500"}),"Low Stock Alerts"]}),(0,ne.jsx)(pt,{children:"Items that require immediate attention"})]}),(0,ne.jsxs)(mt,{children:[!i&&(0,ne.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,ne.jsx)(Wp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,ne.jsx)("p",{children:"Please select a branch to view alerts"})]}),i&&D&&(0,ne.jsx)("div",{className:"flex justify-center py-8",children:(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin"})}),i&&!D&&te.length>0?(0,ne.jsx)("div",{className:"space-y-4",children:te.map(e=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ne.jsx)(hc,{className:"h-8 w-8 text-orange-500"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:e.productCode})]})]}),(0,ne.jsxs)("div",{className:"text-right",children:[(0,ne.jsxs)("div",{className:"text-lg font-semibold text-orange-600",children:[e.quantityOnHand," / ",e.reorderPoint]}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current / Reorder Point"})]})]},e.id))}):i&&!D&&0===te.length?(0,ne.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,ne.jsx)(Rp,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,ne.jsx)("p",{children:"All items are adequately stocked!"})]}):null]})]})})]}),(0,ne.jsx)(Kh,{open:p,onOpenChange:m,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Add Inventory"}),(0,ne.jsx)(Zh,{children:"Add stock for existing products through purchases or adjustments."})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"productId",children:"Product *"}),(0,ne.jsxs)(wh,{value:w.productId.toString(),onValueChange:e=>N(c(c({},w),{},{productId:parseInt(e)||0})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select a product"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg max-h-60",children:V?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading products..."}):oe.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[e.productCode," - ",e.name]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"movementType",children:"Movement Type"}),(0,ne.jsxs)(wh,{value:w.movementType,onValueChange:e=>N(c(c({},w),{},{movementType:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"Purchase",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Purchase"}),(0,ne.jsx)(Ch,{value:"Adjustment",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Adjustment"})]})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"quantity",children:"Quantity *"}),(0,ne.jsx)(vt,{id:"quantity",type:"number",value:w.quantity,onChange:e=>N(c(c({},w),{},{quantity:parseFloat(e.target.value)||0})),placeholder:"Enter quantity"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"weight",children:"Weight (grams) *"}),(0,ne.jsx)(vt,{id:"weight",type:"number",step:"0.01",value:w.weight,onChange:e=>N(c(c({},w),{},{weight:parseFloat(e.target.value)||0})),placeholder:"Enter weight"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"referenceNumber",children:"Reference Number"}),(0,ne.jsx)(vt,{id:"referenceNumber",value:w.referenceNumber,onChange:e=>N(c(c({},w),{},{referenceNumber:e.target.value})),placeholder:"PO number, invoice, etc."})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"unitCost",children:"Unit Cost"}),(0,ne.jsx)(vt,{id:"unitCost",type:"number",step:"0.01",value:w.unitCost,onChange:e=>N(c(c({},w),{},{unitCost:parseFloat(e.target.value)||0})),placeholder:"Cost per unit"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"notes",children:"Notes"}),(0,ne.jsx)(vt,{id:"notes",value:w.notes,onChange:e=>N(c(c({},w),{},{notes:e.target.value})),placeholder:"Additional notes"})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{m(!1),xe()},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(!w.productId||!w.quantity||!w.weight)return void Cf.error("Please fill in all required fields");if(await me(w.productId,w.branchId,w.quantity))try{const e={productId:w.productId,branchId:w.branchId,quantity:w.quantity,weight:w.weight,movementType:w.movementType,referenceNumber:w.referenceNumber||void 0,unitCost:w.unitCost>0?w.unitCost:void 0,notes:w.notes||void 0};await _(e),Cf.success("Inventory added successfully"),m(!1),xe(),ye(),pe({})}catch(e){Cf.error(e instanceof Error?e.message:"Failed to add inventory")}else Cf.error("Cannot add inventory due to ownership restrictions")},disabled:M||de,variant:"golden",children:[(M||de)&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),de?"Validating Ownership...":"Add Inventory"]})]})]})}),(0,ne.jsx)(Kh,{open:g,onOpenChange:v,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Adjust Inventory"}),(0,ne.jsx)(Zh,{children:"Manually adjust inventory levels for stock corrections."})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"adjustProductId",children:"Product *"}),(0,ne.jsxs)(wh,{value:S.productId.toString(),onValueChange:e=>k(c(c({},S),{},{productId:parseInt(e)||0})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select a product"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg max-h-60",children:V?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading products..."}):oe.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[e.productCode," - ",e.name]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"reason",children:"Reason *"}),(0,ne.jsx)(vt,{id:"reason",value:S.reason,onChange:e=>k(c(c({},S),{},{reason:e.target.value})),placeholder:"Reason for adjustment"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"newQuantity",children:"New Quantity *"}),(0,ne.jsx)(vt,{id:"newQuantity",type:"number",value:S.newQuantity,onChange:e=>k(c(c({},S),{},{newQuantity:parseFloat(e.target.value)||0})),placeholder:"Set new quantity"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"newWeight",children:"New Weight (grams) *"}),(0,ne.jsx)(vt,{id:"newWeight",type:"number",step:"0.01",value:S.newWeight,onChange:e=>k(c(c({},S),{},{newWeight:parseFloat(e.target.value)||0})),placeholder:"Set new weight"})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{v(!1),be()},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(!S.productId||!S.reason)return void Cf.error("Please fill in all required fields");if(await me(S.productId,S.branchId,S.newQuantity))try{const e={productId:S.productId,branchId:S.branchId,newQuantity:S.newQuantity,newWeight:S.newWeight,reason:S.reason};await I(e),Cf.success("Inventory adjusted successfully"),v(!1),be(),ye(),pe({})}catch(e){Cf.error(e instanceof Error?e.message:"Failed to adjust inventory")}else Cf.error("Cannot adjust inventory due to ownership restrictions")},disabled:F||de,variant:"golden",children:[(F||de)&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),de?"Validating Ownership...":"Adjust Inventory"]})]})]})}),(0,ne.jsx)(Kh,{open:y,onOpenChange:x,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Transfer Inventory"}),(0,ne.jsx)(Zh,{children:"Transfer stock between branches."})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"transferProductId",children:"Product *"}),(0,ne.jsxs)(wh,{value:C.productId.toString(),onValueChange:e=>O(c(c({},C),{},{productId:parseInt(e)||0})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select a product"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg max-h-60",children:V?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading products..."}):oe.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:[e.productCode," - ",e.name]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"transferNumber",children:"Transfer Number *"}),(0,ne.jsx)(vt,{id:"transferNumber",value:C.transferNumber,onChange:e=>O(c(c({},C),{},{transferNumber:e.target.value})),placeholder:"Transfer reference number"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"fromBranch",children:"From Branch"}),(0,ne.jsxs)(wh,{value:C.fromBranchId.toString(),onValueChange:e=>O(c(c({},C),{},{fromBranchId:parseInt(e)})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:ae.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"toBranch",children:"To Branch"}),(0,ne.jsxs)(wh,{value:C.toBranchId.toString(),onValueChange:e=>O(c(c({},C),{},{toBranchId:parseInt(e)})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:ae.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"transferQuantity",children:"Quantity *"}),(0,ne.jsx)(vt,{id:"transferQuantity",type:"number",value:C.quantity,onChange:e=>O(c(c({},C),{},{quantity:parseFloat(e.target.value)||0})),placeholder:"Quantity to transfer"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"transferWeight",children:"Weight (grams) *"}),(0,ne.jsx)(vt,{id:"transferWeight",type:"number",step:"0.01",value:C.weight,onChange:e=>O(c(c({},C),{},{weight:parseFloat(e.target.value)||0})),placeholder:"Weight to transfer"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"transferNotes",children:"Notes"}),(0,ne.jsx)(vt,{id:"transferNotes",value:C.notes,onChange:e=>O(c(c({},C),{},{notes:e.target.value})),placeholder:"Transfer notes"})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{x(!1),je()},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(!C.productId||!C.quantity||!C.weight||!C.transferNumber)return void Cf.error("Please fill in all required fields");if(C.fromBranchId===C.toBranchId)return void Cf.error("From and To branches cannot be the same");if(await me(C.productId,C.fromBranchId,C.quantity))try{const e={productId:C.productId,fromBranchId:C.fromBranchId,toBranchId:C.toBranchId,quantity:C.quantity,weight:C.weight,transferNumber:C.transferNumber,notes:C.notes||void 0};await R(e),Cf.success("Inventory transferred successfully"),x(!1),je(),ye(),pe({})}catch(e){Cf.error(e instanceof Error?e.message:"Failed to transfer inventory")}else Cf.error("Cannot transfer inventory due to ownership restrictions")},disabled:B||de,variant:"golden",children:[(B||de)&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),de?"Validating Ownership...":"Transfer Inventory"]})]})]})})]})}const _v=Gt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Mv(){var e;const{user:r}=se(),[n,a]=(0,t.useState)("overview"),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)([]),[b,j]=(0,t.useState)([]),[w,N]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),[C,O]=(0,t.useState)({productId:"",supplierId:"",totalQuantity:"",totalWeight:"",ownedQuantity:"",ownedWeight:"",totalCost:"",amountPaid:""}),[P,E]=(0,t.useState)({rawGoldProductId:"",weightToConvert:"",quantityToConvert:"",newProducts:[]}),[A,T]=(0,t.useState)(!1),[_,M]=(0,t.useState)(null),[I,R]=(0,t.useState)(!1),[B,L]=(0,t.useState)({paymentAmount:"",referenceNumber:""}),[z,U]=(0,t.useState)([]),[V,W]=(0,t.useState)(!0);(0,t.useEffect)(()=>{q()},[null===r||void 0===r||null===(e=r.branch)||void 0===e?void 0:e.id]);const q=async()=>{var e;if(null!==r&&void 0!==r&&null!==(e=r.branch)&&void 0!==e&&e.id)try{W(!0);const[e,t]=await Promise.all([D.getProducts({pageSize:1e3}),F.getSuppliers({pageSize:1e3})]);m(e.items),v(t.items);const n=await Z.getOwnershipAlerts(r.branch.id);x(n);const a=await Z.getLowOwnershipProducts(.5);j(a);const i=await Z.getProductsWithOutstandingPayments();N(i)}catch(t){console.error("Failed to fetch data:",t),Cf.error("Failed to load ownership data")}finally{W(!1)}},H=z.filter(e=>{var t;return e.productName.toLowerCase().includes(u.toLowerCase())||e.productCode.toLowerCase().includes(u.toLowerCase())||(null===(t=e.supplierName)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))}),K=e=>e>=80?"bg-green-100 text-green-800":e>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",G=e=>{switch(e.toLowerCase()){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return V?(0,ne.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ne.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Product Ownership"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage product ownership, track payments, and convert raw gold"})]}),(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsxs)(It,{onClick:()=>o(!0),children:[(0,ne.jsx)(tf,{className:"h-4 w-4 mr-2"}),"New Ownership"]}),(0,ne.jsxs)(It,{variant:"outline",onClick:()=>l(!0),children:[(0,ne.jsx)(ec,{className:"h-4 w-4 mr-2"}),"Convert Raw Gold"]})]})]}),y.length>0&&(0,ne.jsxs)(dt,{className:"border-orange-200 bg-orange-50",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)(ft,{className:"flex items-center gap-2 text-orange-800",children:[(0,ne.jsx)(sc,{className:"h-5 w-5"}),"Ownership Alerts (",y.length,")"]})}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"space-y-2",children:[y.slice(0,3).map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-600",children:e.message})]}),(0,ne.jsx)(or,{className:G(e.severity),children:e.severity})]},t)),y.length>3&&(0,ne.jsxs)("p",{className:"text-sm text-orange-700",children:["+",y.length-3," more alerts..."]})]})})]}),(0,ne.jsxs)(_p,{value:n,onValueChange:a,className:"space-y-4",children:[(0,ne.jsxs)(Mp,{children:[(0,ne.jsx)(Ip,{value:"overview",children:"Overview"}),(0,ne.jsx)(Ip,{value:"low-ownership",children:"Low Ownership"}),(0,ne.jsx)(Ip,{value:"outstanding-payments",children:"Outstanding Payments"}),(0,ne.jsx)(Ip,{value:"movements",children:"Movement History"})]}),(0,ne.jsx)(Fp,{value:"overview",className:"space-y-4",children:(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Product Ownership Summary"}),(0,ne.jsx)(pt,{children:"Overview of all product ownership records"})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsx)("div",{className:"flex gap-4 mb-4",children:(0,ne.jsx)(vt,{placeholder:"Search products, suppliers...",value:u,onChange:e=>d(e.target.value),className:"max-w-sm"})}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Supplier"}),(0,ne.jsx)(Lh,{children:"Ownership %"}),(0,ne.jsx)(Lh,{children:"Total Cost"}),(0,ne.jsx)(Lh,{children:"Amount Paid"}),(0,ne.jsx)(Lh,{children:"Outstanding"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:H.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-500",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:e.supplierName||"N/A"}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{className:K(e.ownershipPercentage),children:[e.ownershipPercentage.toFixed(1),"%"]})}),(0,ne.jsx)(zh,{children:pc(e.totalCost)}),(0,ne.jsx)(zh,{children:pc(e.amountPaid)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("span",{className:e.outstandingAmount>0?"text-red-600 font-medium":"text-green-600",children:pc(e.outstandingAmount)})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const t=await Z.getOwnershipMovements(e.id);k(t),M(e),T(!0)}catch(t){console.error("Failed to fetch ownership movements:",t),Cf.error("Failed to load ownership details")}})(e),children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})}),e.outstandingAmount>0&&(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>{f(e),R(!0)},children:(0,ne.jsx)(fc,{className:"h-4 w-4"})})]})})]},e.id))})]})]})]})}),(0,ne.jsx)(Fp,{value:"low-ownership",className:"space-y-4",children:(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Low Ownership Products"}),(0,ne.jsx)(pt,{children:"Products with ownership percentage below 50%"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Ownership %"}),(0,ne.jsx)(Lh,{children:"Outstanding Amount"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:b.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-500",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{className:"bg-red-100 text-red-800",children:[e.ownershipPercentage.toFixed(1),"%"]})}),(0,ne.jsx)(zh,{className:"text-red-600 font-medium",children:pc(e.outstandingAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{f(e),R(!0)},children:[(0,ne.jsx)(fc,{className:"h-4 w-4 mr-2"}),"Make Payment"]})})]},e.id))})]})})]})}),(0,ne.jsx)(Fp,{value:"outstanding-payments",className:"space-y-4",children:(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Outstanding Payments"}),(0,ne.jsx)(pt,{children:"Products with pending payments"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Supplier"}),(0,ne.jsx)(Lh,{children:"Outstanding Amount"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:w.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-500",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:e.supplierName||"N/A"}),(0,ne.jsx)(zh,{className:"text-red-600 font-medium",children:pc(e.outstandingAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{f(e),R(!0)},children:[(0,ne.jsx)(fc,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]},e.id))})]})})]})}),(0,ne.jsx)(Fp,{value:"movements",className:"space-y-4",children:(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Ownership Movement History"}),(0,ne.jsx)(pt,{children:"Track all ownership changes and movements"})]}),(0,ne.jsx)(mt,{children:_?(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded",children:[(0,ne.jsx)("h3",{className:"font-medium",children:_.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-600",children:_.productCode})]}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Quantity Change"}),(0,ne.jsx)(Lh,{children:"Weight Change"}),(0,ne.jsx)(Lh,{children:"Amount Change"}),(0,ne.jsx)(Lh,{children:"Reference"})]})}),(0,ne.jsx)(Rh,{children:S.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:new Date(e.movementDate).toLocaleDateString()}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",children:e.movementType})}),(0,ne.jsx)(zh,{children:e.quantityChange}),(0,ne.jsxs)(zh,{children:[e.weightChange,"g"]}),(0,ne.jsx)(zh,{children:pc(e.amountChange)}),(0,ne.jsx)(zh,{children:e.referenceNumber||"N/A"})]},e.id))})]})]}):(0,ne.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Select an ownership record to view movement history"})})]})})]}),(0,ne.jsx)(Kh,{open:i,onOpenChange:o,children:(0,ne.jsxs)(Jh,{className:"max-w-md",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Create New Product Ownership"}),(0,ne.jsx)(Zh,{children:"Add a new product ownership record"})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"product",children:"Product"}),(0,ne.jsxs)(wh,{value:C.productId,onValueChange:e=>O(c(c({},C),{},{productId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select product"})}),(0,ne.jsx)(kh,{children:p.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.name," (",e.productCode,")"]},e.id))})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"supplier",children:"Supplier (Optional)"}),(0,ne.jsxs)(wh,{value:C.supplierId,onValueChange:e=>O(c(c({},C),{},{supplierId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select supplier"})}),(0,ne.jsx)(kh,{children:g.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),children:e.companyName},e.id))})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"totalQuantity",children:"Total Quantity"}),(0,ne.jsx)(vt,{id:"totalQuantity",type:"number",value:C.totalQuantity,onChange:e=>O(c(c({},C),{},{totalQuantity:e.target.value}))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"totalWeight",children:"Total Weight (g)"}),(0,ne.jsx)(vt,{id:"totalWeight",type:"number",step:"0.01",value:C.totalWeight,onChange:e=>O(c(c({},C),{},{totalWeight:e.target.value}))})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"ownedQuantity",children:"Owned Quantity"}),(0,ne.jsx)(vt,{id:"ownedQuantity",type:"number",value:C.ownedQuantity,onChange:e=>O(c(c({},C),{},{ownedQuantity:e.target.value}))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"ownedWeight",children:"Owned Weight (g)"}),(0,ne.jsx)(vt,{id:"ownedWeight",type:"number",step:"0.01",value:C.ownedWeight,onChange:e=>O(c(c({},C),{},{ownedWeight:e.target.value}))})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"totalCost",children:"Total Cost"}),(0,ne.jsx)(vt,{id:"totalCost",type:"number",step:"0.01",value:C.totalCost,onChange:e=>O(c(c({},C),{},{totalCost:e.target.value}))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"amountPaid",children:"Amount Paid"}),(0,ne.jsx)(vt,{id:"amountPaid",type:"number",step:"0.01",value:C.amountPaid,onChange:e=>O(c(c({},C),{},{amountPaid:e.target.value}))})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{var e;if(null!==r&&void 0!==r&&null!==(e=r.branch)&&void 0!==e&&e.id)if(C.productId&&C.totalQuantity&&C.totalWeight)try{const e={productId:parseInt(C.productId),branchId:r.branch.id,supplierId:C.supplierId?parseInt(C.supplierId):void 0,totalQuantity:parseFloat(C.totalQuantity),totalWeight:parseFloat(C.totalWeight),ownedQuantity:parseFloat(C.ownedQuantity)||0,ownedWeight:parseFloat(C.ownedWeight)||0,totalCost:parseFloat(C.totalCost)||0,amountPaid:parseFloat(C.amountPaid)||0};await Z.createOrUpdateOwnership(e),Cf.success("Product ownership created successfully"),o(!1),O({productId:"",supplierId:"",totalQuantity:"",totalWeight:"",ownedQuantity:"",ownedWeight:"",totalCost:"",amountPaid:""}),q()}catch(t){console.error("Failed to create ownership:",t),Cf.error("Failed to create product ownership")}else Cf.error("Please fill in all required fields");else Cf.error("Branch information not available")},children:"Create Ownership"})]})]})]})}),(0,ne.jsx)(Kh,{open:I,onOpenChange:R,children:(0,ne.jsxs)(Jh,{className:"max-w-md",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Make Payment"}),(0,ne.jsx)(Zh,{children:"Process payment for outstanding amount"})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[h&&(0,ne.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,ne.jsx)("p",{className:"font-medium",children:h.productName}),(0,ne.jsxs)("p",{className:"text-sm text-gray-600",children:["Outstanding: ",pc(h.outstandingAmount)]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"paymentAmount",children:"Payment Amount"}),(0,ne.jsx)(vt,{id:"paymentAmount",type:"number",step:"0.01",value:B.paymentAmount,onChange:e=>L(c(c({},B),{},{paymentAmount:e.target.value}))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"referenceNumber",children:"Reference Number"}),(0,ne.jsx)(vt,{id:"referenceNumber",value:B.referenceNumber,onChange:e=>L(c(c({},B),{},{referenceNumber:e.target.value})),placeholder:"Payment reference or receipt number"})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{if(h)if(B.paymentAmount&&B.referenceNumber)try{await Z.updateOwnershipAfterPayment({productOwnershipId:h.id,paymentAmount:parseFloat(B.paymentAmount),referenceNumber:B.referenceNumber}),Cf.success("Payment processed successfully"),R(!1),L({paymentAmount:"",referenceNumber:""}),f(null),q()}catch(e){console.error("Failed to process payment:",e),Cf.error("Failed to process payment")}else Cf.error("Please fill in all payment fields");else Cf.error("No ownership selected")},children:"Process Payment"})]})]})]})}),(0,ne.jsx)(Kh,{open:A,onOpenChange:T,children:(0,ne.jsxs)(Jh,{className:"max-w-4xl",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Ownership Details"}),(0,ne.jsx)(Zh,{children:"Detailed view of ownership information and movement history"})]}),_&&(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Product"}),(0,ne.jsx)("p",{className:"font-medium",children:_.productName}),(0,ne.jsx)("p",{className:"text-sm text-gray-600",children:_.productCode})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Supplier"}),(0,ne.jsx)("p",{className:"font-medium",children:_.supplierName||"N/A"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Ownership Percentage"}),(0,ne.jsxs)(or,{className:K(_.ownershipPercentage),children:[_.ownershipPercentage.toFixed(1),"%"]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Outstanding Amount"}),(0,ne.jsx)("p",{className:"font-medium ".concat(_.outstandingAmount>0?"text-red-600":"text-green-600"),children:pc(_.outstandingAmount)})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"font-medium mb-2",children:"Movement History"}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Quantity"}),(0,ne.jsx)(Lh,{children:"Weight"}),(0,ne.jsx)(Lh,{children:"Amount"}),(0,ne.jsx)(Lh,{children:"Reference"})]})}),(0,ne.jsx)(Rh,{children:S.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:new Date(e.movementDate).toLocaleDateString()}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",children:e.movementType})}),(0,ne.jsx)(zh,{children:e.quantityChange}),(0,ne.jsxs)(zh,{children:[e.weightChange,"g"]}),(0,ne.jsx)(zh,{children:pc(e.amountChange)}),(0,ne.jsx)(zh,{children:e.referenceNumber||"N/A"})]},e.id))})]})]})]})]})}),(0,ne.jsx)(Kh,{open:s,onOpenChange:l,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Convert Raw Gold to Products"}),(0,ne.jsx)(Zh,{children:"Convert raw gold into finished products"})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"rawGoldProduct",children:"Raw Gold Product"}),(0,ne.jsxs)(wh,{value:P.rawGoldProductId,onValueChange:e=>E(c(c({},P),{},{rawGoldProductId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select raw gold product"})}),(0,ne.jsx)(kh,{children:p.filter(e=>1===e.categoryType).map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.name," (",e.productCode,")"]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"weightToConvert",children:"Weight to Convert (g)"}),(0,ne.jsx)(vt,{id:"weightToConvert",type:"number",step:"0.01",value:P.weightToConvert,onChange:e=>E(c(c({},P),{},{weightToConvert:e.target.value}))})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"quantityToConvert",children:"Quantity to Convert"}),(0,ne.jsx)(vt,{id:"quantityToConvert",type:"number",value:P.quantityToConvert,onChange:e=>E(c(c({},P),{},{quantityToConvert:e.target.value}))})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"New Products"}),(0,ne.jsxs)("div",{className:"space-y-2",children:[P.newProducts.map((e,t)=>(0,ne.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,ne.jsxs)(wh,{value:e.productId.toString(),onValueChange:e=>{const r=[...P.newProducts];r[t].productId=parseInt(e),E(c(c({},P),{},{newProducts:r}))},children:[(0,ne.jsx)(Sh,{className:"flex-1",children:(0,ne.jsx)(Nh,{placeholder:"Select product"})}),(0,ne.jsx)(kh,{children:p.filter(e=>1!==e.categoryType).map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.name," (",e.productCode,")"]},e.id))})]}),(0,ne.jsx)(vt,{type:"number",placeholder:"Qty",value:e.quantity,onChange:e=>{const r=[...P.newProducts];r[t].quantity=parseFloat(e.target.value)||0,E(c(c({},P),{},{newProducts:r}))},className:"w-20"}),(0,ne.jsx)(vt,{type:"number",step:"0.01",placeholder:"Weight",value:e.weight,onChange:e=>{const r=[...P.newProducts];r[t].weight=parseFloat(e.target.value)||0,E(c(c({},P),{},{newProducts:r}))},className:"w-24"}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>{const e=P.newProducts.filter((e,r)=>r!==t);E(c(c({},P),{},{newProducts:e}))},children:(0,ne.jsx)(_v,{className:"h-4 w-4"})})]},t)),(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{const e=[...P.newProducts,{productId:0,quantity:0,weight:0}];E(c(c({},P),{},{newProducts:e}))},children:[(0,ne.jsx)(tf,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{var e;if(null!==r&&void 0!==r&&null!==(e=r.branch)&&void 0!==e&&e.id)if(P.rawGoldProductId&&P.weightToConvert&&0!==P.newProducts.length)try{const e={rawGoldProductId:parseInt(P.rawGoldProductId),branchId:r.branch.id,weightToConvert:parseFloat(P.weightToConvert),quantityToConvert:parseFloat(P.quantityToConvert),newProducts:P.newProducts},t=await Z.convertRawGoldToProducts(e);t.success?(Cf.success("Raw gold converted successfully"),l(!1),E({rawGoldProductId:"",weightToConvert:"",quantityToConvert:"",newProducts:[]}),q()):Cf.error(t.message||"Failed to convert raw gold")}catch(t){console.error("Failed to convert raw gold:",t),Cf.error("Failed to convert raw gold")}else Cf.error("Please fill in all required fields");else Cf.error("Branch information not available")},children:"Convert Raw Gold"})]})]})]})})]})}const Iv=Gt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Fv=Gt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Rv=Gt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Bv=Gt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function Lv(){var e;const[r,n]=(0,t.useState)("all"),[a,i]=(0,t.useState)(""),[o,s]=(0,t.useState)("all"),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),{execute:m,data:g,loading:v,error:y}=Cc(),{execute:x,loading:b,error:j}=Pc(),{execute:w,data:N,loading:S}=Oc(),{execute:k,loading:C,error:O}=gc(re.customers.updateCustomer),[P,E]=(0,t.useState)({name:"",phone:"",email:"",address:"",city:"",dateOfBirth:"",anniversaryDate:"",loyaltyTier:1,defaultDiscountPercentage:0,makingChargesWaived:!1,notes:""}),[A,T]=(0,t.useState)([]),[D,_]=(0,t.useState)(!1),{execute:M}=Sc(),{data:I,execute:F}=hu(),{data:R,execute:B}=pu();(0,t.useEffect)(()=>{m({searchTerm:a,pageNumber:1,pageSize:100}),F(),B()},[F,B]);const L=((null===g||void 0===g?void 0:g.items)||[]).filter(e=>{const t=e.fullName&&e.fullName.toLowerCase().includes(a.toLowerCase())||e.mobileNumber&&e.mobileNumber.includes(a)||e.email&&e.email.toLowerCase().includes(a.toLowerCase())||e.customerNumber&&e.customerNumber.toLowerCase().includes(a.toLowerCase()),r="all"===o||"active"===o&&e.isActive||"inactive"===o&&!e.isActive||"vip"===o&&e.loyaltyTier>=3;return t&&r}),z=e=>{const t={active:{variant:"default",className:"bg-green-100 text-green-800"},inactive:{variant:"secondary",className:"bg-gray-100 text-gray-800"},vip:{variant:"default",className:"bg-purple-100 text-purple-800"}}[e];return(0,ne.jsxs)(or,{variant:t.variant,className:t.className,children:["vip"===e&&(0,ne.jsx)(Iv,{className:"mr-1 h-3 w-3"}),e.toUpperCase()]})},U=()=>{E({name:"",phone:"",email:"",address:"",city:"",dateOfBirth:"",anniversaryDate:"",loyaltyTier:1,defaultDiscountPercentage:0,makingChargesWaived:!1,notes:""})},V=e=>{E({name:e.fullName,phone:e.mobileNumber||"",email:e.email||"",address:e.address||"",city:e.city||"",dateOfBirth:e.dateOfBirth||"",anniversaryDate:e.anniversaryDate||"",loyaltyTier:e.loyaltyTier,defaultDiscountPercentage:e.defaultDiscountPercentage||0,makingChargesWaived:e.makingChargesWaived,notes:e.notes||""})},W=()=>{m({searchTerm:a,pageNumber:1,pageSize:100})},q={total:(null===g||void 0===g||null===(e=g.items)||void 0===e?void 0:e.length)||0,active:((null===g||void 0===g?void 0:g.items)||[]).filter(e=>e.isActive).length,vip:((null===g||void 0===g?void 0:g.items)||[]).filter(e=>e.loyaltyTier>=3).length,totalValue:((null===g||void 0===g?void 0:g.items)||[]).reduce((e,t)=>e+(t.totalPurchases||0),0)};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Customer Management"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage customer database and relationships"})]}),(0,ne.jsxs)(Kh,{open:l,onOpenChange:u,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{className:"touch-target",variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Customer"]})}),(0,ne.jsxs)(Jh,{className:"max-w-2xl bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Add New Customer"}),(0,ne.jsx)(Zh,{children:"Enter customer details to add to database"})]}),j&&(0,ne.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:j}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"name",children:"Full Name *"}),(0,ne.jsx)(vt,{id:"name",value:P.name,onChange:e=>E(c(c({},P),{},{name:e.target.value})),placeholder:"Enter full name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"phone",children:"Phone Number *"}),(0,ne.jsx)(vt,{id:"phone",value:P.phone,onChange:e=>E(c(c({},P),{},{phone:e.target.value})),placeholder:"+20 100 123 4567"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email Address"}),(0,ne.jsx)(vt,{id:"email",type:"email",value:P.email,onChange:e=>E(c(c({},P),{},{email:e.target.value})),placeholder:"customer@email.com"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"address",children:"Address"}),(0,ne.jsx)(Lf,{id:"address",value:P.address,onChange:e=>E(c(c({},P),{},{address:e.target.value})),placeholder:"Street address"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"city",children:"City"}),(0,ne.jsx)(vt,{id:"city",value:P.city,onChange:e=>E(c(c({},P),{},{city:e.target.value})),placeholder:"Cairo, Alexandria, etc."})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,ne.jsx)(vt,{id:"dateOfBirth",type:"date",value:P.dateOfBirth,onChange:e=>E(c(c({},P),{},{dateOfBirth:e.target.value}))})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"anniversaryDate",children:"Anniversary Date"}),(0,ne.jsx)(vt,{id:"anniversaryDate",type:"date",value:P.anniversaryDate,onChange:e=>E(c(c({},P),{},{anniversaryDate:e.target.value}))})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"loyaltyTier",children:"Loyalty Tier"}),(0,ne.jsxs)(wh,{value:P.loyaltyTier.toString(),onValueChange:e=>E(c(c({},P),{},{loyaltyTier:parseInt(e)})),children:[(0,ne.jsx)(Sh,{className:"bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:(0,ne.jsx)(Nh,{placeholder:"Select loyalty tier"})}),(0,ne.jsxs)(kh,{className:"bg-white border border-gray-300 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"1",children:"Tier 1 - Standard"}),(0,ne.jsx)(Ch,{value:"2",children:"Tier 2 - Silver"}),(0,ne.jsx)(Ch,{value:"3",children:"Tier 3 - Gold"}),(0,ne.jsx)(Ch,{value:"4",children:"Tier 4 - Platinum"}),(0,ne.jsx)(Ch,{value:"5",children:"Tier 5 - Diamond"})]})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"defaultDiscountPercentage",children:"Default Discount (%)"}),(0,ne.jsx)(vt,{id:"defaultDiscountPercentage",type:"number",min:"0",max:"100",step:"0.1",value:P.defaultDiscountPercentage,onChange:e=>E(c(c({},P),{},{defaultDiscountPercentage:parseFloat(e.target.value)||0})),placeholder:"0"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"makingChargesWaived",children:"Making Charges Waived"}),(0,ne.jsxs)(wh,{value:P.makingChargesWaived.toString(),onValueChange:e=>E(c(c({},P),{},{makingChargesWaived:"true"===e})),children:[(0,ne.jsx)(Sh,{className:"bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:(0,ne.jsx)(Nh,{placeholder:"Select option"})}),(0,ne.jsxs)(kh,{className:"bg-white border border-gray-300 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"false",children:"No - Apply making charges"}),(0,ne.jsx)(Ch,{value:"true",children:"Yes - Waive making charges"})]})]})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"notes",children:"Notes"}),(0,ne.jsx)(Lf,{id:"notes",value:P.notes,onChange:e=>E(c(c({},P),{},{notes:e.target.value})),placeholder:"Additional notes about customer preferences"})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,ne.jsx)(It,{onClick:async()=>{try{await x({fullName:P.name,mobileNumber:P.phone,email:P.email,address:P.address,city:P.city,dateOfBirth:P.dateOfBirth||void 0,anniversaryDate:P.anniversaryDate||void 0,notes:P.notes,isActive:!0,loyaltyTier:P.loyaltyTier,defaultDiscountPercentage:P.defaultDiscountPercentage,makingChargesWaived:P.makingChargesWaived}),u(!1),U(),m({searchTerm:a,pageNumber:1,pageSize:100})}catch(e){console.error("Failed to create customer:",e)}},variant:"golden",disabled:b,children:b?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Customer"})]})]})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Customers"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:q.total})]}),(0,ne.jsx)(tc,{className:"h-8 w-8 text-[#D4AF37]"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Customers"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:q.active})]}),(0,ne.jsx)(tc,{className:"h-8 w-8 text-green-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"VIP Customers"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:q.vip})]}),(0,ne.jsx)(Iv,{className:"h-8 w-8 text-purple-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:pc(q.totalValue)})]}),(0,ne.jsx)(Fv,{className:"h-8 w-8 text-blue-600"})]})})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ne.jsxs)("div",{className:"relative flex-1",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search by name, phone, email, or customer number...",value:a,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&W(),className:"pl-10 touch-target"})]}),(0,ne.jsxs)(wh,{value:o,onValueChange:s,children:[(0,ne.jsx)(Sh,{className:"w-full md:w-40",children:(0,ne.jsx)(Nh,{placeholder:"Status"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Status"}),(0,ne.jsx)(Ch,{value:"active",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Active"}),(0,ne.jsx)(Ch,{value:"inactive",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Inactive"}),(0,ne.jsx)(Ch,{value:"vip",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"VIP"})]})]}),(0,ne.jsxs)(It,{onClick:W,variant:"outline",className:"touch-target",children:[(0,ne.jsx)(ef,{className:"mr-2 h-4 w-4"}),"Search"]})]})})}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Customers"}),(0,ne.jsx)(pt,{children:v?"Loading customers...":"".concat(L.length," customer(s) found")})]}),(0,ne.jsxs)(mt,{children:[y&&(0,ne.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:["Error loading customers: ",y]}),v?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Loading customers..."})]}):0===L.length?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(tc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"No customers found"})]}):(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Customer #"}),(0,ne.jsx)(Lh,{children:"Name"}),(0,ne.jsx)(Lh,{children:"Contact"}),(0,ne.jsx)(Lh,{children:"City"}),(0,ne.jsx)(Lh,{children:"Total Purchases"}),(0,ne.jsx)(Lh,{children:"Loyalty Points"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Last Purchase"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:L.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.customerNumber}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.fullName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Since ",new Date(e.customerSince).getFullYear()]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,ne.jsx)(zp,{className:"h-3 w-3"}),e.mobileNumber||"N/A"]}),e.email&&(0,ne.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,ne.jsx)(Up,{className:"h-3 w-3"}),e.email]})]})}),(0,ne.jsx)(zh,{children:e.city||"N/A"}),(0,ne.jsx)(zh,{children:pc(e.totalPurchases)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ne.jsx)(Rv,{className:"h-4 w-4 text-[#D4AF37]"}),e.loyaltyTier," pts"]})}),(0,ne.jsx)(zh,{children:z(e.isActive?"active":"inactive")}),(0,ne.jsx)(zh,{children:e.lastPurchaseDate?new Date(e.lastPurchaseDate).toLocaleDateString():"N/A"}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{h(e),V(e)},className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Qt,{className:"mr-2 h-4 w-4"}),"View"]}),(0,ne.jsxs)(It,{variant:"outline",size:"sm",onClick:()=>{h(e),V(e),p(!0)},className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Edit"]})]})})]},e.id))})]})]})]}),d&&(0,ne.jsx)(Kh,{open:!!d,onOpenChange:()=>{h(null),p(!1)},children:(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{children:[f?"Edit Customer":"Customer Details"," - ",d.customerNumber]})}),O&&(0,ne.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:O}),(0,ne.jsxs)(_p,{defaultValue:"details",className:"w-full",children:[(0,ne.jsxs)(Mp,{children:[(0,ne.jsx)(Ip,{value:"details",children:"Details"}),(0,ne.jsx)(Ip,{value:"transactions",children:"Transactions"}),(0,ne.jsx)(Ip,{value:"loyalty",children:"Loyalty"})]}),(0,ne.jsx)(Fp,{value:"details",className:"space-y-4",children:(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"name",children:"Full Name"}),(0,ne.jsx)(vt,{id:"name",value:P.name,onChange:e=>E(c(c({},P),{},{name:e.target.value})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"phone",children:"Phone Number"}),(0,ne.jsx)(vt,{id:"phone",value:P.phone,onChange:e=>E(c(c({},P),{},{phone:e.target.value})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email Address"}),(0,ne.jsx)(vt,{id:"email",value:P.email,onChange:e=>E(c(c({},P),{},{email:e.target.value})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"address",children:"Address"}),(0,ne.jsx)(Lf,{id:"address",value:P.address,onChange:e=>E(c(c({},P),{},{address:e.target.value})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"city",children:"City"}),(0,ne.jsx)(vt,{id:"city",value:P.city,onChange:e=>E(c(c({},P),{},{city:e.target.value})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"loyaltyTier",children:"Loyalty Tier"}),f?(0,ne.jsxs)(wh,{value:P.loyaltyTier.toString(),onValueChange:e=>E(c(c({},P),{},{loyaltyTier:parseInt(e)})),children:[(0,ne.jsx)(Sh,{className:"bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:(0,ne.jsx)(Nh,{placeholder:"Select loyalty tier"})}),(0,ne.jsxs)(kh,{className:"bg-white border border-gray-300 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"1",children:"Tier 1 - Standard"}),(0,ne.jsx)(Ch,{value:"2",children:"Tier 2 - Silver"}),(0,ne.jsx)(Ch,{value:"3",children:"Tier 3 - Gold"}),(0,ne.jsx)(Ch,{value:"4",children:"Tier 4 - Platinum"}),(0,ne.jsx)(Ch,{value:"5",children:"Tier 5 - Diamond"})]})]}):(0,ne.jsx)(vt,{value:"Tier ".concat(P.loyaltyTier),readOnly:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"defaultDiscountPercentage",children:"Default Discount (%)"}),(0,ne.jsx)(vt,{id:"defaultDiscountPercentage",type:"number",min:"0",max:"100",step:"0.1",value:P.defaultDiscountPercentage,onChange:e=>E(c(c({},P),{},{defaultDiscountPercentage:parseFloat(e.target.value)||0})),readOnly:!f})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"makingChargesWaived",children:"Making Charges Waived"}),f?(0,ne.jsxs)(wh,{value:P.makingChargesWaived.toString(),onValueChange:e=>E(c(c({},P),{},{makingChargesWaived:"true"===e})),children:[(0,ne.jsx)(Sh,{className:"bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:(0,ne.jsx)(Nh,{placeholder:"Select option"})}),(0,ne.jsxs)(kh,{className:"bg-white border border-gray-300 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"false",children:"No - Apply making charges"}),(0,ne.jsx)(Ch,{value:"true",children:"Yes - Waive making charges"})]})]}):(0,ne.jsx)(vt,{value:P.makingChargesWaived?"Yes - Waived":"No - Applied",readOnly:!0})]})]})}),(0,ne.jsx)(Fp,{value:"transactions",className:"space-y-4",children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"Transaction #"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Items"}),(0,ne.jsx)(Lh,{children:"Amount"}),(0,ne.jsx)(Lh,{children:"Status"})]})}),(0,ne.jsx)(Rh,{children:A.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:new Date(e.date).toLocaleDateString()}),(0,ne.jsx)(zh,{className:"font-medium",children:e.transactionNumber}),(0,ne.jsx)(zh,{className:"capitalize",children:e.type}),(0,ne.jsx)(zh,{children:e.items}),(0,ne.jsx)(zh,{className:e.amount<0?"text-red-600":"",children:pc(Math.abs(e.amount))}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"default",className:"bg-green-100 text-green-800",children:e.status})})]},e.id))})]})}),(0,ne.jsxs)(Fp,{value:"loyalty",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)(Rv,{className:"h-12 w-12 text-[#D4AF37] mx-auto mb-2"}),(0,ne.jsx)("p",{className:"text-2xl font-bold text-[#0D1B2A]",children:d.loyaltyTier}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loyalty Tier"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)(Iv,{className:"h-12 w-12 text-purple-600 mx-auto mb-2"}),(0,ne.jsx)("p",{className:"text-lg font-medium text-[#0D1B2A]",children:d.isActive?"ACTIVE":"INACTIVE"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customer Status"})]})})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)(Bv,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),(0,ne.jsxs)("p",{className:"text-2xl font-bold text-[#0D1B2A]",children:[d.defaultDiscountPercentage||0,"%"]}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Default Discount"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)(fc,{className:"h-12 w-12 text-blue-600 mx-auto mb-2"}),(0,ne.jsx)("p",{className:"text-lg font-medium text-[#0D1B2A]",children:d.makingChargesWaived?"WAIVED":"APPLIED"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Making Charges"})]})})})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Customer Information"}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,ne.jsxs)("p",{children:["Customer since: ",new Date(d.customerSince).toLocaleDateString()]}),(0,ne.jsxs)("p",{children:["Total purchases: ",pc(d.totalPurchases)]}),d.lastPurchaseDate&&(0,ne.jsxs)("p",{children:["Last purchase: ",new Date(d.lastPurchaseDate).toLocaleDateString()]})]})]})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{h(null),p(!1)},children:f?"Cancel":"Close"}),f&&(0,ne.jsx)(It,{onClick:async()=>{if(d)try{await k(d.id,{fullName:P.name,mobileNumber:P.phone,email:P.email,address:P.address,city:P.city,dateOfBirth:P.dateOfBirth||void 0,anniversaryDate:P.anniversaryDate||void 0,notes:P.notes,loyaltyTier:P.loyaltyTier,defaultDiscountPercentage:P.defaultDiscountPercentage,makingChargesWaived:P.makingChargesWaived}),h(null),p(!1),U(),m({searchTerm:a,pageNumber:1,pageSize:100})}catch(e){console.error("Failed to update customer:",e)}},variant:"golden",disabled:C,children:C?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Customer"}),!f&&(0,ne.jsxs)(It,{onClick:()=>p(!0),variant:"golden",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Edit Customer"]})]})]})})]})}const zv=["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"],Uv=["__scopeSwitch"],Vv=["__scopeSwitch","control","checked","bubbles"];var Wv="Switch",[qv,Hv]=xr(Wv),[Kv,Gv]=qv(Wv),$v=t.forwardRef((e,r)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:o,required:s,disabled:l,value:u="on",onCheckedChange:d,form:h}=e,f=le(e,zv),[p,m]=t.useState(null),g=bt(r,e=>m(e)),v=t.useRef(!1),y=!p||(h||!!p.closest("form")),[x,b]=Cr({prop:i,defaultProp:null!==o&&void 0!==o&&o,onChange:d,caller:Wv});return(0,ne.jsxs)(Kv,{scope:n,checked:x,disabled:l,children:[(0,ne.jsx)(Bt.button,c(c({type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":Qv(x),"data-disabled":l?"":void 0,disabled:l,value:u},f),{},{ref:g,onClick:gr(e.onClick,e=>{b(e=>!e),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})),y&&(0,ne.jsx)(Xv,{control:p,bubbles:!v.current,name:a,value:u,checked:x,required:s,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});$v.displayName=Wv;var Yv="SwitchThumb",Jv=t.forwardRef((e,t)=>{const{__scopeSwitch:r}=e,n=le(e,Uv),a=Gv(Yv,r);return(0,ne.jsx)(Bt.span,c(c({"data-state":Qv(a.checked),"data-disabled":a.disabled?"":void 0},n),{},{ref:t}))});Jv.displayName=Yv;var Xv=t.forwardRef((e,r)=>{let{__scopeSwitch:n,control:a,checked:i,bubbles:o=!0}=e,s=le(e,Vv);const l=t.useRef(null),u=bt(l,r),d=Mu(i),h=os(a);return t.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==i&&r){const t=new Event("click",{bubbles:o});r.call(e,i),e.dispatchEvent(t)}},[d,i,o]),(0,ne.jsx)("input",c(c({type:"checkbox","aria-hidden":!0,defaultChecked:i},s),{},{tabIndex:-1,ref:u,style:c(c(c({},s.style),h),{},{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function Qv(e){return e?"checked":"unchecked"}Xv.displayName="SwitchBubbleInput";var Zv=$v,ey=Jv;const ty=["className"];function ry(e){let{className:t}=e,r=le(e,ty);return(0,ne.jsx)(Zv,c(c({"data-slot":"switch",className:it("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t)},r),{},{children:(0,ne.jsx)(ey,{"data-slot":"switch-thumb",className:it("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})}))}const ny={companyName:"",contactPersonName:"",phone:"",email:"",address:"",taxRegistrationNumber:"",commercialRegistrationNumber:"",creditLimit:0,paymentTermsDays:30,creditLimitEnforced:!0,paymentTerms:"",notes:""};function ay(){var e,r,n;const{user:a,isManager:i}=se(),[o,s]=(0,t.useState)("suppliers"),[l,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(ny),[j,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)({amount:0,transactionType:"payment",notes:""}),{data:k,loading:C,error:O,fetchData:P,updateParams:E,hasNextPage:A,hasPrevPage:T,nextPage:D,prevPage:_,setPage:M}=$c({searchTerm:l,isActive:"active"===d||"inactive"!==d&&void 0}),{execute:I,loading:F}=Uc(),{execute:R,loading:B}=Vc(),{execute:L,loading:z}=Wc(),{execute:U,loading:V}=qc(),{execute:W,loading:q}=Hc(),{execute:H,loading:K}=Kc(),{execute:G,loading:$}=Gc(),[Y,J]=(0,t.useState)(null),[X,Q]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(null),[te,ae]=(0,t.useState)(null),{execute:ie,loading:oe}=gc(re.purchaseOrders.searchPurchaseOrders);(0,t.useEffect)(()=>{const e=setTimeout(()=>{E({searchTerm:l||void 0,isActive:"active"===d||"inactive"!==d&&void 0,pageNumber:1})},300);return()=>clearTimeout(e)},[l,d,E]);const le=async e=>{g(e),ue(e);try{const[t,r,n,a]=await Promise.all([U(e.id),W(e.id),G(e.id,{pageSize:10}),ie({supplierId:e.id})]);J(t),Q(r),ee(n),ae(a.items||[])}catch(t){console.error("Failed to fetch supplier details:",t)}},ce=()=>{b(ny)},ue=e=>{b({companyName:e.companyName,contactPersonName:e.contactPersonName||"",phone:e.phone||"",email:e.email||"",address:e.address||"",taxRegistrationNumber:e.taxRegistrationNumber||"",commercialRegistrationNumber:e.commercialRegistrationNumber||"",creditLimit:e.creditLimit,paymentTermsDays:e.paymentTermsDays,creditLimitEnforced:e.creditLimitEnforced,paymentTerms:e.paymentTerms||"",notes:e.notes||""})},de=e=>{const t={draft:{variant:"outline",className:"bg-gray-100 text-gray-800"},sent:{variant:"default",className:"bg-blue-100 text-blue-800"},confirmed:{variant:"default",className:"bg-yellow-100 text-yellow-800"},received:{variant:"default",className:"bg-green-100 text-green-800"},cancelled:{variant:"destructive",className:"bg-red-100 text-red-800"}}[e];return(0,ne.jsx)(or,{variant:t.variant,className:t.className,children:e.toUpperCase()})},he={total:(null===k||void 0===k?void 0:k.totalCount)||0,active:(null===k||void 0===k||null===(e=k.items)||void 0===e?void 0:e.filter(e=>e.isActive).length)||0,totalBalance:(null===k||void 0===k||null===(r=k.items)||void 0===r?void 0:r.reduce((e,t)=>e+t.currentBalance,0))||0,totalPurchases:0};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Supplier Management"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage suppliers and purchase orders"})]}),i&&(0,ne.jsxs)(It,{onClick:()=>p(!0),className:"touch-target pos-button-primary bg-[#D4AF37] hover:bg-[#B8941F] text-[#0D1B2A]",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Suppliers"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:he.total})]}),(0,ne.jsx)(rc,{className:"h-8 w-8 text-[#D4AF37]"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Suppliers"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:he.active})]}),(0,ne.jsx)(rc,{className:"h-8 w-8 text-green-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Outstanding Balance"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:pc(he.totalBalance)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-red-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Purchases"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:pc(he.totalPurchases)})]}),(0,ne.jsx)(Xl,{className:"h-8 w-8 text-blue-600"})]})})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search suppliers...",value:l,onChange:e=>u(e.target.value),className:"pl-10"})]}),(0,ne.jsxs)(wh,{value:d,onValueChange:h,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Filter by status"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Status"}),(0,ne.jsx)(Ch,{value:"active",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Active"}),(0,ne.jsx)(Ch,{value:"inactive",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"Inactive"})]})]}),(0,ne.jsx)("div",{}),(0,ne.jsx)(It,{variant:"outline",onClick:()=>{u(""),h("all")},children:"Clear Filters"})]})})}),(0,ne.jsxs)(_p,{value:o,onValueChange:s,children:[(0,ne.jsxs)(Mp,{children:[(0,ne.jsx)(Ip,{value:"suppliers",children:"Suppliers"}),(0,ne.jsx)(Ip,{value:"purchase-orders",children:"Purchase Orders"}),(0,ne.jsx)(Ip,{value:"transactions",children:"Transactions"})]}),(0,ne.jsx)(Fp,{value:"suppliers",className:"space-y-4",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Suppliers"}),(0,ne.jsxs)(pt,{children:[(null===k||void 0===k||null===(n=k.items)||void 0===n?void 0:n.length)||0," supplier(s) found"]})]}),(0,ne.jsxs)(mt,{className:"p-0",children:[C&&(0,ne.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),O&&(0,ne.jsxs)("div",{className:"text-center py-12 text-red-600",children:[(0,ne.jsxs)("p",{children:["Error loading suppliers: ",O]}),(0,ne.jsx)(It,{onClick:P,className:"mt-4",children:"Try Again"})]}),k&&k.items&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Supplier #"}),(0,ne.jsx)(Lh,{children:"Company"}),(0,ne.jsx)(Lh,{children:"Contact"}),(0,ne.jsx)(Lh,{children:"Payment Terms"}),(0,ne.jsx)(Lh,{children:"Current Balance"}),(0,ne.jsx)(Lh,{children:"Total Purchases"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Last Order"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:k.items.map(e=>{return(0,ne.jsxs)(Bh,{children:[(0,ne.jsxs)(zh,{className:"font-medium",children:["SUP-",e.id.toString().padStart(3,"0")]}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.companyName}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:e.contactPersonName})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)("p",{className:"text-sm font-medium",children:e.contactPersonName}),(0,ne.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,ne.jsx)(zp,{className:"h-3 w-3"}),e.phone||"N/A"]})]})}),(0,ne.jsx)(zh,{children:e.paymentTerms||"Net ".concat(e.paymentTermsDays," days")}),(0,ne.jsx)(zh,{className:e.currentBalance>0?"text-red-600":"text-green-600",children:pc(e.currentBalance)}),(0,ne.jsx)(zh,{children:pc(0)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:e.isActive?"default":"secondary",className:(r=e.isActive,r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"ACTIVE":"INACTIVE"})}),(0,ne.jsx)(zh,{children:e.lastTransactionDate?(t=e.lastTransactionDate,new Date(t).toLocaleDateString()):"Never"}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>le(e),className:"touch-target",children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})}),i&&(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:()=>{g(e),ue(e),y(!0),le(e)},className:"touch-target",children:(0,ne.jsx)(qp,{className:"h-4 w-4"})})]})})]},e.id);var t,r})})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.items.length," of ",k.totalCount," suppliers"]}),(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:_,disabled:!T,children:"Previous"}),(0,ne.jsxs)("span",{className:"flex items-center px-3 text-sm",children:["Page ",k.pageNumber," of ",Math.ceil(k.totalCount/k.pageSize)]}),(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:D,disabled:!A,children:"Next"})]})]})]})]})]})}),(0,ne.jsx)(Fp,{value:"purchase-orders",className:"space-y-4",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Purchase Orders"}),(0,ne.jsx)(pt,{children:oe?"Loading...":"".concat((null===te||void 0===te?void 0:te.length)||0," purchase order(s) found")})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"PO Number"}),(0,ne.jsx)(Lh,{children:"Supplier"}),(0,ne.jsx)(Lh,{children:"Order Date"}),(0,ne.jsx)(Lh,{children:"Expected Delivery"}),(0,ne.jsx)(Lh,{children:"Items"}),(0,ne.jsx)(Lh,{children:"Total Amount"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:oe?(0,ne.jsx)(Bh,{children:(0,ne.jsx)(zh,{colSpan:8,className:"text-center py-8",children:(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin mx-auto"})})}):te&&te.length>0?te.map(e=>{var t;return(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.purchaseOrderNumber}),(0,ne.jsx)(zh,{children:e.supplierName}),(0,ne.jsx)(zh,{children:new Date(e.orderDate).toLocaleDateString()}),(0,ne.jsx)(zh,{children:e.expectedDeliveryDate?new Date(e.expectedDeliveryDate).toLocaleDateString():"N/A"}),(0,ne.jsx)(zh,{children:(null===(t=e.items)||void 0===t?void 0:t.length)||0}),(0,ne.jsx)(zh,{children:pc(e.totalAmount)}),(0,ne.jsx)(zh,{children:de(e.status)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"touch-target",children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})})})]},e.id)}):(0,ne.jsx)(Bh,{children:(0,ne.jsx)(zh,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No purchase orders found"})})})]})})]})}),(0,ne.jsx)(Fp,{value:"transactions",className:"space-y-4",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Supplier Transactions"}),(0,ne.jsx)(pt,{children:"Payment history and account movements"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Date"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Reference"}),(0,ne.jsx)(Lh,{children:"Amount"}),(0,ne.jsx)(Lh,{children:"Running Balance"}),(0,ne.jsx)(Lh,{children:"Description"})]})}),(0,ne.jsx)(Rh,{children:$?(0,ne.jsx)(Bh,{children:(0,ne.jsx)(zh,{colSpan:6,className:"text-center py-8",children:(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin mx-auto"})})}):Z&&Z.length>0?Z.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:new Date(e.transactionDate).toLocaleDateString()}),(0,ne.jsx)(zh,{className:"capitalize",children:e.transactionType.replace("_"," ")}),(0,ne.jsx)(zh,{className:"font-medium",children:e.transactionNumber}),(0,ne.jsxs)(zh,{className:e.amount<0?"text-green-600":"text-red-600",children:[e.amount<0?"-":"+",pc(Math.abs(e.amount))]}),(0,ne.jsx)(zh,{children:pc(e.balanceAfterTransaction)}),(0,ne.jsx)(zh,{children:e.notes||"N/A"})]},e.transactionId)):(0,ne.jsx)(Bh,{children:(0,ne.jsx)(zh,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No transactions found"})})})]})})]})})]}),(0,ne.jsx)(Kh,{open:f,onOpenChange:p,children:(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Add New Supplier"}),(0,ne.jsx)(Zh,{children:"Create a new supplier record with company information and payment terms."})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"companyName",children:"Company Name *"}),(0,ne.jsx)(vt,{id:"companyName",value:x.companyName,onChange:e=>b(c(c({},x),{},{companyName:e.target.value})),placeholder:"Enter company name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"contactPersonName",children:"Contact Person"}),(0,ne.jsx)(vt,{id:"contactPersonName",value:x.contactPersonName,onChange:e=>b(c(c({},x),{},{contactPersonName:e.target.value})),placeholder:"Enter contact person name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"phone",children:"Phone"}),(0,ne.jsx)(vt,{id:"phone",value:x.phone,onChange:e=>b(c(c({},x),{},{phone:e.target.value})),placeholder:"Enter phone number"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email"}),(0,ne.jsx)(vt,{id:"email",type:"email",value:x.email,onChange:e=>b(c(c({},x),{},{email:e.target.value})),placeholder:"Enter email address"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"address",children:"Address"}),(0,ne.jsx)(Lf,{id:"address",value:x.address,onChange:e=>b(c(c({},x),{},{address:e.target.value})),placeholder:"Enter address",rows:3})]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"taxRegistrationNumber",children:"Tax Registration Number"}),(0,ne.jsx)(vt,{id:"taxRegistrationNumber",value:x.taxRegistrationNumber,onChange:e=>b(c(c({},x),{},{taxRegistrationNumber:e.target.value})),placeholder:"Enter tax registration number"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"commercialRegistrationNumber",children:"Commercial Registration"}),(0,ne.jsx)(vt,{id:"commercialRegistrationNumber",value:x.commercialRegistrationNumber,onChange:e=>b(c(c({},x),{},{commercialRegistrationNumber:e.target.value})),placeholder:"Enter commercial registration"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"creditLimit",children:"Credit Limit"}),(0,ne.jsx)(vt,{id:"creditLimit",type:"number",value:x.creditLimit,onChange:e=>b(c(c({},x),{},{creditLimit:parseFloat(e.target.value)||0})),placeholder:"Enter credit limit"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"paymentTermsDays",children:"Payment Terms (Days)"}),(0,ne.jsx)(vt,{id:"paymentTermsDays",type:"number",value:x.paymentTermsDays,onChange:e=>b(c(c({},x),{},{paymentTermsDays:parseInt(e.target.value)||30})),placeholder:"Enter payment terms in days"})]}),(0,ne.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ne.jsx)(ry,{checked:x.creditLimitEnforced,onCheckedChange:e=>b(c(c({},x),{},{creditLimitEnforced:e}))}),(0,ne.jsx)(Wt,{children:"Enforce Credit Limit"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"paymentTerms",children:"Payment Terms Description"}),(0,ne.jsx)(vt,{id:"paymentTerms",value:x.paymentTerms,onChange:e=>b(c(c({},x),{},{paymentTerms:e.target.value})),placeholder:"e.g., Net 30, COD, etc."})]})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"notes",children:"Notes"}),(0,ne.jsx)(Lf,{id:"notes",value:x.notes,onChange:e=>b(c(c({},x),{},{notes:e.target.value})),placeholder:"Additional notes about the supplier",rows:3})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{p(!1),ce()},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(x.companyName)try{const e={companyName:x.companyName,contactPersonName:x.contactPersonName||void 0,phone:x.phone||void 0,email:x.email||void 0,address:x.address||void 0,taxRegistrationNumber:x.taxRegistrationNumber||void 0,commercialRegistrationNumber:x.commercialRegistrationNumber||void 0,creditLimit:x.creditLimit,paymentTermsDays:x.paymentTermsDays,creditLimitEnforced:x.creditLimitEnforced,paymentTerms:x.paymentTerms||void 0,notes:x.notes||void 0};await I(e),Cf.success("Supplier created successfully"),p(!1),ce(),P()}catch(e){Cf.error(e instanceof Error?e.message:"Failed to create supplier")}else Cf.error("Company name is required")},disabled:F,variant:"golden",children:[F&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Supplier"]})]})]})}),m&&(0,ne.jsx)(Kh,{open:!!m,onOpenChange:()=>{g(null),y(!1)},children:(0,ne.jsxs)(Jh,{className:"max-w-3xl",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{children:[v?"Edit Supplier":"Supplier Details"," - SUP-",m.id.toString().padStart(3,"0")]})}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Company Name"}),(0,ne.jsx)(vt,{value:x.companyName,onChange:e=>b(c(c({},x),{},{companyName:e.target.value})),readOnly:!v})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Contact Person"}),(0,ne.jsx)(vt,{value:x.contactPersonName,onChange:e=>b(c(c({},x),{},{contactPersonName:e.target.value})),readOnly:!v})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Current Balance"}),(0,ne.jsx)("div",{className:"p-2 bg-muted rounded",children:pc(m.currentBalance)})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Total Purchases"}),(0,ne.jsx)("div",{className:"p-2 bg-muted rounded",children:pc(0)})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{g(null),y(!1)},children:v?"Cancel":"Close"}),v&&i&&(0,ne.jsx)(It,{onClick:async()=>{if(m)try{const e={id:m.id,companyName:x.companyName,contactPersonName:x.contactPersonName||void 0,phone:x.phone||void 0,email:x.email||void 0,address:x.address||void 0,taxRegistrationNumber:x.taxRegistrationNumber||void 0,commercialRegistrationNumber:x.commercialRegistrationNumber||void 0,creditLimit:x.creditLimit,paymentTermsDays:x.paymentTermsDays,creditLimitEnforced:x.creditLimitEnforced,paymentTerms:x.paymentTerms||void 0,notes:x.notes||void 0};await R(m.id,e),Cf.success("Supplier updated successfully"),g(null),y(!1),ce(),P()}catch(e){Cf.error(e instanceof Error?e.message:"Failed to update supplier")}},className:"pos-button-primary bg-[#D4AF37] hover:bg-[#B8941F] text-[#0D1B2A]",children:"Update Supplier"}),!v&&i&&(0,ne.jsxs)(It,{onClick:()=>y(!0),className:"pos-button-primary bg-[#D4AF37] hover:bg-[#B8941F] text-[#0D1B2A]",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Edit Supplier"]})]})]})})]})}const iy=Gt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function oy(){const{isManager:e}=se(),[r,n]=(0,t.useState)("all"),[a,i]=(0,t.useState)(""),[o,s]=(0,t.useState)("all"),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[j,w]=(0,t.useState)([]),[N,S]=(0,t.useState)([]),[k,C]=(0,t.useState)({supplierId:"",branchId:"",expectedDelivery:"",terms:"",notes:"",items:[{productId:"",quantity:"",weight:"",unitCost:"",notes:""}]});(0,t.useEffect)(()=>{O()},[]);const O=async()=>{g(!0);try{const e=await z.searchPurchaseOrders({pageNumber:1,pageSize:100});y(e.items);const t=await F.getSuppliers({pageNumber:1,pageSize:100,isActive:!0});b(t.items);const r=await D.getProducts({pageNumber:1,pageSize:100,isActive:!0});w(r.items);const n=await I.getBranches({pageNumber:1,pageSize:100,isActive:!0});S(n.items)}catch(e){console.error("Error loading data:",e),Cf.error("Failed to load data")}finally{g(!1)}},P=v.filter(e=>{const t=e.purchaseOrderNumber.toLowerCase().includes(a.toLowerCase())||e.supplierName&&e.supplierName.toLowerCase().includes(a.toLowerCase()),n="all"===o||e.status===o,i="all"===r||e.status===r;return t&&n&&i}),E=e=>{const t={Pending:{variant:"outline",className:"bg-gray-100 text-gray-800",icon:qp},Sent:{variant:"default",className:"bg-blue-100 text-blue-800",icon:rc},Confirmed:{variant:"default",className:"bg-yellow-100 text-yellow-800",icon:Rp},Received:{variant:"default",className:"bg-green-100 text-green-800",icon:ec},Cancelled:{variant:"destructive",className:"bg-red-100 text-red-800",icon:Xa}},r=t[e]||t.Pending,n=r.icon;return(0,ne.jsxs)(or,{variant:r.variant,className:r.className,children:[(0,ne.jsx)(n,{className:"mr-1 h-3 w-3"}),e.toUpperCase()]})},A=(e,t,r)=>{const n=[...k.items];n[e]=c(c({},n[e]),{},{[t]:r}),C(c(c({},k),{},{items:n}))},T=(e,t)=>(parseFloat(e)||0)*(parseFloat(t)||0),_=async(t,r)=>{if(e){g(!0);try{Cf.info("Status update to ".concat(r," requires backend API enhancement"))}catch(n){console.error("Error updating purchase order status:",n),Cf.error("Failed to update purchase order status")}finally{g(!1)}}else Cf.error("Only managers can update purchase order status")},M=()=>{C({supplierId:"",branchId:"",expectedDelivery:"",terms:"",notes:"",items:[{productId:"",quantity:"",weight:"",unitCost:"",notes:""}]})},R={total:v.length,pending:v.filter(e=>["Pending","Sent","Confirmed"].includes(e.status)).length,received:v.filter(e=>"Received"===e.status).length,totalValue:v.reduce((e,t)=>e+t.totalAmount,0)};return m&&0===v.length?(0,ne.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"}),(0,ne.jsx)("span",{className:"ml-2",children:"Loading purchase orders..."})]}):(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Purchase Orders"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Manage supplier purchase orders and deliveries"})]}),e&&(0,ne.jsxs)(Kh,{open:l,onOpenChange:u,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{className:"touch-target pos-button-primary bg-[#D4AF37] hover:bg-[#B8941F] text-[#0D1B2A]",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"New Purchase Order"]})}),(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Create Purchase Order"}),(0,ne.jsx)(Zh,{children:"Create a new purchase order for supplier inventory"})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Supplier"}),(0,ne.jsxs)(wh,{value:k.supplierId,onValueChange:e=>C(c(c({},k),{},{supplierId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select supplier"})}),(0,ne.jsx)(kh,{children:x.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.companyName," - ",e.contactPersonName||"No contact"]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Branch"}),(0,ne.jsxs)(wh,{value:k.branchId,onValueChange:e=>C(c(c({},k),{},{branchId:e})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select branch"})}),(0,ne.jsx)(kh,{children:N.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.name," (",e.code,")"]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Expected Delivery"}),(0,ne.jsx)(vt,{type:"date",value:k.expectedDelivery,onChange:e=>C(c(c({},k),{},{expectedDelivery:e.target.value}))})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Terms"}),(0,ne.jsx)(vt,{value:k.terms,onChange:e=>C(c(c({},k),{},{terms:e.target.value})),placeholder:"Payment terms"})]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsx)(Wt,{children:"Items"}),(0,ne.jsxs)(It,{type:"button",variant:"outline",onClick:()=>{C(c(c({},k),{},{items:[...k.items,{productId:"",quantity:"",weight:"",unitCost:"",notes:""}]}))},size:"sm",children:[(0,ne.jsx)(tf,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),k.items.map((e,t)=>(0,ne.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-end",children:[(0,ne.jsxs)("div",{className:"col-span-3 space-y-1",children:[(0,ne.jsx)(Wt,{className:"text-xs",children:"Product"}),(0,ne.jsxs)(wh,{value:e.productId,onValueChange:e=>A(t,"productId",e),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select product"})}),(0,ne.jsx)(kh,{children:j.map(e=>(0,ne.jsxs)(Ch,{value:e.id.toString(),children:[e.name," (",e.productCode,")"]},e.id))})]})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-1",children:[(0,ne.jsx)(Wt,{className:"text-xs",children:"Quantity"}),(0,ne.jsx)(vt,{type:"number",value:e.quantity,onChange:e=>A(t,"quantity",e.target.value),placeholder:"0"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-1",children:[(0,ne.jsx)(Wt,{className:"text-xs",children:"Weight (g)"}),(0,ne.jsx)(vt,{type:"number",value:e.weight,onChange:e=>A(t,"weight",e.target.value),placeholder:"0.00"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-1",children:[(0,ne.jsx)(Wt,{className:"text-xs",children:"Unit Cost"}),(0,ne.jsx)(vt,{type:"number",value:e.unitCost,onChange:e=>A(t,"unitCost",e.target.value),placeholder:"0.00"})]}),(0,ne.jsxs)("div",{className:"col-span-2 space-y-1",children:[(0,ne.jsx)(Wt,{className:"text-xs",children:"Total"}),(0,ne.jsx)(vt,{value:pc(T(e.quantity,e.unitCost)),readOnly:!0,className:"bg-muted"})]}),(0,ne.jsx)("div",{className:"col-span-1",children:k.items.length>1&&(0,ne.jsx)(It,{type:"button",variant:"ghost",size:"sm",onClick:()=>(e=>{const t=k.items.filter((t,r)=>r!==e);C(c(c({},k),{},{items:t}))})(t),children:(0,ne.jsx)(Xa,{className:"h-4 w-4"})})})]},t)),(0,ne.jsx)("div",{className:"text-right pt-4 border-t",children:(0,ne.jsxs)("p",{className:"text-lg font-semibold",children:["Total: ",pc(k.items.reduce((e,t)=>e+T(t.quantity,t.unitCost),0))]})})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Notes"}),(0,ne.jsx)(Lf,{value:k.notes,onChange:e=>C(c(c({},k),{},{notes:e.target.value})),placeholder:"Additional notes for this purchase order"})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(e)if(k.supplierId&&k.branchId)if(0===k.items.length||k.items.some(e=>!e.productId||!e.quantity||!e.unitCost))Cf.error("Please add at least one item with all required fields");else{g(!0);try{const e={supplierId:parseInt(k.supplierId),branchId:parseInt(k.branchId),expectedDeliveryDate:k.expectedDelivery||void 0,terms:k.terms||void 0,notes:k.notes||void 0,items:k.items.map(e=>({productId:parseInt(e.productId),quantityOrdered:parseFloat(e.quantity),weightOrdered:parseFloat(e.weight),unitCost:parseFloat(e.unitCost),notes:e.notes||void 0}))};await z.createPurchaseOrder(e),Cf.success("Purchase order created successfully"),u(!1),M(),O()}catch(t){console.error("Error creating purchase order:",t),Cf.error("Failed to create purchase order")}finally{g(!1)}}else Cf.error("Please select supplier and branch");else Cf.error("Only managers can create purchase orders")},disabled:m,className:"pos-button-primary bg-[#D4AF37] hover:bg-[#B8941F] text-[#0D1B2A]",children:[m&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Purchase Order"]})]})]})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:R.total})]}),(0,ne.jsx)(Ql,{className:"h-8 w-8 text-[#D4AF37]"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:R.pending})]}),(0,ne.jsx)(iy,{className:"h-8 w-8 text-yellow-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Received"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:R.received})]}),(0,ne.jsx)(Rp,{className:"h-8 w-8 text-green-600"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,ne.jsx)("p",{className:"text-2xl text-[#0D1B2A]",children:pc(R.totalValue)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-blue-600"})]})})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ne.jsxs)("div",{className:"relative flex-1",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search by PO number or supplier name...",value:a,onChange:e=>i(e.target.value),className:"pl-10 touch-target"})]}),(0,ne.jsxs)(wh,{value:o,onValueChange:s,children:[(0,ne.jsx)(Sh,{className:"w-full md:w-40",children:(0,ne.jsx)(Nh,{placeholder:"Status"})}),(0,ne.jsxs)(kh,{children:[(0,ne.jsx)(Ch,{value:"all",children:"All Status"}),(0,ne.jsx)(Ch,{value:"Pending",children:"Pending"}),(0,ne.jsx)(Ch,{value:"Sent",children:"Sent"}),(0,ne.jsx)(Ch,{value:"Confirmed",children:"Confirmed"}),(0,ne.jsx)(Ch,{value:"Received",children:"Received"}),(0,ne.jsx)(Ch,{value:"Cancelled",children:"Cancelled"})]})]})]})})}),(0,ne.jsxs)(_p,{value:r,onValueChange:n,children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-6",children:[(0,ne.jsx)(Ip,{value:"all",children:"All Orders"}),(0,ne.jsx)(Ip,{value:"Pending",children:"Pending"}),(0,ne.jsx)(Ip,{value:"Sent",children:"Sent"}),(0,ne.jsx)(Ip,{value:"Confirmed",children:"Confirmed"}),(0,ne.jsx)(Ip,{value:"Received",children:"Received"}),(0,ne.jsx)(Ip,{value:"Cancelled",children:"Cancelled"})]}),(0,ne.jsx)(Fp,{value:r,className:"mt-6",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Purchase Orders"}),(0,ne.jsxs)(pt,{children:[P.length," purchase order(s) found"]})]}),(0,ne.jsx)(mt,{children:0===P.length?(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Ql,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"No purchase orders found"})]}):(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"PO Number"}),(0,ne.jsx)(Lh,{children:"Supplier"}),(0,ne.jsx)(Lh,{children:"Branch"}),(0,ne.jsx)(Lh,{children:"Order Date"}),(0,ne.jsx)(Lh,{children:"Expected Delivery"}),(0,ne.jsx)(Lh,{children:"Total Amount"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:P.map(t=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:t.purchaseOrderNumber}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:t.supplierName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",t.supplierId]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:t.branchName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",t.branchId]})]})}),(0,ne.jsx)(zh,{children:new Date(t.orderDate).toLocaleDateString()}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{children:t.expectedDeliveryDate?new Date(t.expectedDeliveryDate).toLocaleDateString():"Not set"}),t.actualDeliveryDate&&(0,ne.jsxs)("p",{className:"text-sm text-green-600",children:["Delivered: ",new Date(t.actualDeliveryDate).toLocaleDateString()]})]})}),(0,ne.jsx)(zh,{children:pc(t.totalAmount)}),(0,ne.jsx)(zh,{children:E(t.status)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsxs)(Kh,{children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"touch-target",children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})})}),(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ne.jsx)(Xh,{children:(0,ne.jsxs)(Qh,{children:[t.purchaseOrderNumber," - Details"]})}),(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Supplier"}),(0,ne.jsx)("p",{className:"font-medium",children:t.supplierName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",t.supplierId]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Branch"}),(0,ne.jsx)("p",{className:"font-medium",children:t.branchName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",t.branchId]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Status"}),(0,ne.jsx)("div",{className:"mt-1",children:E(t.status)})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Total Amount"}),(0,ne.jsx)("p",{className:"text-lg font-semibold",children:pc(t.totalAmount)})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Items"}),(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Quantity"}),(0,ne.jsx)(Lh,{children:"Weight"}),(0,ne.jsx)(Lh,{children:"Unit Cost"}),(0,ne.jsx)(Lh,{children:"Total"}),(0,ne.jsx)(Lh,{children:"Status"})]})}),(0,ne.jsx)(Rh,{children:t.items.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:e.productCode})]})}),(0,ne.jsxs)(zh,{children:[e.quantityOrdered,e.quantityReceived>0&&(0,ne.jsxs)("span",{className:"text-sm text-green-600 ml-2",children:["(",e.quantityReceived," received)"]})]}),(0,ne.jsxs)(zh,{children:[e.weightOrdered,"g",e.weightReceived>0&&(0,ne.jsxs)("span",{className:"text-sm text-green-600 ml-2",children:["(",e.weightReceived,"g received)"]})]}),(0,ne.jsx)(zh,{children:pc(e.unitCost)}),(0,ne.jsx)(zh,{children:pc(e.lineTotal)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"Received"===e.status?"default":"outline",children:e.status})})]},e.id))})]})]}),t.notes&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{children:"Notes"}),(0,ne.jsx)("p",{className:"text-sm",children:t.notes})]}),e&&"Received"!==t.status&&"Cancelled"!==t.status&&(0,ne.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:["Pending"===t.status&&(0,ne.jsx)(It,{onClick:()=>_(t.id,"Sent"),size:"sm",children:"Send to Supplier"}),"Sent"===t.status&&(0,ne.jsx)(It,{onClick:()=>_(t.id,"Confirmed"),size:"sm",children:"Mark Confirmed"}),"Confirmed"===t.status&&(0,ne.jsx)(It,{onClick:()=>(async(t,r)=>{if(e){g(!0);try{const e={purchaseOrderId:t,items:r};await z.receivePurchaseOrder(e),Cf.success("Purchase order received successfully"),O()}catch(n){console.error("Error receiving purchase order:",n),Cf.error("Failed to receive purchase order")}finally{g(!1)}}else Cf.error("Only managers can receive purchase orders")})(t.id,t.items.map(e=>({purchaseOrderItemId:e.id,quantityReceived:e.quantityOrdered-e.quantityReceived,weightReceived:e.weightOrdered-e.weightReceived}))),size:"sm",children:"Mark Received"}),(0,ne.jsx)(It,{onClick:()=>_(t.id,"Cancelled"),variant:"destructive",size:"sm",children:"Cancel Order"})]})]})]})]}),e&&(0,ne.jsx)(It,{variant:"outline",size:"sm",className:"touch-target",children:(0,ne.jsx)(qp,{className:"h-4 w-4"})})]})})]},t.id))})]})})]})})]})]})}var sy=r(9889),ly=r.n(sy),cy=r(620),uy=r.n(cy),dy=r(5268),hy=r.n(dy),fy=r(3097),py=r.n(fy),my=r(9160),gy=r.n(my),vy=r(9686),yy=r.n(vy),xy=function(e){return 0===e?0:e>0?1:-1},by=function(e){return uy()(e)&&e.indexOf("%")===e.length-1},jy=function(e){return gy()(e)&&!hy()(e)},wy=function(e){return jy(e)||uy()(e)},Ny=0,Sy=function(e){var t=++Ny;return"".concat(e||"").concat(t)},ky=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!jy(e)&&!uy()(e))return n;if(by(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return hy()(r)&&(r=n),a&&r>t&&(r=t),r},Cy=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Oy=function(e,t){return jy(e)&&jy(t)?function(r){return e+r*(t-e)}:function(){return t}};function Py(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):py()(e,t))===r}):null}var Ey=function(e,t){return jy(e)&&jy(t)?e-t:uy()(e)&&uy()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Ay=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},Ty=r(1629),Dy=r.n(Ty),_y=r(6686),My=r.n(_y),Iy=r(9062);function Fy(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ry(e){return Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(e)}var By=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ly=["points","pathLength"],zy={svg:["viewBox","children"],polygon:Ly,polyline:Ly},Uy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vy=function(e,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),!My()(n))return null;var a={};return Object.keys(n).forEach(function(e){Uy.includes(e)&&(a[e]=r||function(t){return n[e](n,t)})}),a},Wy=function(e,t,r){if(!My()(e)||"object"!==Ry(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];Uy.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},qy=["children"],Hy=["children"];function Ky(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gy(e){return Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(e)}var $y={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yy=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Jy=null,Xy=null,Qy=function e(r){if(r===Jy&&Array.isArray(Xy))return Xy;var n=[];return t.Children.forEach(r,function(t){yy()(t)||((0,Iy.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),Xy=n,Jy=r,n};function Zy(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return Yy(e)}):[Yy(t)],Qy(e).forEach(function(e){var t=py()(e,"type.displayName")||py()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function ex(e,t){var r=Zy(e,t);return r&&r[0]}var tx=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!jy(r)||r<=0||!jy(n)||n<=0)},rx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nx=function(e){return e&&e.type&&uy()(e.type)&&rx.indexOf(e.type)>=0},ax=function(e,r,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!My()(a))return null;var i={};return Object.keys(a).forEach(function(e){var t;(function(e,t,r,n){var a,i=null!==(a=null===zy||void 0===zy?void 0:zy[n])&&void 0!==a?a:[];return t.startsWith("data-")||!Dy()(e)&&(n&&i.includes(t)||By.includes(t))||r&&Uy.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,r,n)&&(i[e]=a[e])}),i},ix=function e(r,n){if(r===n)return!0;var a=t.Children.count(r);if(a!==t.Children.count(n))return!1;if(0===a)return!0;if(1===a)return ox(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var o=r[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!ox(o,s))return!1}return!0},ox=function(e,t){if(yy()(e)&&yy()(t))return!0;if(!yy()(e)&&!yy()(t)){var r=e.props||{},n=r.children,a=Ky(r,qy),i=t.props||{},o=i.children,s=Ky(i,Hy);return n&&o?Fy(a,s)&&ix(n,o):!n&&!o&&Fy(a,s)}return!1},sx=function(e,t){var r=[],n={};return Qy(e).forEach(function(e,a){if(nx(e))r.push(e);else if(e){var i=Yy(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}}),r};function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cx(Object(r),!0).forEach(function(t){dx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=lx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var px=(0,t.forwardRef)(function(e,r){var n=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,v=e.id,y=e.className,x=e.onResize,b=e.style,j=void 0===b?{}:b,w=(0,t.useRef)(null),N=(0,t.useRef)();N.current=x,(0,t.useImperativeHandle)(r,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=hx((0,t.useState)({containerWidth:i.width,containerHeight:i.height}),2),k=S[0],C=S[1],O=(0,t.useCallback)(function(e,t){C(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;O(n,a),null===(t=N.current)||void 0===t||t.call(N,n,a)};g>0&&(e=ly()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),n=r.width,a=r.height;return O(n,a),t.observe(w.current),function(){t.disconnect()}},[O,g]);var P=(0,t.useMemo)(function(){var e=k.containerWidth,r=k.containerHeight;if(e<0||r<0)return null;Ay(by(s)||by(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Ay(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=by(s)?e:s,i=by(c)?r:c;n&&n>0&&(a?i=a/n:i&&(a=i*n),f&&i>f&&(i=f)),Ay(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,c,d,h,n);var o=!Array.isArray(p)&&Yy(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,ux({width:a,height:i},o?{style:ux({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e})},[n,p,c,f,h,d,k,s]);return t.createElement("div",{id:v?"".concat(v):void 0,className:de("recharts-responsive-container",y),style:ux(ux({},j),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:w},P)}),mx=r(6604),gx=r.n(mx),vx=r(7424),yx=r.n(vx),xx="Invariant failed";function bx(e,t){if(!e)throw new Error(xx)}var jx=["children","width","height","viewBox","className","style","title","desc"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(this,arguments)}function Nx(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sx(e){var r=e.children,n=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=Nx(e,jx),d=i||{width:n,height:a,x:0,y:0},h=de("recharts-surface",o);return t.createElement("svg",wx({},ax(u,!0,"svg"),{className:h,width:n,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),r)}var kx=["children","className"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function Ox(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Px=t.forwardRef(function(e,r){var n=e.children,a=e.className,i=Ox(e,kx),o=de("recharts-layer",a);return t.createElement("g",Cx({className:o},ax(i,!0),{ref:r}),n)});function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(this,arguments)}function Tx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(t){Ix(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ix(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ex(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ex(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fx(e){return Array.isArray(e)&&wy(e[0])&&wy(e[1])?e.join(" ~ "):e}var Rx=function(e){var r=e.separator,n=void 0===r?" : ":r,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,x=Mx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=Mx({margin:0},c),j=!yy()(m),w=j?m:"",N=de("recharts-default-tooltip",f),S=de("recharts-tooltip-label",p);j&&g&&void 0!==u&&null!==u&&(w=g(m,u));var k=y?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",Ax({className:N,style:x},k),t.createElement("p",{className:S,style:b},t.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(h?yx()(u,h):u).map(function(e,r){if("none"===e.type)return null;var a=Mx({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||Fx,o=e.value,l=e.name,c=o,h=l;if(i&&null!=c&&null!=h){var f=i(o,l,e,r,u);if(Array.isArray(f)){var p=Tx(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:a},wy(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,wy(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Bx(e){return Bx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(e)}function Lx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Bx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zx="recharts-tooltip-wrapper",Ux={visibility:"hidden"};function Vx(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return de(zx,Lx(Lx(Lx(Lx({},"".concat(zx,"-right"),jy(r)&&t&&jy(t.x)&&r>=t.x),"".concat(zx,"-left"),jy(r)&&t&&jy(t.x)&&r<t.x),"".concat(zx,"-bottom"),jy(n)&&t&&jy(t.y)&&n>=t.y),"".concat(zx,"-top"),jy(n)&&t&&jy(t.y)&&n<t.y))}function Wx(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&jy(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function qx(e){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(e)}function Hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Kx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hx(Object(r),!0).forEach(function(t){Qx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zx(n.key),n)}}function $x(e,t,r){return t=Jx(t),function(e,t){if(t&&("object"===qx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yx()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function Yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yx=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jx(e)}function Xx(e,t){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xx(e,t)}function Qx(e,t,r){return(t=Zx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zx(e){var t=function(e,t){if("object"!=qx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qx(t)?t:t+""}var eb=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qx(e=$x(this,r,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qx(e,"handleKeyDown",function(t){var r,n,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xx(e,t)}(r,e),n=r,a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,r=this.props,n=r.active,a=r.allowEscapeViewBox,i=r.animationDuration,o=r.animationEasing,s=r.children,l=r.coordinate,c=r.hasPayload,u=r.isAnimationActive,d=r.offset,h=r.position,f=r.reverseDirection,p=r.useTranslate3d,m=r.viewBox,g=r.wrapperStyle,v=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Wx({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=Wx({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Ux,cssClasses:Vx({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),y=v.cssClasses,x=v.cssProperties,b=Kx(Kx({transition:u&&n?"transform ".concat(i,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},s)}}],a&&Gx(n.prototype,a),i&&Gx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent),tb={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return tb[e]},set:function(e,t){if("string"===typeof e)tb[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(t){tb[t]=e[t]})}}},rb=r(977),nb=r.n(rb);function ab(e,t,r){return!0===t?nb()(e,r):Dy()(t)?nb()(e,t):e}function ib(e){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(e)}function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(t){fb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pb(n.key),n)}}function cb(e,t,r){return t=db(t),function(e,t){if(t&&("object"===ib(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ub()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function ub(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ub=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},db(e)}function hb(e,t){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hb(e,t)}function fb(e,t,r){return(t=pb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pb(e){var t=function(e,t){if("object"!=ib(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ib(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ib(t)?t:t+""}function mb(e){return e.dataKey}var gb=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),cb(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hb(e,t)}(r,e),n=r,a=[{key:"render",value:function(){var e=this,r=this.props,n=r.active,a=r.allowEscapeViewBox,i=r.animationDuration,o=r.animationEasing,s=r.content,l=r.coordinate,c=r.filterNull,u=r.isAnimationActive,d=r.offset,h=r.payload,f=r.payloadUniqBy,p=r.position,m=r.reverseDirection,g=r.useTranslate3d,v=r.viewBox,y=r.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=ab(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,mb));var b=x.length>0;return t.createElement(eb,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:n,coordinate:l,hasPayload:b,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:y},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(Rx,r)}(s,sb(sb({},this.props),{},{payload:x})))}}],a&&lb(n.prototype,a),i&&lb(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);fb(gb,"displayName","Tooltip"),fb(gb,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tb.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vb=r(643),yb=r.n(vb);Math.abs,Math.atan2;const xb=Math.cos,bb=(Math.max,Math.min,Math.sin),jb=Math.sqrt,wb=Math.PI,Nb=2*wb;const Sb={draw(e,t){const r=jb(t/wb);e.moveTo(r,0),e.arc(0,0,r,0,Nb)}},kb={draw(e,t){const r=jb(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Cb=jb(1/3),Ob=2*Cb,Pb={draw(e,t){const r=jb(t/Ob),n=r*Cb;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Eb={draw(e,t){const r=jb(t),n=-r/2;e.rect(n,n,r,r)}},Ab=bb(wb/10)/bb(7*wb/10),Tb=bb(Nb/10)*Ab,Db=-xb(Nb/10)*Ab,_b={draw(e,t){const r=jb(.8908130915292852*t),n=Tb*r,a=Db*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=Nb*i/5,o=xb(t),s=bb(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},Mb=jb(3),Ib={draw(e,t){const r=-jb(t/(3*Mb));e.moveTo(0,2*r),e.lineTo(-Mb*r,-r),e.lineTo(Mb*r,-r),e.closePath()}},Fb=-.5,Rb=jb(3)/2,Bb=1/jb(12),Lb=3*(Bb/2+1),zb={draw(e,t){const r=jb(t/Lb),n=r/2,a=r*Bb,i=n,o=r*Bb+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Fb*n-Rb*a,Rb*n+Fb*a),e.lineTo(Fb*i-Rb*o,Rb*i+Fb*o),e.lineTo(Fb*s-Rb*l,Rb*s+Fb*l),e.lineTo(Fb*n+Rb*a,Fb*a-Rb*n),e.lineTo(Fb*i+Rb*o,Fb*o-Rb*i),e.lineTo(Fb*s+Rb*l,Fb*l-Rb*s),e.closePath()}};function Ub(e){return function(){return e}}function Vb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wb,qb,Hb,Kb,Gb,$b,Yb,Jb,Xb,Qb,Zb,ej,tj,rj;const nj=Math.PI,aj=2*nj,ij=1e-6,oj=aj-ij;function sj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class lj{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?sj:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return sj;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(Wb||(Wb=Vb(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(qb||(qb=Vb(["Z"]))))}lineTo(e,t){this._append(Hb||(Hb=Vb(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(Kb||(Kb=Vb(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,i){this._append(Gb||(Gb=Vb(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+i)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append($b||($b=Vb(["M",",",""])),this._x1=e,this._y1=t);else if(d>ij)if(Math.abs(u*s-l*c)>ij&&a){let h=r-i,f=n-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=a*Math.tan((nj-Math.acos((p+d-m)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>ij&&this._append(Jb||(Jb=Vb(["L",",",""])),e+x*c,t+x*u),this._append(Xb||(Xb=Vb(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*s,this._y1=t+b*l)}else this._append(Yb||(Yb=Vb(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append(Qb||(Qb=Vb(["M",",",""])),l,c):(Math.abs(this._x1-l)>ij||Math.abs(this._y1-c)>ij)&&this._append(Zb||(Zb=Vb(["L",",",""])),l,c),r&&(d<0&&(d=d%aj+aj),d>oj?this._append(ej||(ej=Vb(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-o,t-s,r,r,u,this._x1=l,this._y1=c):d>ij&&this._append(tj||(tj=Vb(["A",",",",0,",",",",",",",""])),r,r,+(d>=nj),u,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(rj||(rj=Vb(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function cj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new lj(t)}jb(3),jb(3);function uj(e){return uj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uj(e)}var dj=["type","size","sizeType"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hj.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(t){mj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=uj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vj={symbolCircle:Sb,symbolCross:kb,symbolDiamond:Pb,symbolSquare:Eb,symbolStar:_b,symbolTriangle:Ib,symbolWye:zb},yj=Math.PI/180,xj=function(e){var r=e.type,n=void 0===r?"circle":r,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=pj(pj({},gj(e,dj)),{},{type:n,size:i,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=ax(l,!0);return u===+u&&d===+d&&i===+i?t.createElement("path",hj({},h,{className:de("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(yb()(e));return vj[t]||Sb}(n),t=function(e,t){let r=null,n=cj(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:Ub(e||Sb),t="function"===typeof t?t:Ub(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Ub(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Ub(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*yj;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,n));return t()}()})):null};function bj(e){return bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bj(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jj.apply(this,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ej(n.key),n)}}function Sj(e,t,r){return t=Cj(t),function(e,t){if(t&&("object"===bj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kj()?Reflect.construct(t,r||[],Cj(e).constructor):t.apply(e,r))}function kj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kj=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cj(e)}function Oj(e,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oj(e,t)}function Pj(e,t,r){return(t=Ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ej(e){var t=function(e,t){if("object"!=bj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bj(t)?t:t+""}xj.registerSymbol=function(e,t){vj["symbol".concat(yb()(e))]=t};var Aj=32,Tj=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Sj(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}(r,e),n=r,a=[{key:"renderIcon",value:function(e){var r=this.props.inactiveColor,n=16,a=Aj/6,i=Aj/3,o=e.inactive?r:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Aj,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(Aj,"M").concat(2*i,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Aj,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(t){Pj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(xj,{fill:o,cx:n,cy:n,size:Aj,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,r=this.props,n=r.payload,a=r.iconSize,i=r.layout,o=r.formatter,s=r.inactiveColor,l={x:0,y:0,width:Aj,height:Aj},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(r,n){var i=r.formatter||o,d=de(Pj(Pj({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",r.inactive));if("none"===r.type)return null;var h=Dy()(r.value)?null:r.value;Ay(!Dy()(r.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=r.inactive?s:r.color;return t.createElement("li",jj({className:d,style:c,key:"legend-item-".concat(n)},Wy(e.props,r,n)),t.createElement(Sx,{width:a,height:a,viewBox:l,style:u},e.renderIcon(r)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(h,r,n):h))})}},{key:"render",value:function(){var e=this.props,r=e.payload,n=e.layout,a=e.align;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&Nj(n.prototype,a),i&&Nj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function Dj(e){return Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dj(e)}Pj(Tj,"displayName","Legend"),Pj(Tj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _j=["ref"];function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(t){Uj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vj(n.key),n)}}function Rj(e,t,r){return t=Lj(t),function(e,t){if(t&&("object"===Dj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bj()?Reflect.construct(t,r||[],Lj(e).constructor):t.apply(e,r))}function Bj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bj=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lj(e)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zj(e,t)}function Uj(e,t,r){return(t=Vj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vj(e){var t=function(e,t){if("object"!=Dj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dj(t)?t:t+""}function Wj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qj(e){return e.value}var Hj=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Uj(e=Rj(this,r,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}(r,e),n=r,i=[{key:"getWithHeight",value:function(e,t){var r=Ij(Ij({},this.defaultProps),e.props).layout;return"vertical"===r&&jy(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ij({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Ij(Ij({},t),r)}},{key:"render",value:function(){var e=this,r=this.props,n=r.content,a=r.width,i=r.height,o=r.wrapperStyle,s=r.payloadUniqBy,l=r.payload,c=Ij(Ij({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,r){if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return t.createElement(e,r);r.ref;var n=Wj(r,_j);return t.createElement(Tj,n)}(n,Ij(Ij({},this.props),{},{payload:ab(l,s,qj)})))}}])&&Fj(n.prototype,a),i&&Fj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kj.apply(this,arguments)}Uj(Hj,"displayName","Legend"),Uj(Hj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gj=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=de("recharts-dot",i);return r===+r&&n===+n&&a===+a?t.createElement("circle",Kj({},ax(e,!1),Vy(e),{className:o,cx:r,cy:n,r:a})):null},$j=r(5173),Yj=r.n($j),Jj=Object.getOwnPropertyNames,Xj=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty;function Zj(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function ew(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function tw(e){return Jj(e).concat(Xj(e))}var rw=Object.hasOwn||function(e,t){return Qj.call(e,t)};function nw(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var aw=Object.getOwnPropertyDescriptor,iw=Object.keys;function ow(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sw(e,t){return nw(e.getTime(),t.getTime())}function lw(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cw(e,t){return e===t}function uw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var h=a.value,f=i.value;if(r.equals(h[0],f[0],l,d,e,t,r)&&r.equals(h[1],f[1],h[0],f[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var dw=nw;function hw(e,t,r){var n=iw(e),a=n.length;if(iw(t).length!==a)return!1;for(;a-- >0;)if(!xw(e,t,r,n[a]))return!1;return!0}function fw(e,t,r){var n,a,i,o=tw(e),s=o.length;if(tw(t).length!==s)return!1;for(;s-- >0;){if(!xw(e,t,r,n=o[s]))return!1;if(a=aw(e,n),i=aw(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function pw(e,t){return nw(e.valueOf(),t.valueOf())}function mw(e,t){return e.source===t.source&&e.flags===t.flags}function gw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function vw(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function yw(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xw(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||rw(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var bw=Array.isArray,jw="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ww=Object.assign,Nw=Object.prototype.toString.call.bind(Object.prototype.toString);var Sw=kw();kw({strict:!0}),kw({circular:!0}),kw({circular:!0,strict:!0}),kw({createInternalComparator:function(){return nw}}),kw({strict:!0,createInternalComparator:function(){return nw}}),kw({circular:!0,createInternalComparator:function(){return nw}}),kw({circular:!0,createInternalComparator:function(){return nw},strict:!0});function kw(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?fw:ow,areDatesEqual:sw,areErrorsEqual:lw,areFunctionsEqual:cw,areMapsEqual:n?Zj(uw,fw):uw,areNumbersEqual:dw,areObjectsEqual:n?fw:hw,arePrimitiveWrappersEqual:pw,areRegExpsEqual:mw,areSetsEqual:n?Zj(gw,fw):gw,areTypedArraysEqual:n?fw:vw,areUrlsEqual:yw};if(r&&(a=ww({},a,r(a))),t){var i=ew(a.areArraysEqual),o=ew(a.areMapsEqual),s=ew(a.areObjectsEqual),l=ew(a.areSetsEqual);a=ww({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(bw(e))return t(e,f,p);if(null!=jw&&jw(e))return d(e,f,p);if(g===Date)return r(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return i(e,f,p);if(g===Set)return u(e,f,p);var v=Nw(e);return"[object Date]"===v?r(e,f,p):"[object RegExp]"===v?c(e,f,p):"[object Map]"===v?i(e,f,p):"[object Set]"===v?u(e,f,p):"[object Object]"===v?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===v?h(e,f,p):"[object Error]"===v?n(e,f,p):"[object Arguments]"===v?s(e,f,p):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,f,p)}}(l),u=a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:u,strict:s})}function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function Ow(e){return Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(e)}function Pw(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aw(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=Pw(n),i=a[0],o=a.slice(1);return"number"===typeof i?void Cw(r.bind(null,o),i):(r(i),void Cw(r.bind(null,o)))}"object"===Ow(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Tw(e){return Tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(e)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(t){Mw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tw(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Tw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tw(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Iw=function(e){return e},Fw=function(e,t){return Object.keys(t).reduce(function(r,n){return _w(_w({},r),{},Mw({},n,e(n,t[n])))},{})},Rw=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function Bw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||zw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lw(e){return function(e){if(Array.isArray(e))return Uw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zw(e,t){if(e){if("string"===typeof e)return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uw(e,t):void 0}}function Uw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vw=1e-4,Ww=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},qw=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},Hw=function(e,t){return function(r){var n=Ww(e,t);return qw(n,r)}},Kw=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=Bw(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],i=l[2],o=l[3]}}[n,i,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,u,d=Hw(n,i),h=Hw(a,o),f=(c=n,u=i,function(e){var t=Ww(c,u),r=[].concat(Lw(t.map(function(e,t){return e*t}).slice(1)),[0]);return qw(r,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,i=f(r);if(Math.abs(a-t)<Vw||i<Vw)return h(r);r=p(r-a/i)}return h(r)};return m.isStepper=!1,m},Gw=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kw(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<Vw&&Math.abs(i)<Vw?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return Kw(n)}return"function"===typeof n?n:null};function $w(e){return $w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(e)}function Yw(e){return function(e){if(Array.isArray(e))return tN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(t){Qw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||eN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){if(e){if("string"===typeof e)return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tN(e,t):void 0}}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rN=function(e,t,r){return e+(t-e)*r},nN=function(e){return e.from!==e.to},aN=function e(t,r,n){var a=Fw(function(e,r){if(nN(r)){var n=Zw(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return Xw(Xw({},r),{},{from:a,velocity:i})}return r},r);return n<1?Fw(function(e,t){return nN(t)?Xw(Xw({},t),{},{velocity:rN(t.velocity,a[e].velocity,n),from:rN(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const iN=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return Xw(Xw({},r),{},Qw({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return Xw(Xw({},r),{},Qw({},n,{from:e[n],velocity:0,to:t[n]}))},{}),h=-1,f=function(){return null};return f=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=aN(r,d,i),a(Xw(Xw(Xw({},e),t),Fw(function(e,t){return t.from},d))),s=n,Object.values(d).filter(nN).length&&(h=requestAnimationFrame(f))}:function(i){l||(l=i);var o=(i-l)/n,s=Fw(function(e,t){return rN.apply(void 0,Yw(t).concat([r(o)]))},u);if(a(Xw(Xw(Xw({},e),t),s)),o<1)h=requestAnimationFrame(f);else{var c=Fw(function(e,t){return rN.apply(void 0,Yw(t).concat([r(1)]))},u);a(Xw(Xw(Xw({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function oN(e){return oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oN(e)}var sN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cN(e){return function(e){if(Array.isArray(e))return uN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(t){fN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fN(e,t,r){return(t=mN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mN(n.key),n)}}function mN(e){var t=function(e,t){if("object"!==oN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oN(t)?t:String(t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gN(e,t)}function vN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=bN(e);if(t){var a=bN(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return yN(this,r)}}function yN(e,t){if(t&&("object"===oN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xN(e)}function xN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(e){return bN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bN(e)}var jN=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}(o,e);var r,n,a,i=vN(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(r=i.call(this,e,t)).props,a=n.isActive,s=n.attributeName,l=n.from,c=n.to,u=n.steps,d=n.children,h=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(xN(r)),r.changeStyle=r.changeStyle.bind(xN(r)),!a||h<=0)return r.state={style:{}},"function"===typeof d&&(r.state={style:c}),yN(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"===typeof d)return r.state={style:l},yN(r);r.state={style:s?fN({},s,l):l}}else r.state={style:{}};return r}return r=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(Sw(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?fN({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(hN(hN({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?fN({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=iN(r,n,Gw(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(cN(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(cN(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var f=Rw(h,i,s),p=hN(hN(hN({},d.style),l),{},{transition:f});return[].concat(cN(e),[p,i,u]).filter(Iw)},[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Aw());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?fN({},n,a):a,h=Rw(Object.keys(d),r,i);u.start([o,t,hN(hN({},d),{},{transition:h}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,r=e.children,n=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,lN(e,sN)),o=t.Children.count(r),s=this.state.style;if("function"===typeof r)return r(s);if(!a||0===o||n<=0)return r;var l=function(e){var r=e.props,n=r.style,a=void 0===n?{}:n,o=r.className;return(0,t.cloneElement)(e,hN(hN({},i),{},{style:hN(hN({},a),s),className:o}))};return 1===o?l(t.Children.only(r)):t.createElement("div",null,t.Children.map(r,function(e){return l(e)}))}}],n&&pN(r.prototype,n),a&&pN(r,a),Object.defineProperty(r,"prototype",{writable:!1}),o}(t.PureComponent);jN.displayName="Animate",jN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},jN.propTypes={from:Yj().oneOfType([Yj().object,Yj().string]),to:Yj().oneOfType([Yj().object,Yj().string]),attributeName:Yj().string,duration:Yj().number,begin:Yj().number,easing:Yj().oneOfType([Yj().string,Yj().func]),steps:Yj().arrayOf(Yj().shape({duration:Yj().number.isRequired,style:Yj().object.isRequired,easing:Yj().oneOfType([Yj().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yj().func]),properties:Yj().arrayOf("string"),onAnimationEnd:Yj().func})),children:Yj().oneOfType([Yj().node,Yj().func]),isActive:Yj().bool,canBegin:Yj().bool,onAnimationEnd:Yj().func,shouldReAnimate:Yj().bool,onAnimationStart:Yj().func,onAnimationReStart:Yj().func};const wN=jN;function NN(e){return NN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(e)}function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(t){EN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=NN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=NN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AN=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*h,"\n            L ").concat(e+r,",").concat(t+n-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},TN=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},DN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_N=function(e){var r=PN(PN({},DN),e),n=(0,t.useRef)(),a=kN((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(HL){}},[]);var s=r.x,l=r.y,c=r.width,u=r.height,d=r.radius,h=r.className,f=r.animationEasing,p=r.animationDuration,m=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var y=de("recharts-rectangle",h);return v?t.createElement(wN,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:v},function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return t.createElement(wN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",SN({},ax(r,!0),{className:y,d:AN(s,l,a,o,d),ref:n})))}):t.createElement("path",SN({},ax(r,!0),{className:y,d:AN(s,l,c,u,d)}))};function MN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function IN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class FN extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zN;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(RN(this,e))}has(e){return super.has(RN(this,e))}set(e,t){return super.set(BN(this,e),t)}delete(e){return super.delete(LN(this,e))}}Set;function RN(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function BN(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function LN(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function zN(e){return null!==e&&"object"===typeof e?e.valueOf():e}const UN=Symbol("implicit");function VN(){var e=new FN,t=[],r=[],n=UN;function a(a){let i=e.get(a);if(void 0===i){if(n!==UN)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new FN;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return VN(t,r).unknown(n)},MN.apply(a,arguments),a}function WN(){var e,t,r=VN().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return WN(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},MN.apply(d(),arguments)}function qN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qN(t())},e}function HN(){return qN(WN.apply(null,arguments).paddingInner(1))}function KN(e){return KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KN(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(t){YN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=KN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=KN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JN={widthCache:{},cacheCount:0},XN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QN="recharts_measurement_span";var ZN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||tb.isSsr)return{width:0,height:0};var r=function(e){var t=$N({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(JN.widthCache[n])return JN.widthCache[n];try{var a=document.getElementById(QN);a||((a=document.createElement("span")).setAttribute("id",QN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=$N($N({},XN),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return JN.widthCache[n]=s,++JN.cacheCount>2e3&&(JN.cacheCount=0,JN.widthCache={}),s}catch(l){return{width:0,height:0}}};function eS(e){return eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(e)}function tS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aS(n.key),n)}}function aS(e){var t=function(e,t){if("object"!=eS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eS(t)?t:t+""}var iS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sS=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lS=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cS={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},uS=Object.keys(cS),dS="NaN";var hS=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||sS.test(r)||(this.num=NaN,this.unit=""),uS.includes(r)&&(this.num=function(e,t){return e*cS[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=tS(null!==(r=lS.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&nS(t.prototype,r),n&&nS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function fS(e){if(e.includes(dS))return dS;for(var t=e;t.includes("*")||t.includes("/");){var r,n=tS(null!==(r=iS.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=hS.parse(null!==a&&void 0!==a?a:""),l=hS.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return dS;t=t.replace(iS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=tS(null!==(u=oS.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=hS.parse(null!==h&&void 0!==h?h:""),g=hS.parse(null!==p&&void 0!==p?p:""),v="+"===f?m.add(g):m.subtract(g);if(v.isNaN())return dS;t=t.replace(oS,v.toString())}return t}var pS=/\(([^()]*)\)/;function mS(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=tS(pS.exec(t),2)[1];t=t.replace(pS,fS(r))}return t}(t),t=fS(t)}function gS(e){var t=function(e){try{return mS(e)}catch(t){return dS}}(e.slice(5,-1));return t===dS?"":t}var vS=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yS=["dx","dy","angle","className","breakAll"];function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function bS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return wS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NS=/[ \f\n\r\t\v\u2028\u2029]+/,SS=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return yy()(t)||(a=r?t.toString().split(""):t.toString().split(NS)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:ZN(e,n).width}}),spaceWidth:r?0:ZN("\xa0",n).width}}catch(i){return null}},kS=function(e){return[{words:yy()(e)?[]:e.toString().split(NS)}]},CS=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!tb.isSsr){var s=SS({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=jy(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),r=SS({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[o,a]},m=0,g=u.length-1,v=0;m<=g&&v<=u.length-1;){var y=Math.floor((m+g)/2),x=jS(p(y-1),2),b=x[0],j=x[1],w=jS(p(y),1)[0];if(b||w||(m=y+1),b&&w&&(g=y-1),!b&&w){f=j;break}v++}return f||h}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):kS(n)}return kS(n)},OS="#808080",PS=function(e){var r=e.x,n=void 0===r?0:r,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,v=void 0===g?OS:g,y=bS(e,vS),x=(0,t.useMemo)(function(){return CS({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),b=y.dx,j=y.dy,w=y.angle,N=y.className,S=y.breakAll,k=bS(y,yS);if(!wy(n)||!wy(i))return null;var C,O=n+(jy(b)?b:0),P=i+(jy(j)?j:0);switch(m){case"start":C=gS("calc(".concat(c,")"));break;case"middle":C=gS("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=gS("calc(".concat(x.length-1," * -").concat(s,")"))}var E=[];if(d){var A=x[0].width,T=y.width;E.push("scale(".concat((jy(T)?T/A:1)/A,")"))}return w&&E.push("rotate(".concat(w,", ").concat(O,", ").concat(P,")")),E.length&&(k.transform=E.join(" ")),t.createElement("text",xS({},ax(k,!0),{x:O,y:P,className:de("recharts-text",N),textAnchor:f,fill:v.includes("url")?OS:v}),x.map(function(e,r){var n=e.words.join(S?"":" ");return t.createElement("tspan",{x:O,dy:0===r?C:s,key:"".concat(n,"-").concat(r)},n)}))};const ES=Math.sqrt(50),AS=Math.sqrt(10),TS=Math.sqrt(2);function DS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=ES?10:i>=AS?5:i>=TS?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?DS(e,t,2*r):[s,l,c]}function _S(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?DS(t,e,r):DS(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function MS(e,t,r){return DS(e=+e,t=+t,r=+r)[2]}function IS(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?MS(t,e,r):MS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function FS(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RS(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BS(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=FS,r=(t,r)=>FS(e(t),r),n=(t,r)=>e(t)-r):(t=e===FS||e===RS?e:LS,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function LS(){return 0}function zS(e){return null===e?NaN:+e}const US=BS(FS),VS=US.right,WS=(US.left,BS(zS).center,VS);function qS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function KS(){}var GS=.7,$S=1/GS,YS="\\s*([+-]?\\d+)\\s*",JS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",XS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QS=/^#([0-9a-f]{3,8})$/,ZS=new RegExp("^rgb\\(".concat(YS,",").concat(YS,",").concat(YS,"\\)$")),ek=new RegExp("^rgb\\(".concat(XS,",").concat(XS,",").concat(XS,"\\)$")),tk=new RegExp("^rgba\\(".concat(YS,",").concat(YS,",").concat(YS,",").concat(JS,"\\)$")),rk=new RegExp("^rgba\\(".concat(XS,",").concat(XS,",").concat(XS,",").concat(JS,"\\)$")),nk=new RegExp("^hsl\\(".concat(JS,",").concat(XS,",").concat(XS,"\\)$")),ak=new RegExp("^hsla\\(".concat(JS,",").concat(XS,",").concat(XS,",").concat(JS,"\\)$")),ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ok(){return this.rgb().formatHex()}function sk(){return this.rgb().formatRgb()}function lk(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QS.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?ck(t):3===r?new hk(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?uk(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?uk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ZS.exec(e))?new hk(t[1],t[2],t[3],1):(t=ek.exec(e))?new hk(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tk.exec(e))?uk(t[1],t[2],t[3],t[4]):(t=rk.exec(e))?uk(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=nk.exec(e))?yk(t[1],t[2]/100,t[3]/100,1):(t=ak.exec(e))?yk(t[1],t[2]/100,t[3]/100,t[4]):ik.hasOwnProperty(e)?ck(ik[e]):"transparent"===e?new hk(NaN,NaN,NaN,0):null}function ck(e){return new hk(e>>16&255,e>>8&255,255&e,1)}function uk(e,t,r,n){return n<=0&&(e=t=r=NaN),new hk(e,t,r,n)}function dk(e,t,r,n){return 1===arguments.length?function(e){return e instanceof KS||(e=lk(e)),e?new hk((e=e.rgb()).r,e.g,e.b,e.opacity):new hk}(e):new hk(e,t,r,null==n?1:n)}function hk(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function fk(){return"#".concat(vk(this.r)).concat(vk(this.g)).concat(vk(this.b))}function pk(){const e=mk(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(gk(this.r),", ").concat(gk(this.g),", ").concat(gk(this.b)).concat(1===e?")":", ".concat(e,")"))}function mk(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gk(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vk(e){return((e=gk(e))<16?"0":"")+e.toString(16)}function yk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bk(e,t,r,n)}function xk(e){if(e instanceof bk)return new bk(e.h,e.s,e.l,e.opacity);if(e instanceof KS||(e=lk(e)),!e)return new bk;if(e instanceof bk)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new bk(o,s,l,e.opacity)}function bk(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function jk(e){return(e=(e||0)%360)<0?e+360:e}function wk(e){return Math.max(0,Math.min(1,e||0))}function Nk(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Sk(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}qS(KS,lk,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ok,formatHex:ok,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return xk(this).formatHsl()},formatRgb:sk,toString:sk}),qS(hk,dk,HS(KS,{brighter(e){return e=null==e?$S:Math.pow($S,e),new hk(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?GS:Math.pow(GS,e),new hk(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hk(gk(this.r),gk(this.g),gk(this.b),mk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fk,formatHex:fk,formatHex8:function(){return"#".concat(vk(this.r)).concat(vk(this.g)).concat(vk(this.b)).concat(vk(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:pk,toString:pk})),qS(bk,function(e,t,r,n){return 1===arguments.length?xk(e):new bk(e,t,r,null==n?1:n)},HS(KS,{brighter(e){return e=null==e?$S:Math.pow($S,e),new bk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?GS:Math.pow(GS,e),new bk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hk(Nk(e>=240?e-240:e+120,a,n),Nk(e,a,n),Nk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new bk(jk(this.h),wk(this.s),wk(this.l),mk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mk(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(jk(this.h),", ").concat(100*wk(this.s),"%, ").concat(100*wk(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const kk=e=>()=>e;function Ck(e,t){return function(r){return e+r*t}}function Ok(e){return 1===(e=+e)?Pk:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):kk(isNaN(t)?r:t)}}function Pk(e,t){var r=t-e;return r?Ck(e,r):kk(isNaN(e)?t:e)}const Ek=function e(t){var r=Ok(t);function n(e,t){var n=r((e=dk(e)).r,(t=dk(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=Pk(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Ak(e){return function(t){var r,n,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=dk(t[r]),i[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return i=e(i),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=s(e),n+""}}}Ak(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return Sk((r-n/t)*t,o,a,i,s)}}),Ak(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return Sk((r-n/t)*t,a,i,o,s)}});function Tk(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=Lk(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function Dk(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _k(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Mk(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Lk(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Ik=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fk=new RegExp(Ik.source,"g");function Rk(e,t){var r,n,a,i=Ik.lastIndex=Fk.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=Ik.exec(e))&&(n=Fk.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:_k(r,n)})),i=Fk.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Bk(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Lk(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?kk(t):("number"===a?_k:"string"===a?(r=lk(t))?(t=r,Ek):Rk:t instanceof lk?Ek:t instanceof Date?Dk:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Tk:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Mk:_k:Bk))(e,t)}function zk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Uk(e){return+e}var Vk=[0,1];function Wk(e){return e}function qk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Hk(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=qk(a,n),i=r(o,i)):(n=qk(n,a),i=r(i,o)),function(e){return i(n(e))}}function Kk(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=qk(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=WS(e,t,1,n)-1;return i[r](a[r](t))}}function Gk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $k(){var e,t,r,n,a,i,o=Vk,s=Vk,l=Lk,c=Wk;function u(){var e=Math.min(o.length,s.length);return c!==Wk&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?Kk:Hk,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),_k)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Uk),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=zk,u()},d.clamp=function(e){return arguments.length?(c=!!e||Wk,u()):c!==Wk},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Yk(){return $k()(Wk,Wk)}var Jk,Xk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qk(e){if(!(t=Xk.exec(e)))throw new Error("invalid format: "+e);var t;return new Zk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Zk(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function eC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tC(e){return(e=eC(Math.abs(e)))?e[1]:NaN}function rC(e,t){var r=eC(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Qk.prototype=Zk.prototype,Zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const nC={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rC(100*e,t),r:rC,s:function(e,t){var r=eC(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Jk=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+eC(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aC(e){return e}var iC,oC,sC,lC=Array.prototype.map,cC=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function uC(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?aC:(t=lC.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?aC:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(lC.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Qk(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):nC[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?i:/[%p]/.test(y)?l:"",j=nC[y],w=/[defgprs%]/.test(y);function N(e){var a,i,l,h=x,N=b;if("c"===y)N=j(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===y?cC[8+Jk/3]:"")+N+(S&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var k=h.length+e.length+N.length,C=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=n(C+e,C.length?p-N.length:1/0),C=""),r){case"<":e=h+e+N+C;break;case"=":e=h+C+e+N;break;case"^":e=C.slice(0,k=C.length>>1)+h+e+N+C.slice(k);break;default:e=C+h+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=Qk(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(tC(t)/3))),a=Math.pow(10,-n),i=cC[8+n/3];return function(e){return r(a*e)+i}}}}function dC(e,t,r,n){var a,i=IS(e,t,r);switch((n=Qk(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tC(t)/3)))-tC(Math.abs(e)))}(i,o))||(n.precision=a),sC(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tC(t)-tC(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-tC(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return oC(n)}function hC(e){var t=e.domain;return e.ticks=function(e){var r=t();return _S(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return dC(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=MS(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function fC(){var e=Yk();return e.copy=function(){return Gk(e,fC())},MN.apply(e,arguments),hC(e)}function pC(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Uk),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return pC(e).unknown(t)},e=arguments.length?Array.from(e,Uk):[0,1],hC(r)}function mC(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function gC(e){return Math.log(e)}function vC(e){return Math.exp(e)}function yC(e){return-Math.log(-e)}function xC(e){return-Math.exp(-e)}function bC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jC(e){return(t,r)=>-e(-t,r)}function wC(e){const t=e(gC,vC),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?bC:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=jC(n),a=jC(a),e(yC,xC)):e(gC,vC),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),h=n(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=_S(o,s,f))}else p=_S(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=Qk(r)).precision||(r.trim=!0),r=oC(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(mC(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function NC(){const e=wC($k()).domain([1,10]);return e.copy=()=>Gk(e,NC()).base(e.base()),MN.apply(e,arguments),e}function SC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CC(e){var t=1,r=e(SC(t),kC(t));return r.constant=function(r){return arguments.length?e(SC(t=+r),kC(t)):t},hC(r)}function OC(){var e=CC($k());return e.copy=function(){return Gk(e,OC()).constant(e.constant())},MN.apply(e,arguments)}function PC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AC(e){return e<0?-e*e:e*e}function TC(e){var t=e(Wk,Wk),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Wk,Wk):.5===r?e(EC,AC):e(PC(r),PC(1/r)):r},hC(t)}function DC(){var e=TC($k());return e.copy=function(){return Gk(e,DC()).exponent(e.exponent())},MN.apply(e,arguments),e}function _C(){return DC.apply(null,arguments).exponent(.5)}function MC(e){return Math.sign(e)*e*e}function IC(){var e,t=Yk(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(MC(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,Uk)).map(MC)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return IC(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},MN.apply(a,arguments),hC(a)}function FC(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function RC(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function BC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FS;if(e===FS)return LC;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function LC(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function zC(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?LC:BC(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);zC(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(UC(e,r,t),a(e[n],i)>0&&UC(e,r,n);o<s;){for(UC(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?UC(e,r,s):(++s,UC(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function UC(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VC(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return RC(e);if(t>=1)return FC(e);var n,a=(n-1)*t,i=Math.floor(a),o=FC(zC(e,i).subarray(0,i+1));return o+(RC(e.subarray(i+1))-o)*(a-i)}}function WC(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zS;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function qC(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=WC(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[WS(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(FS),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return qC().domain(t).range(r).unknown(e)},MN.apply(i,arguments)}function HC(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[WS(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return HC().domain([t,r]).range(i).unknown(e)},MN.apply(hC(o),arguments)}function KC(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[WS(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return KC().domain(t).range(r).unknown(e)},MN.apply(a,arguments)}iC=uC({thousands:",",grouping:[3],currency:["$",""]}),oC=iC.format,sC=iC.formatPrefix;const GC=1e3,$C=6e4,YC=36e5,JC=864e5,XC=6048e5,QC=2592e6,ZC=31536e6,eO=new Date,tO=new Date;function rO(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>rO(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(eO.setTime(+t),tO.setTime(+n),e(eO),e(tO),Math.floor(r(eO,tO))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const nO=rO(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nO.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?rO(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nO:null);nO.range;const aO=rO(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*GC)},(e,t)=>(t-e)/GC,e=>e.getUTCSeconds()),iO=(aO.range,rO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GC)},(e,t)=>{e.setTime(+e+t*$C)},(e,t)=>(t-e)/$C,e=>e.getMinutes())),oO=(iO.range,rO(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$C)},(e,t)=>(t-e)/$C,e=>e.getUTCMinutes())),sO=(oO.range,rO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GC-e.getMinutes()*$C)},(e,t)=>{e.setTime(+e+t*YC)},(e,t)=>(t-e)/YC,e=>e.getHours())),lO=(sO.range,rO(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*YC)},(e,t)=>(t-e)/YC,e=>e.getUTCHours())),cO=(lO.range,rO(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$C)/JC,e=>e.getDate()-1)),uO=(cO.range,rO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/JC,e=>e.getUTCDate()-1)),dO=(uO.range,rO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/JC,e=>Math.floor(e/JC)));dO.range;function hO(e){return rO(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$C)/XC)}const fO=hO(0),pO=hO(1),mO=hO(2),gO=hO(3),vO=hO(4),yO=hO(5),xO=hO(6);fO.range,pO.range,mO.range,gO.range,vO.range,yO.range,xO.range;function bO(e){return rO(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/XC)}const jO=bO(0),wO=bO(1),NO=bO(2),SO=bO(3),kO=bO(4),CO=bO(5),OO=bO(6),PO=(jO.range,wO.range,NO.range,SO.range,kO.range,CO.range,OO.range,rO(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),EO=(PO.range,rO(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),AO=(EO.range,rO(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));AO.every=e=>isFinite(e=Math.floor(e))&&e>0?rO(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;AO.range;const TO=rO(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());TO.every=e=>isFinite(e=Math.floor(e))&&e>0?rO(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;TO.range;function DO(e,t,r,n,a,i){const o=[[aO,1,GC],[aO,5,5e3],[aO,15,15e3],[aO,30,3e4],[i,1,$C],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,YC],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,JC],[n,2,1728e5],[r,1,XC],[t,1,QC],[t,3,7776e6],[e,1,ZC]];function s(t,r,n){const a=Math.abs(r-t)/n,i=BS(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(IS(t/ZC,r/ZC,n));if(0===i)return nO.every(Math.max(IS(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}const[_O,MO]=DO(TO,EO,jO,dO,lO,oO),[IO,FO]=DO(AO,PO,fO,cO,sO,iO);function RO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function BO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function LO(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var zO,UO,VO,WO={"-":"",_:" ",0:"0"},qO=/^\s*\d+/,HO=/^%/,KO=/[\\^$*+?|[\]().{}]/g;function GO(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $O(e){return e.replace(KO,"\\$&")}function YO(e){return new RegExp("^(?:"+e.map($O).join("|")+")","i")}function JO(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function XO(e,t,r){var n=qO.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QO(e,t,r){var n=qO.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZO(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rP(e,t,r){var n=qO.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aP(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iP(e,t,r){var n=qO.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function oP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=qO.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function cP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function dP(e,t,r){var n=qO.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hP(e,t,r){var n=qO.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fP(e,t,r){var n=qO.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pP(e,t,r){var n=HO.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mP(e,t,r){var n=qO.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gP(e,t,r){var n=qO.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vP(e,t){return GO(e.getDate(),t,2)}function yP(e,t){return GO(e.getHours(),t,2)}function xP(e,t){return GO(e.getHours()%12||12,t,2)}function bP(e,t){return GO(1+cO.count(AO(e),e),t,3)}function jP(e,t){return GO(e.getMilliseconds(),t,3)}function wP(e,t){return jP(e,t)+"000"}function NP(e,t){return GO(e.getMonth()+1,t,2)}function SP(e,t){return GO(e.getMinutes(),t,2)}function kP(e,t){return GO(e.getSeconds(),t,2)}function CP(e){var t=e.getDay();return 0===t?7:t}function OP(e,t){return GO(fO.count(AO(e)-1,e),t,2)}function PP(e){var t=e.getDay();return t>=4||0===t?vO(e):vO.ceil(e)}function EP(e,t){return e=PP(e),GO(vO.count(AO(e),e)+(4===AO(e).getDay()),t,2)}function AP(e){return e.getDay()}function TP(e,t){return GO(pO.count(AO(e)-1,e),t,2)}function DP(e,t){return GO(e.getFullYear()%100,t,2)}function _P(e,t){return GO((e=PP(e)).getFullYear()%100,t,2)}function MP(e,t){return GO(e.getFullYear()%1e4,t,4)}function IP(e,t){var r=e.getDay();return GO((e=r>=4||0===r?vO(e):vO.ceil(e)).getFullYear()%1e4,t,4)}function FP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+GO(t/60|0,"0",2)+GO(t%60,"0",2)}function RP(e,t){return GO(e.getUTCDate(),t,2)}function BP(e,t){return GO(e.getUTCHours(),t,2)}function LP(e,t){return GO(e.getUTCHours()%12||12,t,2)}function zP(e,t){return GO(1+uO.count(TO(e),e),t,3)}function UP(e,t){return GO(e.getUTCMilliseconds(),t,3)}function VP(e,t){return UP(e,t)+"000"}function WP(e,t){return GO(e.getUTCMonth()+1,t,2)}function qP(e,t){return GO(e.getUTCMinutes(),t,2)}function HP(e,t){return GO(e.getUTCSeconds(),t,2)}function KP(e){var t=e.getUTCDay();return 0===t?7:t}function GP(e,t){return GO(jO.count(TO(e)-1,e),t,2)}function $P(e){var t=e.getUTCDay();return t>=4||0===t?kO(e):kO.ceil(e)}function YP(e,t){return e=$P(e),GO(kO.count(TO(e),e)+(4===TO(e).getUTCDay()),t,2)}function JP(e){return e.getUTCDay()}function XP(e,t){return GO(wO.count(TO(e)-1,e),t,2)}function QP(e,t){return GO(e.getUTCFullYear()%100,t,2)}function ZP(e,t){return GO((e=$P(e)).getUTCFullYear()%100,t,2)}function eE(e,t){return GO(e.getUTCFullYear()%1e4,t,4)}function tE(e,t){var r=e.getUTCDay();return GO((e=r>=4||0===r?kO(e):kO.ceil(e)).getUTCFullYear()%1e4,t,4)}function rE(){return"+0000"}function nE(){return"%"}function aE(e){return+e}function iE(e){return Math.floor(+e/1e3)}function oE(e){return new Date(e)}function sE(e){return e instanceof Date?+e:+new Date(+e)}function lE(e,t,r,n,a,i,o,s,l,c){var u=Yk(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function j(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?v:y:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,sE)):h().map(oE)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(mC(r,e)):u},u.copy=function(){return Gk(u,lE(e,t,r,n,a,i,o,s,l,c))},u}function cE(){return MN.apply(lE(IO,FO,AO,PO,fO,cO,sO,iO,aO,UO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uE(){return MN.apply(lE(_O,MO,TO,EO,jO,uO,lO,oO,aO,VO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dE(){var e,t,r,n,a,i=0,o=1,s=Wk,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Lk),c.rangeRound=u(zk),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function hE(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fE(){var e=hC(dE()(Wk));return e.copy=function(){return hE(e,fE())},IN.apply(e,arguments)}function pE(){var e=wC(dE()).domain([1,10]);return e.copy=function(){return hE(e,pE()).base(e.base())},IN.apply(e,arguments)}function mE(){var e=CC(dE());return e.copy=function(){return hE(e,mE()).constant(e.constant())},IN.apply(e,arguments)}function gE(){var e=TC(dE());return e.copy=function(){return hE(e,gE()).exponent(e.exponent())},IN.apply(e,arguments)}function vE(){return gE.apply(null,arguments).exponent(.5)}function yE(){var e=[],t=Wk;function r(r){if(null!=r&&!isNaN(r=+r))return t((WS(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(FS),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>VC(e,n/t))},r.copy=function(){return yE(t).domain(e)},IN.apply(r,arguments)}function xE(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=Wk,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Lk);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Lk),f.rangeRound=p(zk),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function bE(){var e=hC(xE()(Wk));return e.copy=function(){return hE(e,bE())},IN.apply(e,arguments)}function jE(){var e=wC(xE()).domain([.1,1,10]);return e.copy=function(){return hE(e,jE()).base(e.base())},IN.apply(e,arguments)}function wE(){var e=CC(xE());return e.copy=function(){return hE(e,wE()).constant(e.constant())},IN.apply(e,arguments)}function NE(){var e=TC(xE());return e.copy=function(){return hE(e,NE()).exponent(e.exponent())},IN.apply(e,arguments)}function SE(){return NE.apply(null,arguments).exponent(.5)}function kE(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){zO=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=YO(a),u=JO(a),d=YO(i),h=JO(i),f=YO(o),p=JO(o),m=YO(s),g=JO(s),v=YO(l),y=JO(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:vP,e:vP,f:wP,g:_P,G:IP,H:yP,I:xP,j:bP,L:jP,m:NP,M:SP,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:aE,s:iE,S:kP,u:CP,U:OP,V:EP,w:AP,W:TP,x:null,X:null,y:DP,Y:MP,Z:FP,"%":nE},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:RP,e:RP,f:VP,g:ZP,G:tE,H:BP,I:LP,j:zP,L:UP,m:WP,M:qP,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:aE,s:iE,S:HP,u:KP,U:GP,V:YP,w:JP,W:XP,x:null,X:null,y:QP,Y:eE,Z:rE,"%":nE},j={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return S(e,t,r,n)},d:sP,e:sP,f:fP,g:nP,G:rP,H:cP,I:cP,j:lP,L:hP,m:oP,M:uP,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:iP,Q:mP,s:gP,S:dP,u:QO,U:ZO,V:eP,w:XO,W:tP,x:function(e,t,n){return S(e,r,t,n)},X:function(e,t,r){return S(e,n,t,r)},y:nP,Y:rP,Z:aP,"%":pP};function w(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=WO[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(r){var n,a,i=LO(1900,void 0,1);if(S(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=BO(LO(i.y,0,1))).getUTCDay(),n=a>4||0===a?wO.ceil(n):wO(n),n=uO.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=RO(LO(i.y,0,1))).getDay(),n=a>4||0===a?pO.ceil(n):pO(n),n=cO.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?BO(LO(i.y,0,1)).getUTCDay():RO(LO(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,BO(i)):RO(i)}}function S(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=j[a in WO?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),UO=zO.format,zO.parse,VO=zO.utcFormat,zO.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function CE(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function OE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PE(e,t){return e[t]}function EE(e){const t=[];return t.key=e,t}var AE=r(539),TE=r.n(AE),DE=r(6745),_E=r.n(DE),ME=r(3538),IE=r.n(ME),FE=r(9853),RE=r.n(FE),BE=r(8210),LE=r.n(BE);function zE(e){return function(e){if(Array.isArray(e))return UE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return UE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VE=function(e){return e},WE={"@@functional/placeholder":!0},qE=function(e){return e===WE},HE=function(e){return function t(){return 0===arguments.length||1===arguments.length&&qE(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},KE=function e(t,r){return 1===t?r:HE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==WE}).length;return o>=t?r.apply(void 0,a):e(t-o,HE(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return qE(e)?t.shift():e});return r.apply(void 0,zE(i).concat(t))}))})},GE=function(e){return KE(e.length,e)},$E=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},YE=GE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),JE=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return VE;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},XE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QE=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};var ZE=GE(function(e,t,r){var n=+e;return n+r*(+t-n)}),eA=GE(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),tA=GE(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const rA={rangeStep:function(e,t,r){for(var n=new(LE())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(LE())(e).abs().log(10).toNumber())+1},interpolateNumber:ZE,uninterpolateNumber:eA,uninterpolateTruncation:tA};function nA(e){return function(e){if(Array.isArray(e))return oA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||iA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(HL){a=!0,i=HL}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||iA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iA(e,t){if(e){if("string"===typeof e)return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oA(e,t):void 0}}function oA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sA(e){var t=aA(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function lA(e,t,r){if(e.lte(0))return new(LE())(0);var n=rA.getDigitCount(e.toNumber()),a=new(LE())(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new(LE())(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new(LE())(Math.ceil(s))}function cA(e,t,r){var n=1,a=new(LE())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(LE())(10).pow(rA.getDigitCount(e)-1),a=new(LE())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(LE())(Math.floor(e)))}else 0===e?a=new(LE())(Math.floor((t-1)/2)):r||(a=new(LE())(Math.floor(e)));var o=Math.floor((t-1)/2);return JE(YE(function(e){return a.add(new(LE())(e-o).mul(n)).toNumber()}),$E)(0,t)}function uA(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(LE())(0),tickMin:new(LE())(0),tickMax:new(LE())(0)};var i,o=lA(new(LE())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(LE())(0):(i=new(LE())(e).add(t).div(2)).sub(new(LE())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(LE())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?uA(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new(LE())(s).mul(o)),tickMax:i.add(new(LE())(l).mul(o))})}var dA=QE(function(e){var t=aA(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=aA(sA([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(nA($E(0,a-1).map(function(){return 1/0}))):[].concat(nA($E(0,a-1).map(function(){return-1/0})),[c]);return r>n?XE(u):u}if(l===c)return cA(l,a,i);var d=uA(l,c,o,i),h=d.step,f=d.tickMin,p=d.tickMax,m=rA.rangeStep(f,p.add(new(LE())(.1).mul(h)),h);return r>n?XE(m):m}),hA=(QE(function(e){var t=aA(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=aA(sA([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return cA(l,a,i);var u=lA(new(LE())(c).sub(l).div(o-1),i,0),d=JE(YE(function(e){return new(LE())(l).add(new(LE())(e).mul(u)).toNumber()}),$E)(0,o).filter(function(e){return e>=l&&e<=c});return r>n?XE(d):d}),QE(function(e,t){var r=aA(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=aA(sA([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=lA(new(LE())(l).sub(s).div(c-1),i,0),d=[].concat(nA(rA.rangeStep(new(LE())(s),new(LE())(l).sub(new(LE())(.99).mul(u)),u)),[l]);return n>a?XE(d):d})),fA=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pA(e){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(e)}function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(this,arguments)}function gA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yA(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kA(n.key),n)}}function bA(e,t,r){return t=wA(t),function(e,t){if(t&&("object"===pA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jA()?Reflect.construct(t,r||[],wA(e).constructor):t.apply(e,r))}function jA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jA=function(){return!!e})()}function wA(e){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wA(e)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NA(e,t)}function SA(e,t,r){return(t=kA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kA(e){var t=function(e,t){if("object"!=pA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pA(t)?t:t+""}var CA=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),bA(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}(r,e),n=r,a=[{key:"render",value:function(){var e=this.props,r=e.offset,n=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=yA(e,fA),d=ax(u,!1);"x"===this.props.direction&&"number"!==l.type&&bx(!1);var h=o.map(function(e){var o=s(e,i),u=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,g,v=[];if(Array.isArray(p)){var y=gA(p,2);m=y[0],g=y[1]}else m=g=p;if("vertical"===n){var x=l.scale,b=h+r,j=b+a,w=b-a,N=x(f-m),S=x(f+g);v.push({x1:S,y1:j,x2:S,y2:w}),v.push({x1:N,y1:b,x2:S,y2:b}),v.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===n){var k=c.scale,C=u+r,O=C-a,P=C+a,E=k(f-m),A=k(f+g);v.push({x1:O,y1:A,x2:P,y2:A}),v.push({x1:C,y1:E,x2:C,y2:A}),v.push({x1:O,y1:E,x2:P,y2:E})}return t.createElement(Px,mA({className:"recharts-errorBar",key:"bar-".concat(v.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),v.map(function(e){return t.createElement("line",mA({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(Px,{className:"recharts-errorBars"},h)}}],a&&xA(n.prototype,a),i&&xA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);function OA(e){return OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(t){AA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AA(e,t,r){return t=function(e){var t=function(e,t){if("object"!=OA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=OA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}SA(CA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),SA(CA,"displayName","ErrorBar");var TA=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=ex(t,Hj);if(!i)return null;var o,s=Hj.defaultProps,l=void 0!==s?EA(EA({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?EA(EA({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:zA(t),value:i||a,payload:n}}),EA(EA(EA({},l),Hj.getWithHeight(i,n)),{},{payload:o,item:i})};function DA(e){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(e)}function _A(e){return function(e){if(Array.isArray(e))return MA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return MA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(t){RA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RA(e,t,r){return t=function(e){var t=function(e,t){if("object"!=DA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=DA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BA(e,t,r){return yy()(e)||yy()(t)?r:wy(t)?py()(e,t,r):Dy()(t)?t(e):r}function LA(e,t,r,n){var a=IE()(e,function(e){return BA(e,t)});if("number"===r){var i=a.filter(function(e){return jy(e)||parseFloat(e)});return i.length?[_E()(i),TE()(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!yy()(e)}):a).map(function(e){return wy(e)||e instanceof Date?e:""})}var zA=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?FA(FA({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},UA=function(e,t,r,n,a){var i=Zy(t.props.children,CA).filter(function(e){return function(e,t,r){return!!yy()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=BA(t,r);if(yy()(n))return e;var a=Array.isArray(n)?[_E()(n),TE()(n)]:[n,n],i=o.reduce(function(e,r){var n=BA(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},VA=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&UA(e,t,i,n)||LA(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e},[])},WA=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},qA=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(r),o},HA=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*xy(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!hy()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},KA=new WeakMap,GA=function(e,t){if("function"!==typeof t)return e;KA.has(e)||KA.set(e,new WeakMap);var r=KA.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},$A=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:WN(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:fC(),realScaleType:"linear"}:"category"===i&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:HN(),realScaleType:"point"}:"category"===i?{scale:WN(),realScaleType:"band"}:{scale:fC(),realScaleType:"linear"};if(uy()(a)){var l="scale".concat(yb()(a));return{scale:(e[l]||HN)(),realScaleType:e[l]?l:"point"}}return Dy()(a)?{scale:a}:{scale:HN(),realScaleType:"point"}},YA=1e-4,JA=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-YA,i=Math.max(n[0],n[1])+YA,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},XA={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=hy()(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}kE(e,t)}},none:kE,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}kE(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,kE(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=hy()(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},QA=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=XA[r],i=function(){var e=Ub([]),t=OE,r=kE,n=PE;function a(a){var i,o,s=Array.from(e.apply(this,arguments),EE),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=CE(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Ub(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:Ub(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?OE:"function"===typeof e?e:Ub(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?kE:e,a):r},a}().keys(n).value(function(e,t){return+BA(e,t,0)}).order(OE).offset(a);return i(e)},ZA=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=dA(l,a,o);return e.domain([_E()(c),TE()(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:hA(u,a,o)}}return null};function eT(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!yy()(a[t.dataKey])){var s=Py(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=BA(a,yy()(o)?t.dataKey:o);return yy()(l)?null:t.scale(l)}var tT=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=BA(i,t.dataKey,t.domain[o]);return yy()(s)?null:t.scale(s)-a/2+n},rT=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[_E()(t.concat([e[0]]).filter(jy)),TE()(t.concat([e[1]]).filter(jy))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},nT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iT=function(e,t,r){if(Dy()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(jy(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(nT.test(e[0])){var a=+nT.exec(e[0])[1];n[0]=t[0]-a}else Dy()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(jy(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(aT.test(e[1])){var i=+aT.exec(e[1])[1];n[1]=t[1]+i}else Dy()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},oT=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=yx()(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},sT=function(e,t,r){return e&&e.length?RE()(e,py()(r,"type.defaultProps.domain"))?t:e:t},lT=function(e,t){var r=e.type.defaultProps?FA(FA({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return FA(FA({},ax(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:zA(e),value:BA(t,n),type:s,payload:t,chartType:l,hide:c})};function cT(e){return cT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cT(e)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(t){hT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hT(e,t,r){return t=function(e){var t=function(e,t){if("object"!=cT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fT=["Webkit","Moz","O","ms"];function pT(e){return pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(e)}function mT(){return mT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mT.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(t){NT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function xT(e,t,r){return t=jT(t),function(e,t){if(t&&("object"===pT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bT()?Reflect.construct(t,r||[],jT(e).constructor):t.apply(e,r))}function bT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bT=function(){return!!e})()}function jT(e){return jT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jT(e)}function wT(e,t){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wT(e,t)}function NT(e,t,r){return(t=ST(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=function(e,t){if("object"!=pT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pT(t)?t:t+""}var kT=function(e){return e.changedTouches&&!!e.changedTouches.length},CT=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),NT(t=xT(this,r,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),NT(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),NT(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,r=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:r,startIndex:a})}),t.detachDragEndListener()}),NT(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),NT(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),NT(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),NT(t,"handleSlideDragStart",function(e){var r=kT(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:r.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wT(e,t)}(r,e),n=r,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(t,n),c=Math.max(t,n),u=r.getIndexInRange(a,l),d=r.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=BA(r[e],a,e);return Dy()(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,h=e.pageX-r;h>0?h=Math.min(h,o+s-l-a,o+s-l-n):h<0&&(h=Math.max(h,o-n,o-a));var f=this.getIndex({startX:n+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=kT(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[n]=o+m;var g=this.getIndex(p),v=g.startIndex,y=g.endIndex;this.setState(NT(NT({},n,o+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===n&&(a>i?v%h===0:y%h===0)||a<i&&y===e||"endX"===n&&(a>i?y%h===0:v%h===0)||a>i&&y===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(NT({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:o,x:r,y:n,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:r,y:n,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var a,i,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=vT(vT({},ax(this.props,!1)),{},{x:g,y:l,width:c,height:u}),y=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return t.createElement(Px,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(d,v))}},{key:"renderSlide",value:function(e,r){var n=this.props,a=n.y,i=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,r)+s,c=Math.max(Math.abs(r-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,r=e.startIndex,n=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(Px,{className:"recharts-brush-texts"},t.createElement(PS,mT({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(r)),t.createElement(PS,mT({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+i/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,r=e.data,n=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!r||!r.length||!jy(i)||!jy(o)||!jy(s)||!jy(l)||s<=0||l<=0)return null;var v=de("recharts-brush",n),y=1===t.Children.count(a),x=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,function(e){return e.toUpperCase()}),n=fT.reduce(function(e,n){return dT(dT({},e),{},hT({},n+r,t))},{});return n[e]=t,n}("userSelect","none");return t.createElement(Px,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var r=e.x,n=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(n+i/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:r,y:n,width:a,height:i,fill:o,stroke:"none"}),t.createElement("line",{x1:r+1,y1:s,x2:r+a-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:r+1,y1:s+2,x2:r+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Dy()(e)?e(n):r.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return vT({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=HN().domain(gx()(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],a&&yT(n.prototype,a),i&&yT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function OT(e){return OT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OT(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(t){AT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AT(e,t,r){return t=function(e){var t=function(e,t){if("object"!=OT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=OT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}NT(CT,"displayName","Brush"),NT(CT,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _T=Math.PI/180,MT=function(e){return 180*e/Math.PI},IT=function(e,t,r,n){return{x:e+Math.cos(-_T*n)*r,y:t+Math.sin(-_T*n)*r}},FT=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},RT=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:MT(l),angleInRadian:l}},BT=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},LT=function(e,t){var r=e.x,n=e.y,a=RT({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?ET(ET({},t),{},{radius:i,angle:BT(f,t)}):null},zT=function(e){return(0,t.isValidElement)(e)||Dy()(e)||"boolean"===typeof e?"":e.className};function UT(e){return UT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UT(e)}var VT=["offset"];function WT(e){return function(e){if(Array.isArray(e))return qT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(t){$T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $T(e,t,r){return t=function(e){var t=function(e,t){if("object"!=UT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=UT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(){return YT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YT.apply(this,arguments)}var JT=function(e,r,n){var a,i,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,v=u.clockWise,y=(f+p)/2,x=function(e,t){return xy(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===o?(a=m+b*l,i=v):"insideEnd"===o?(a=g-b*l,i=!v):"end"===o&&(a=g+b*l,i=v),i=x<=0?i:!i;var j=IT(d,h,y,a),w=IT(d,h,y,a+359*(i?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),S=yy()(e.id)?Sy("recharts-radial-line-"):e.id;return t.createElement("text",YT({},n,{dominantBaseline:"central",className:de("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(S)},r))};function XT(e){var r,n=e.offset,a=GT({offset:void 0===n?5:n},HT(e,VT)),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!i||yy()(s)&&yy()(l)&&!(0,t.isValidElement)(c)&&!Dy()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(Dy()(c)){if(r=(0,t.createElement)(c,a),(0,t.isValidElement)(r))return r}else r=function(e){var t=e.value,r=e.formatter,n=yy()(e.children)?t:e.children;return Dy()(r)?r(n):n}(a);var f=function(e){return"cx"in e&&jy(e.cx)}(i),p=ax(a,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return JT(a,r,p);var m=f?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=IT(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=IT(i,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*n,g=p>0?"end":"start",v=p>0?"start":"end";if("top"===a)return GT(GT({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return GT(GT({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var y={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return GT(GT({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return GT(GT({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?GT({x:o+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===a?GT({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?GT({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?GT({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?GT({x:o+m,y:s+d,textAnchor:v,verticalAnchor:f},b):"insideTopRight"===a?GT({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?GT({x:o+m,y:s+c-d,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===a?GT({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},b):My()(a)&&(jy(a.x)||by(a.x))&&(jy(a.y)||by(a.y))?GT({x:o+ky(a.x,l),y:s+ky(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):GT({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(PS,YT({className:de("recharts-label",d)},p,m,{breakAll:h}),r)}XT.displayName="Label";var QT=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(jy(p)&&jy(m)){if(jy(u)&&jy(d))return{x:u,y:d,width:p,height:m};if(jy(h)&&jy(f))return{x:h,y:f,width:p,height:m}}return jy(u)&&jy(d)?{x:u,y:d,width:0,height:0}:jy(t)&&jy(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};XT.parseViewBox=QT,XT.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=QT(e),o=Zy(a,XT).map(function(e,n){return(0,t.cloneElement)(e,{viewBox:r||i,key:"label-".concat(n)})});if(!n)return o;var s=function(e,r){return e?!0===e?t.createElement(XT,{key:"label-implicit",viewBox:r}):wy(e)?t.createElement(XT,{key:"label-implicit",viewBox:r,value:e}):(0,t.isValidElement)(e)?e.type===XT?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:r}):t.createElement(XT,{key:"label-implicit",content:e,viewBox:r}):Dy()(e)?t.createElement(XT,{key:"label-implicit",content:e,viewBox:r}):My()(e)?t.createElement(XT,YT({viewBox:r},e,{key:"label-implicit"})):null:null}(e.label,r||i);return[s].concat(WT(o))};var ZT=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},eD=r(1733),tD=r.n(eD),rD=r(7002),nD=r.n(rD),aD=function(e){return null};aD.displayName="Cell";var iD=r(4065),oD=r.n(iD);function sD(e){return sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sD(e)}var lD=["valueAccessor"],cD=["data","dataKey","clockWise","id","textBreakAll"];function uD(e){return function(e){if(Array.isArray(e))return dD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return dD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hD.apply(this,arguments)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(t){mD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mD(e,t,r){return t=function(e){var t=function(e,t){if("object"!=sD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vD=function(e){return Array.isArray(e.value)?oD()(e.value):e.value};function yD(e){var r=e.valueAccessor,n=void 0===r?vD:r,a=gD(e,lD),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=gD(a,cD);return i&&i.length?t.createElement(Px,{className:"recharts-label-list"},i.map(function(e,r){var a=yy()(o)?n(e,r):BA(e&&e.payload,o),i=yy()(l)?{}:{id:"".concat(l,"-").concat(r)};return t.createElement(XT,hD({},ax(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:XT.parseViewBox(yy()(s)?e:pD(pD({},e),{},{clockWise:s})),key:"label-".concat(r),index:r}))})):null}yD.displayName="LabelList",yD.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=Zy(e.children,yD).map(function(e,n){return(0,t.cloneElement)(e,{data:r,key:"labelList-".concat(n)})});return n?[function(e,r){return e?!0===e?t.createElement(yD,{key:"labelList-implicit",data:r}):t.isValidElement(e)||Dy()(e)?t.createElement(yD,{key:"labelList-implicit",data:r,content:e}):My()(e)?t.createElement(yD,hD({data:r},e,{key:"labelList-implicit"})):null:null}(e.label,r)].concat(uD(a)):a};var xD=r(2322),bD=r.n(xD),jD=r(6361),wD=r.n(jD);function ND(e){return ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ND(e)}function SD(){return SD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SD.apply(this,arguments)}function kD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(t){ED(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ED(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ND(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ND(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ND(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AD=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},TD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DD=function(e){var r=PD(PD({},TD),e),n=(0,t.useRef)(),a=kD((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(HL){}},[]);var s=r.x,l=r.y,c=r.upperWidth,u=r.lowerWidth,d=r.height,h=r.className,f=r.animationEasing,p=r.animationDuration,m=r.animationBegin,g=r.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var v=de("recharts-trapezoid",h);return g?t.createElement(wN,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(wN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",SD({},ax(r,!0),{className:v,d:AD(l,c,a,o,s),ref:n})))}):t.createElement("g",null,t.createElement("path",SD({},ax(r,!0),{className:v,d:AD(s,l,c,u,d)})))};function _D(e){return _D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_D(e)}function MD(){return MD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MD.apply(this,arguments)}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(t){RD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RD(e,t,r){return t=function(e){var t=function(e,t){if("object"!=_D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_D(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BD=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/_T,d=l?a:a+i*u,h=l?a-i*u:a;return{center:IT(t,r,c,d),circleTangency:IT(t,r,n,d),lineTangency:IT(t,r,c*Math.cos(u*_T),h),theta:u}},LD=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return xy(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=IT(t,r,a,i),c=IT(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=IT(t,r,n,i),h=IT(t,r,n,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},zD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UD=function(e){var r=FD(FD({},zD),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(o<i||u===d)return null;var f,p=de("recharts-sector",h),m=o-i,g=ky(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=xy(c-l),d=BD({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=BD({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,y=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):LD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(n>0){var j=BD({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,S=j.theta,k=BD({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),C=k.circleTangency,O=k.lineTangency,P=k.theta,E=s?Math.abs(l-c):Math.abs(l-c)-S-P;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):LD({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",MD({},ax(r,!0),{className:p,d:f,role:"img"}))},VD=["option","shapeType","propTransformer","activeClassName","isActive"];function WD(e){return WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WD(e)}function qD(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(t){GD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GD(e,t,r){return t=function(e){var t=function(e,t){if("object"!=WD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=WD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e,t){return KD(KD({},t),e)}function YD(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return t.createElement(_N,n);case"trapezoid":return t.createElement(DD,n);case"sector":return t.createElement(UD,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(xj,n);break;default:return null}}function JD(e){var r,n=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?$D:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=qD(e,VD);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,KD(KD({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if(Dy()(n))r=n(u);else if(bD()(n)&&!wD()(n)){var d=o(n,u);r=t.createElement(YD,{shapeType:a,elementProps:d})}else{var h=u;r=t.createElement(YD,{shapeType:a,elementProps:h})}return c?t.createElement(Px,{className:l},r):r}function XD(e,t){return null!=t&&"trapezoids"in e.props}function QD(e,t){return null!=t&&"sectors"in e.props}function ZD(e,t){return null!=t&&"points"in e.props}function e_(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function t_(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function r_(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function n_(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return XD(e,t)?r="trapezoids":QD(e,t)?r="sectors":ZD(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return XD(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:QD(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ZD(e,t)?t.payload:{}}(r,t),o=n.filter(function(e,n){var o=RE()(i,e),s=r.props[a].filter(function(e){var n=function(e,t){var r;return XD(e,t)?r=e_:QD(e,t)?r=t_:ZD(e,t)&&(r=r_),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l});return n.indexOf(o[o.length-1])}var a_=["x","y"];function i_(e){return i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(t){c_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=i_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d_(e,t){var r=e.x,n=e.y,a=u_(e,a_),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return l_(l_(l_(l_(l_({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function h_(e){return t.createElement(JD,o_({shapeType:"rectangle",propTransformer:d_,activeClassName:"recharts-active-bar"},e))}var f_,p_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a=jy(r)||function(e){return yy()(e)}(r);return a?e(r,n):(a||bx(!1),t)}},m_=["value","background"];function g_(e){return g_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(e)}function v_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(t){C_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_(n.key),n)}}function w_(e,t,r){return t=S_(t),function(e,t){if(t&&("object"===g_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N_()?Reflect.construct(t,r||[],S_(e).constructor):t.apply(e,r))}function N_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N_=function(){return!!e})()}function S_(e){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S_(e)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k_(e,t)}function C_(e,t,r){return(t=O_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_(e){var t=function(e,t){if("object"!=g_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g_(t)?t:t+""}var P_=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return C_(e=w_(this,r,[].concat(n)),"state",{isAnimationFinished:!1}),C_(e,"id",Sy("recharts-bar-")),C_(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),C_(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}(r,e),n=r,a=[{key:"renderRectanglesStatically",value:function(e){var r=this,n=this.props,a=n.shape,i=n.dataKey,o=n.activeIndex,s=n.activeBar,l=ax(this.props,!1);return e&&e.map(function(e,n){var c=n===o,u=c?s:a,d=b_(b_(b_({},l),e),{},{isActive:c,option:u,index:n,dataKey:i,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return t.createElement(Px,y_({className:"recharts-bar-rectangle"},Wy(r.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(h_,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,r=this.props,n=r.data,a=r.layout,i=r.isAnimationActive,o=r.animationBegin,s=r.animationDuration,l=r.animationEasing,c=r.animationId,u=this.state.prevData;return t.createElement(wN,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i=r.t,o=n.map(function(e,t){var r=u&&u[t];if(r){var n=Oy(r.x,e.x),o=Oy(r.y,e.y),s=Oy(r.width,e.width),l=Oy(r.height,e.height);return b_(b_({},e),{},{x:n(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var c=Oy(0,e.height)(i);return b_(b_({},e),{},{y:e.y+e.height-c,height:c})}var d=Oy(0,e.width)(i);return b_(b_({},e),{},{width:d})});return t.createElement(Px,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&RE()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,r=this.props,n=r.data,a=r.dataKey,i=r.activeIndex,o=ax(this.props.background,!1);return n.map(function(r,n){r.value;var s=r.background,l=v_(r,m_);if(!s)return null;var c=b_(b_(b_(b_(b_({},l),{},{fill:"#eee"},s),o),Wy(e.props,r,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(h_,y_({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},c))})}},{key:"renderErrorBar",value:function(e,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,i=n.xAxis,o=n.yAxis,s=n.layout,l=Zy(n.children,CA);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:BA(e,t)}},d={clipPath:e?"url(#clipPath-".concat(r,")"):null};return t.createElement(Px,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(r,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,r=e.hide,n=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(r||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=de("recharts-bar",a),g=i&&i.allowDataOverflow,v=o&&o.allowDataOverflow,y=g||v,x=yy()(f)?this.id:f;return t.createElement(Px,{className:m},g||v?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?s:s-c/2,y:v?l:l-u/2,width:g?c:2*c,height:v?u:2*u}))):null,t.createElement(Px,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,x),(!d||p)&&yD.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&j_(n.prototype,a),i&&j_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}function A_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M_(n.key),n)}}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(t){__(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function __(e,t,r){return(t=M_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M_(e){var t=function(e,t){if("object"!=E_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E_(t)?t:t+""}f_=P_,C_(P_,"displayName","Bar"),C_(P_,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tb.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),C_(P_,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var p=t.layout,m=r.type.defaultProps,g=void 0!==m?b_(b_({},m),r.props):r.props,v=g.dataKey,y=g.children,x=g.minPointSize,b="horizontal"===p?o:i,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=Zy(y,aD),S=d.map(function(e,t){var n,d,h,m,g,y;c?n=function(e,t){if(!t||2!==t.length||!jy(t[0])||!jy(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!jy(e[0])||e[0]<r)&&(a[0]=r),(!jy(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],j):(n=BA(e,v),Array.isArray(n)||(n=[w,n]));var b=p_(x,f_.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var S,k=[o.scale(n[0]),o.scale(n[1])],C=k[0],O=k[1];d=tT({axis:i,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(S=null!==O&&void 0!==O?O:C)&&void 0!==S?S:void 0,m=f.size;var P=C-O;if(g=Number.isNaN(P)?0:P,y={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=xy(g||b)*(Math.abs(b)-Math.abs(g));h-=E,g+=E}}else{var A=[i.scale(n[0]),i.scale(n[1])],T=A[0],D=A[1];if(d=T,h=tT({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=D-T,g=f.size,y={x:i.x,y:h,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=xy(m||b)*(Math.abs(b)-Math.abs(m))}return b_(b_(b_({},e),{},{x:d,y:h,width:m,height:g,value:c?n:n[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[lT(r,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return b_({data:S,layout:p},h)});var I_=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!ex(l,P_);return c.reduce(function(i,o){var l,c,h,f,p,m=t[o],g=m.orientation,v=m.domain,y=m.padding,x=void 0===y?{}:y,b=m.mirror,j=m.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=v[1]-v[0],S=1/0,k=m.categoricalDomain.sort(Ey);if(k.forEach(function(e,t){t>0&&(S=Math.min((e||0)-(k[t-1]||0),S))}),Number.isFinite(S)){var C=S/N,O="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=C*O/2),"no-gap"===m.padding){var P=ky(e.barCategoryGap,C*O),E=C*O/2;l=E-P-(E-P)/O*P}}}c="xAxis"===n?[r.left+(x.left||0)+(l||0),r.left+r.width-(x.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(l||0),r.top+r.height-(x.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var A=$A(m,a,d),T=A.scale,D=A.realScaleType;T.domain(v).range(c),JA(T);var _=ZA(T,D_(D_({},m),{},{realScaleType:D}));"xAxis"===n?(p="top"===g&&!b||"bottom"===g&&b,h=r.left,f=u[w]-p*m.height):"yAxis"===n&&(p="left"===g&&!b||"right"===g&&b,h=u[w]-p*m.width,f=r.top);var M=D_(D_(D_({},m),_),{},{realScaleType:D,x:h,y:f,scale:T,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return M.bandSize=oT(M,_),m.hide||"xAxis"!==n?m.hide||(u[w]+=(p?-1:1)*M.width):u[w]+=(p?-1:1)*M.height,D_(D_({},i),{},__({},o,M))},{})},F_=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},R_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&A_(t.prototype,r),n&&A_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();__(R_,"EPS",1e-4);var B_=function(e){var t=Object.keys(e).reduce(function(t,r){return D_(D_({},t),{},__({},r,R_.create(e[r])))},{});return D_(D_({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return tD()(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return nD()(e,function(e,r){return t[r].isInRange(e)})}})};function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function z_(e){return z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z_(e)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(t){$_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function q_(e,t,r){return t=K_(t),function(e,t){if(t&&("object"===z_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,H_()?Reflect.construct(t,r||[],K_(e).constructor):t.apply(e,r))}function H_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(H_=function(){return!!e})()}function K_(e){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K_(e)}function G_(e,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G_(e,t)}function $_(e,t,r){return(t=Y_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=function(e,t){if("object"!=z_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=z_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z_(t)?t:t+""}var J_=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),q_(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G_(e,t)}(r,e),n=r,a=[{key:"render",value:function(){var e=this.props,n=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=wy(n),c=wy(a);if(Ay(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=B_({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return ZT(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=V_(V_({clipPath:ZT(this.props,"hidden")?"url(#".concat(s,")"):void 0},ax(this.props,!0)),{},{cx:d,cy:h});return t.createElement(Px,{className:de("recharts-reference-dot",m)},r.renderDot(p,g),XT.renderCallByParent(this.props,{x:d-i,y:h-i,width:2*i,height:2*i}))}}],a&&W_(n.prototype,a),i&&W_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);$_(J_,"displayName","ReferenceDot"),$_(J_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),$_(J_,"renderDot",function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):Dy()(e)?e(r):t.createElement(Gj,L_({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"}))});var X_=r(4597),Q_=r.n(X_),Z_=r(8990),eM=r.n(Z_),tM=r(5797),rM=r.n(tM)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var nM=(0,t.createContext)(void 0),aM=(0,t.createContext)(void 0),iM=(0,t.createContext)(void 0),oM=(0,t.createContext)({}),sM=(0,t.createContext)(void 0),lM=(0,t.createContext)(0),cM=(0,t.createContext)(0),uM=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=rM(i);return t.createElement(nM.Provider,{value:n},t.createElement(aM.Provider,{value:a},t.createElement(oM.Provider,{value:i},t.createElement(iM.Provider,{value:u},t.createElement(sM.Provider,{value:o},t.createElement(lM.Provider,{value:c},t.createElement(cM.Provider,{value:l},s)))))))};var dM=function(e){var r=(0,t.useContext)(nM);null==r&&bx(!1);var n=r[e];return null==n&&bx(!1),n},hM=function(e){var r=(0,t.useContext)(aM);null==r&&bx(!1);var n=r[e];return null==n&&bx(!1),n},fM=function(){return(0,t.useContext)(cM)},pM=function(){return(0,t.useContext)(lM)};function mM(e){return mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mM(e)}function gM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SM(n.key),n)}}function vM(e,t,r){return t=xM(t),function(e,t){if(t&&("object"===mM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yM()?Reflect.construct(t,r||[],xM(e).constructor):t.apply(e,r))}function yM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yM=function(){return!!e})()}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xM(e)}function bM(e,t){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bM(e,t)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(t){NM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NM(e,t,r){return(t=SM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SM(e){var t=function(e,t){if("object"!=mM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mM(t)?t:t+""}function kM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OM.apply(this,arguments)}function PM(e){var r=e.x,n=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(sM),d=dM(i),h=hM(o),f=(0,t.useContext)(iM);if(!u||!f)return null;Ay(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(r){var f=l.y,p=e.y.apply(f,{position:i});if(ZT(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:i});if(ZT(l,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===o?y.reverse():y}if(n){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return ZT(l,"discard")&&Q_()(x,function(t){return!e.isInRange(t)})?null:x}return null}(B_({x:d.scale,y:h.scale}),wy(r),wy(n),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=kM(p,2),g=m[0],v=g.x,y=g.y,x=m[1],b=x.x,j=x.y,w=wM(wM({clipPath:ZT(e,"hidden")?"url(#".concat(u,")"):void 0},ax(e,!0)),{},{x1:v,y1:y,x2:b,y2:j});return t.createElement(Px,{className:de("recharts-reference-line",l)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):Dy()(e)?e(r):t.createElement("line",OM({},r,{className:"recharts-reference-line-line"}))}(s,w),XT.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return F_({x:t,y:r},{x:n,y:a})}({x1:v,y1:y,x2:b,y2:j})))}var EM=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),vM(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bM(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(PM,this.props)}}])&&gM(n.prototype,a),i&&gM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AM.apply(this,arguments)}function TM(e){return TM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TM(e)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(t){LM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zM(n.key),n)}}function IM(e,t,r){return t=RM(t),function(e,t){if(t&&("object"===TM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FM()?Reflect.construct(t,r||[],RM(e).constructor):t.apply(e,r))}function FM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(FM=function(){return!!e})()}function RM(e){return RM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RM(e)}function BM(e,t){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BM(e,t)}function LM(e,t,r){return(t=zM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zM(e){var t=function(e,t){if("object"!=TM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=TM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TM(t)?t:t+""}NM(EM,"displayName","ReferenceLine"),NM(EM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var UM=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),IM(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BM(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){var e=this.props,n=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Ay(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=wy(n),d=wy(a),h=wy(i),f=wy(o),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=B_({x:c.scale,y:u.scale}),h={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!ZT(a,"discard")||d.isInRange(h)&&d.isInRange(f)?F_(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=ZT(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(Px,{className:de("recharts-reference-area",s)},r.renderRect(p,_M(_M({clipPath:g},ax(this.props,!0)),m)),XT.renderCallByParent(this.props,m))}}])&&MM(n.prototype,a),i&&MM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);function VM(e){return function(e){if(Array.isArray(e))return WM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}LM(UM,"displayName","ReferenceArea"),LM(UM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),LM(UM,"renderRect",function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):Dy()(e)?e(r):t.createElement(_N,AM({},r,{className:"recharts-reference-area-rect"}))});var qM=function(e,t,r,n,a){var i=Zy(e,EM),o=Zy(e,J_),s=[].concat(VM(i),VM(o)),l=Zy(e,UM),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===r&&ZT(t.props,"extendDomain")&&jy(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&ZT(t.props,"extendDomain")&&jy(t.props[h])&&jy(t.props[f])){var n=t.props[h],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return jy(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},HM=r(7283),KM=new(r.n(HM)()),GM="recharts.syncMouseEvents";function $M(e){return $M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$M(e)}function YM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XM(n.key),n)}}function JM(e,t,r){return(t=XM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XM(e){var t=function(e,t){if("object"!=$M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$M(t)?t:t+""}var QM=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),JM(this,"activeIndex",0),JM(this,"coordinateList",[]),JM(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&YM(e.prototype,t),r&&YM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function ZM(){}function eI(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tI(e){this._context=e}function rI(e){this._context=e}function nI(e){this._context=e}tI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eI(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},rI.prototype={areaStart:ZM,areaEnd:ZM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class aI{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function iI(e){this._context=e}function oI(e){this._context=e}function sI(e){return new oI(e)}function lI(e){return e<0?-1:1}function cI(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(lI(i)+lI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function uI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dI(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function hI(e){this._context=e}function fI(e){this._context=new pI(e)}function pI(e){this._context=e}function mI(e){this._context=e}function gI(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function vI(e,t){this._context=e,this._t=t}function yI(e){return e[0]}function xI(e){return e[1]}function bI(e,t){var r=Ub(!0),n=null,a=sI,i=null,o=cj(s);function s(s){var l,c,u,d=(s=CE(s)).length,h=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?yI:Ub(e),t="function"===typeof t?t:void 0===t?xI:Ub(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Ub(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Ub(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:Ub(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function jI(e,t,r){var n=null,a=Ub(!0),i=null,o=sI,s=null,l=cj(c);function c(c){var u,d,h,f,p,m=(c=CE(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(n?+n(f,u,c):v[u],r?+r(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return bI().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?yI:Ub(+e),t="function"===typeof t?t:Ub(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?xI:Ub(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Ub(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ub(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ub(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Ub(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ub(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Ub(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Ub(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function wI(e){return wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wI(e)}function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NI.apply(this,arguments)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(t){CI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=wI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iI.prototype={areaStart:ZM,areaEnd:ZM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},oI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},hI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dI(this,this._t0,uI(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dI(this,uI(this,r=cI(this,e,t)),r);break;default:dI(this,this._t0,r=cI(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(fI.prototype=Object.create(hI.prototype)).point=function(e,t){hI.prototype.point.call(this,t,e)},pI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},mI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=gI(e),a=gI(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var OI={curveBasisClosed:function(e){return new rI(e)},curveBasisOpen:function(e){return new nI(e)},curveBasis:function(e){return new tI(e)},curveBumpX:function(e){return new aI(e,!0)},curveBumpY:function(e){return new aI(e,!1)},curveLinearClosed:function(e){return new iI(e)},curveLinear:sI,curveMonotoneX:function(e){return new hI(e)},curveMonotoneY:function(e){return new fI(e)},curveNatural:function(e){return new mI(e)},curveStep:function(e){return new vI(e,.5)},curveStepAfter:function(e){return new vI(e,1)},curveStepBefore:function(e){return new vI(e,0)}},PI=function(e){return e.x===+e.x&&e.y===+e.y},EI=function(e){return e.x},AI=function(e){return e.y},TI=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Dy()(e))return e;var r="curve".concat(yb()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?OI[r]||sI:OI["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter(function(e){return PI(e)}):i;if(Array.isArray(o)){var h=c?o.filter(function(e){return PI(e)}):o,f=d.map(function(e,t){return kI(kI({},e),{},{base:h[t]})});return(t="vertical"===s?jI().y(AI).x1(EI).x0(function(e){return e.base.x}):jI().x(EI).y1(AI).y0(function(e){return e.base.y})).defined(PI).curve(u),t(f)}return(t="vertical"===s&&jy(o)?jI().y(AI).x1(EI).x0(o):jy(o)?jI().x(EI).y1(AI).y0(o):bI().x(EI).y(AI)).defined(PI).curve(u),t(d)},DI=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?TI(e):a;return t.createElement("path",NI({},ax(e,!1),Vy(e),{className:de("recharts-curve",r),d:o,ref:i}))};function _I(e){return _I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_I(e)}var MI=["x","y","top","left","width","height","className"];function II(){return II=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},II.apply(this,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function RI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=_I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_I(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var LI=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},zI=function(e){var r=e.x,n=void 0===r?0:r,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(t){RI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:n,y:i,top:s,left:c,width:d,height:f},BI(e,MI));return jy(n)&&jy(i)&&jy(d)&&jy(f)&&jy(s)&&jy(c)?t.createElement("path",II({},ax(m,!0),{className:de("recharts-cross",p),d:LI(n,i,d,f,s,c)})):null};function UI(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[IT(t,r,n,a),IT(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function VI(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return UI(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=IT(s,l,c,d),f=IT(s,l,u,d);n=h.x,a=h.y,i=f.x,o=f.y}return[{x:n,y:a},{x:i,y:o}]}function WI(e){return WI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WI(e)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(t){KI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=WI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=WI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GI(e){var r,n,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(r=i.props.cursor)&&void 0!==r?r:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var g=DI;if("ScatterChart"===p)a=l,g=zI;else if("BarChart"===p)a=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,u,h),g=_N;else if("radial"===f){var v=UI(l),y=v.cx,x=v.cy,b=v.radius;a={cx:y,cy:x,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:b,outerRadius:b},g=UD}else a={points:VI(f,l,u)},g=DI;var j=HI(HI(HI(HI({stroke:"#ccc",pointerEvents:"none"},u),a),ax(m,!1)),{},{payload:c,payloadIndex:d,className:de("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,j):(0,t.createElement)(g,j)}var $I=["item"],YI=["children","className","width","height","style","compact","title","desc"];function JI(e){return JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(e)}function XI(){return XI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XI.apply(this,arguments)}function QI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||oF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZI(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function tF(e,t,r){return t=nF(t),function(e,t){if(t&&("object"===JI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rF()?Reflect.construct(t,r||[],nF(e).constructor):t.apply(e,r))}function rF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rF=function(){return!!e})()}function nF(e){return nF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nF(e)}function aF(e,t){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aF(e,t)}function iF(e){return function(e){if(Array.isArray(e))return sF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oF(e,t){if(e){if("string"===typeof e)return sF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sF(e,t):void 0}}function sF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(t){uF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=function(e,t){if("object"!=JI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=JI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JI(t)?t:t+""}var hF={xAxis:["bottom","top"],yAxis:["left","right"]},fF={width:"100%",height:"100%"},pF={x:0,y:0};function mF(e){return e}var gF=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!==r&&void 0!==r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(iF(e),iF(r)):e},[]);return i.length>0?i:e&&e.length&&jy(n)&&jy(a)?e.slice(n,a+1):[]};function vF(e){return"number"===e?[0,"auto"]:void 0}var yF=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=gF(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=Py(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(iF(a),[lT(s,c)]):a},[])},xF=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(xy(u-c)!==xy(d-u)){var f=[];if(xy(d-u)===xy(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=n[l].index;break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){i=n[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){i=r[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=yF(e,t,c,u),h=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return cF(cF(cF({},n),IT(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return cF(cF(cF({},n),IT(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return pF}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},bF=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=WA(c,a);return r.reduce(function(t,r){var f,p=void 0!==r.type.defaultProps?cF(cF({},r.type.defaultProps),r.props):r.props,m=p.type,g=p.dataKey,v=p.allowDataOverflow,y=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,j=p.includeHidden,w=p[i];if(t[w])return t;var N,S,k,C=gF(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:s,dataEndIndex:l}),O=C.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&jy(n)&&jy(a))return!0}return!1})(p.domain,v,m)&&(N=iT(p.domain,null,v),!h||"number"!==m&&"auto"===x||(k=LA(C,g,"category")));var P=vF(m);if(!N||0===N.length){var E,A=null!==(E=p.domain)&&void 0!==E?E:P;if(g){if(N=LA(C,g,m),"category"===m&&h){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);y&&T?(S=N,N=gx()(0,O)):y||(N=sT(A,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(iF(e),[t])},[]))}else if("category"===m)N=y?N.filter(function(e){return""!==e&&!yy()(e)}):sT(A,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||yy()(t)?e:[].concat(iF(e),[t])},[]);else if("number"===m){var D=function(e,t,r,n,a){var i=t.map(function(t){return UA(e,t,r,a,n)}).filter(function(e){return!yy()(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),g,a,c);D&&(N=D)}!h||"number"!==m&&"auto"===x||(k=LA(C,g,"category"))}else N=h?gx()(0,O):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===d?[0,1]:rT(o[w].stackGroups,s,l):VA(C,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),m,c,!0);if("number"===m)N=qM(u,N,w,a,b),A&&(N=iT(A,N,v));else if("category"===m&&A){var _=A;N.every(function(e){return _.indexOf(e)>=0})&&(N=_)}}return cF(cF({},t),{},uF({},w,cF(cF({},p),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:S,originalDomain:null!==(f=p.domain)&&void 0!==f?f:P,isCategorical:h,layout:c})))},{})},jF=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=Zy(c,a),h={};return d&&d.length?h=bF(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=gF(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=WA(c,a),p=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?cF(cF({},t.type.defaultProps),t.props):t.props)[i],v=vF("number");return e[g]?e:(p++,f?m=gx()(0,h):o&&o[g]&&o[g].hasStack?(m=rT(o[g].stackGroups,s,l),m=qM(u,m,g,a)):(m=iT(v,VA(d,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=qM(u,m,g,a)),cF(cF({},e),{},uF({},g,cF(cF({axisType:a},n.defaultProps),{},{hide:!0,orientation:py()(hF,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:v,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},wF=function(e){var t=e.children,r=e.defaultShowTooltip,n=ex(t,CT),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},NF=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SF=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=ex(c,CT),h=ex(c,Hj),f=Object.keys(o).reduce(function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:cF(cF({},e),{},uF({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:cF(cF({},e),{},uF({},n,py()(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),m=cF(cF({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||CT.defaultProps.height),h&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=TA({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&jy(e[h]))return FA(FA({},e),{},RA({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&jy(e[f]))return FA(FA({},e),{},RA({},f,e[f]+(d||0)))}return e}(m,0,r,t));var v=s-m.left-m.right,y=l-m.top-m.bottom;return cF(cF({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(y,0)})},kF=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},CF=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=NF(u),m=p.numericAxisName,g=p.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Yy(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),y=[];return r.forEach(function(r,p){var x=gF(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),b=void 0!==r.type.defaultProps?cF(cF({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],S=b["".concat(g,"Id")],k=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||bx(!1);var i=n[a];return cF(cF({},e),{},uF(uF({},r.axisType,i),"".concat(r.axisType,"Ticks"),HA(i)))},{}),C=k[g],O=k["".concat(g,"Ticks")],P=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?FA(FA({},e.type.defaultProps),e.props):e.props).stackId;if(wy(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[N].stackGroups),E=Yy(r.type).indexOf("Bar")>=0,A=oT(C,O),T=[],D=v&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return Yy(e.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,y=void 0!==v?FA(FA({},v),g[0].props):g[0].props,x=y.barSize,b=y[m];i[b]||(i[b]=[]);var j=yy()(x)?t:x;i[b].push({item:g[0],stackList:g.slice(1),barSize:yy()(j)?void 0:ky(j,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:kF(k,g)});if(E){var _,M,I=yy()(w)?f:w,F=null!==(_=null!==(M=oT(C,O,!0))&&void 0!==M?M:I)&&void 0!==_?_:0;T=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=ky(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,h=n/s,f=i.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=n&&(f-=(s-1)*c,c=0),f>=n&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((n-f)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},n=[].concat(_A(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:p})}),n},u)}else{var m=ky(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var g=(n-2*m-(s-1)*c)/s;g>1&&(g>>=0);var v=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,r){var n=[].concat(_A(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:h,bandSize:F!==A?F:A,sizeList:D[S],maxBarSize:I}),F!==A&&(T=T.map(function(e){return cF(cF({},e),{},{position:cF(cF({},e.position),{},{offset:e.position.offset-F/2})})}))}var R,B,L=r&&r.type&&r.type.getComposedData;L&&y.push({props:cF(cF({},L(cF(cF({},k),{},{displayedData:x,props:e,dataKey:j,item:r,bandSize:A,barPosition:T,offset:a,stackedData:P,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},uF(uF(uF({key:r.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",i)),childIndex:(R=r,B=e.children,Qy(B).indexOf(R)),item:r})}),y},f=function(e,t){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!tx({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=NF(d),v=g.numericAxisName,y=g.cateAxisName,x=Zy(c,n),b=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?FA(FA({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(wy(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Sy("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return FA(FA({},e),{},RA({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return FA(FA({},t),{},RA({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:QA(e,o.items,a)}))},{})),FA(FA({},t),{},RA({},i,s))},{})}(p,x,"".concat(v,"Id"),"".concat(y,"Id"),f,m),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return cF(cF({},e),{},uF({},r,jF(a,cF(cF({},t),{},{graphicalItems:x,stackGroups:t.axisType===v&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),w=SF(cF(cF({},j),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(j).forEach(function(e){j[e]=u(a,j[e],w,e.replace("Map",""),r)});var N=function(e){var t=Cy(e),r=HA(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yx()(r,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:oT(t,r)}}(j["".concat(y,"Map")]),S=h(a,cF(cF({},j),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:w}));return cF(cF({formattedGraphicalItems:S,graphicalItems:x,offset:w,stackGroups:b},N),j)},p=function(e){function n(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),uF(o=tF(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),uF(o,"accessibilityManager",new QM),uF(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(cF({legendBBox:e},f({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},cF(cF({},o.state),{},{legendBBox:e}))))}}),uF(o,"handleReceiveSyncEvent",function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),uF(o,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState(function(){return cF({dataStartIndex:t,dataEndIndex:r},f({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),uF(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var r=cF(cF({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;Dy()(n)&&n(r,e)}}),uF(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),r=t?cF(cF({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;Dy()(n)&&n(r,e)}),uF(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),uF(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),uF(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),uF(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;Dy()(r)&&r(t,e)}),uF(o,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&$y[t]?$y[t]:null}(e),n=py()(o.props,"".concat(r));r&&Dy()(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),uF(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var r=cF(cF({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;Dy()(n)&&n(r,e)}}),uF(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Dy()(t)&&t(o.getMouseInfo(e),e)}),uF(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Dy()(t)&&t(o.getMouseInfo(e),e)}),uF(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),uF(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),uF(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),uF(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Dy()(t)&&t(o.getMouseInfo(e),e)}),uF(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Dy()(t)&&t(o.getMouseInfo(e),e)}),uF(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&KM.emit(GM,o.props.syncId,e,o.eventEmitterSymbol)}),uF(o,"applySyncEvent",function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(cF({dataStartIndex:i,dataEndIndex:s},f({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=cF(cF({},h),{},{x:h.left,y:h.top}),v=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),x=p[u]&&p[u].value,b=yF(o.state,o.props.data,u),j=p[u]?{x:"horizontal"===r?p[u].coordinate:v,y:"horizontal"===r?y:p[u].coordinate}:pF;o.setState(cF(cF({},e),{},{activeLabel:x,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),uF(o,"renderCursor",function(e){var n,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:i,p=o.props.layout,m=e.key||"_recharts-cursor";return t.createElement(GI,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:r,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),uF(o,"renderPolarAxis",function(e,r,n){var a=py()(e,"type.axisType"),i=py()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?cF(cF({},s),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,cF(cF({},c),{},{className:de(a,c.className),key:e.key||"".concat(r,"-").concat(n),ticks:HA(c,!0)}))}),uF(o,"renderPolarGrid",function(e){var r=e.props,n=r.radialLines,a=r.polarAngles,i=r.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Cy(l),d=Cy(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:HA(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:HA(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),uF(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,r=o.props,n=r.children,a=r.width,i=r.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),u=TA({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=ZI(u,$I);return(0,t.cloneElement)(d,cF(cF({},h),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),uF(o,"renderTooltip",function(){var e,r=o.props,n=r.children,a=r.accessibilityLayer,i=ex(n,gb);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(i,{viewBox:cF(cF({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),uF(o,"renderBrush",function(e){var r=o.props,n=r.margin,a=r.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:GA(o.handleBrushChange,e.props.onChange),data:a,x:jy(e.props.x)?e.props.x:s.left,y:jy(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:jy(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),uF(o,"renderReferenceElement",function(e,r,n){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(r,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),uF(o,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?cF(cF({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=cF(cF({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:zA(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},ax(u,!1)),Vy(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(n.renderActiveDot(u,cF(cF({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),uF(o,"renderGraphicChild",function(e,r,n){var a=o.filterFormatItem(e,r,n);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=ex(o.props.children,gb),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,v=void 0!==a.item.type.defaultProps?cF(cF({},a.item.type.defaultProps),a.item.props):a.item.props,y=v.activeDot,x=v.hide,b=v.activeBar,j=v.activeShape,w=Boolean(!x&&l&&h&&(y||b||j)),N={};"axis"!==i&&h&&"click"===h.props.trigger?N={onClick:GA(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:GA(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:GA(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,t.cloneElement)(e,cF(cF({},a.props),N));if(w){if(!(u>=0)){var k,C=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:S}).graphicalItem,O=C.item,P=void 0===O?e:O,E=C.childIndex,A=cF(cF(cF({},a.props),N),{},{activeIndex:E});return[(0,t.cloneElement)(P,A),null,null]}var T,D;if(c.dataKey&&!c.allowDuplicatedCategory){var _="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=Py(p,_,d),D=m&&g&&Py(g,_,d)}else T=null===p||void 0===p?void 0:p[u],D=m&&g&&g[u];if(j||b){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,cF(cF(cF({},a.props),N),{},{activeIndex:M})),null,null]}if(!yy()(T))return[S].concat(iF(o.renderActivePoints({item:a,activePoint:T,basePoint:D,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]}),uF(o,"renderCustomized",function(e,r,n){return(0,t.cloneElement)(e,cF(cF({key:"recharts-customized-".concat(n)},o.props),o.state))}),uF(o,"renderMap",{CartesianGrid:{handler:mF,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:mF},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:mF},YAxis:{handler:mF},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Sy("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=ly()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aF(e,t)}(n,e),a=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=ex(t,gb);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=yF(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=cF(cF({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){ix([ex(e.children,gb)],[ex(this.props.children,gb)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ex(this.props.children,gb);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=xF(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=Cy(c).scale,p=Cy(u).scale,m=f&&f.invert?f.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return cF(cF({},i),{},{xValue:m,yValue:g},h)}return h?cF(cF({},i),h):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Cy(l);return LT({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=ex(e,gb),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),cF(cF({},Vy(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){KM.on(GM,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){KM.removeListener(GM,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===Yy(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,r=this.state.offset,n=r.left,a=r.top,i=r.height,o=r.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:n,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=QI(t,2),n=r[0],a=r[1];return cF(cF({},e),{},uF({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=QI(t,2),n=r[0],a=r[1];return cF(cF({},e),{},uF({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?cF(cF({},l.type.defaultProps),l.props):l.props,u=Yy(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return TN(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return LT(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(XD(o,n)||QD(o,n)||ZD(o,n)){var f=n_({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:cF(cF({},o),{},{childIndex:p}),payload:ZD(o,n)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!tx(this))return null;var r,n,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=ZI(a,YI),p=ax(f,!1);if(u)return t.createElement(uM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(Sx,XI({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),sx(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(r=this.props.tabIndex)&&void 0!==r?r:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(uM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",XI({className:de("recharts-wrapper",o),style:cF({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(Sx,XI({},p,{width:s,height:l,title:d,desc:h,style:fF}),this.renderClipPath(),sx(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&eF(a.prototype,o),l&&eF(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);uF(p,"displayName",r),uF(p,"defaultProps",cF({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),uF(p,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=wF(e);return cF(cF(cF({},h),{},{updateId:0},f(cF(cF({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Fy(c,t.prevMargin)){var p=wF(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=cF(cF({},xF(t,n,s)),{},{updateId:t.updateId+1}),v=cF(cF(cF({},p),m),g);return cF(cF(cF({},v),f(cF({props:e},v),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!ix(a,t.prevChildren)){var y,x,b,j,w=ex(a,CT),N=w&&null!==(y=null===(x=w.props)||void 0===x?void 0:x.startIndex)&&void 0!==y?y:u,S=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,k=N!==u||S!==d,C=!yy()(n)&&!k?t.updateId:t.updateId+1;return cF(cF({updateId:C},f(cF(cF({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:S}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:S})}return null}),uF(p,"renderActiveDot",function(e,r,n){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,r):Dy()(e)?e(r):t.createElement(Gj,r),t.createElement(Px,{className:"recharts-active-dot",key:n},a)});var m=(0,t.forwardRef)(function(e,r){return t.createElement(p,XI({},e,{ref:r}))});return m.displayName=p.displayName,m},OF=["points","className","baseLinePoints","connectNulls"];function PF(){return PF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PF.apply(this,arguments)}function EF(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AF(e){return function(e){if(Array.isArray(e))return TF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return TF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DF=function(e){return e&&e.x===+e.x&&e.y===+e.y},_F=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){DF(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),DF(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(AF(e),AF(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},MF=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=EF(e,OF);if(!r||!r.length)return null;var s=de("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,r){var n=_F(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(_F(t.reverse(),r).slice(1))}(r,a,i);return t.createElement("g",{className:s},t.createElement("path",PF({},ax(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?t.createElement("path",PF({},ax(o,!0),{fill:"none",d:_F(r,i)})):null,l?t.createElement("path",PF({},ax(o,!0),{fill:"none",d:_F(a,i)})):null)}var u=_F(r,i);return t.createElement("path",PF({},ax(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:s,d:u}))};function IF(e){return IF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IF(e)}function FF(){return FF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FF.apply(this,arguments)}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(t){qF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HF(n.key),n)}}function zF(e,t,r){return t=VF(t),function(e,t){if(t&&("object"===IF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UF()?Reflect.construct(t,r||[],VF(e).constructor):t.apply(e,r))}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(UF=function(){return!!e})()}function VF(e){return VF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VF(e)}function WF(e,t){return WF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WF(e,t)}function qF(e,t,r){return(t=HF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=function(e,t){if("object"!=IF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=IF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IF(t)?t:t+""}var KF=Math.PI/180,GF=1e-5,$F=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),zF(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WF(e,t)}(r,e),n=r,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=IT(r,n,a,e.coordinate),l=IT(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*KF);return r>GF?"outer"===t?"start":"end":r<-GF?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.cx,n=e.cy,a=e.radius,i=e.axisLine,o=e.axisLineType,s=BF(BF({},ax(this.props,!1)),{},{fill:"none"},ax(i,!1));if("circle"===o)return t.createElement(Gj,FF({className:"recharts-polar-angle-axis-line"},s,{cx:r,cy:n,r:a}));var l=this.props.ticks.map(function(e){return IT(r,n,a,e.coordinate)});return t.createElement(MF,FF({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,i=n.tick,o=n.tickLine,s=n.tickFormatter,l=n.stroke,c=ax(this.props,!1),u=ax(i,!1),d=BF(BF({},c),{},{fill:"none"},ax(o,!1)),h=a.map(function(n,a){var h=e.getTickLineCoord(n),f=BF(BF(BF({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:a,payload:n,x:h.x2,y:h.y2});return t.createElement(Px,FF({className:de("recharts-polar-angle-axis-tick",zT(i)),key:"tick-".concat(n.coordinate)},Wy(e.props,n,a)),o&&t.createElement("line",FF({className:"recharts-polar-angle-axis-tick-line"},d,h)),i&&r.renderTickItem(i,f,s?s(n.value,a):n.value))});return t.createElement(Px,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,r=e.ticks,n=e.radius,a=e.axisLine;return n<=0||!r||!r.length?null:t.createElement(Px,{className:de("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,r,n){return t.isValidElement(e)?t.cloneElement(e,r):Dy()(e)?e(r):t.createElement(PS,FF({},r,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],a&&LF(n.prototype,a),i&&LF(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);qF($F,"displayName","PolarAngleAxis"),qF($F,"axisType","angleAxis"),qF($F,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YF=r(2794),JF=r.n(YF),XF=r(9364),QF=r.n(XF),ZF=["cx","cy","angle","ticks","axisLine"],eR=["ticks","tick","angle","tickFormatter","stroke"];function tR(e){return tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tR(e)}function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rR.apply(this,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(t){dR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hR(n.key),n)}}function sR(e,t,r){return t=cR(t),function(e,t){if(t&&("object"===tR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lR()?Reflect.construct(t,r||[],cR(e).constructor):t.apply(e,r))}function lR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lR=function(){return!!e})()}function cR(e){return cR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cR(e)}function uR(e,t){return uR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uR(e,t)}function dR(e,t,r){return(t=hR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hR(e){var t=function(e,t){if("object"!=tR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tR(t)?t:t+""}var fR,pR=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),sR(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uR(e,t)}(r,e),n=r,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return IT(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=JF()(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:QF()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.cx,n=e.cy,a=e.angle,i=e.ticks,o=e.axisLine,s=iR(e,ZF),l=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=IT(r,n,l[0],a),u=IT(r,n,l[1],a),d=aR(aR(aR({},ax(s,!1)),{},{fill:"none"},ax(o,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return t.createElement("line",rR({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,i=n.tick,o=n.angle,s=n.tickFormatter,l=n.stroke,c=iR(n,eR),u=this.getTickTextAnchor(),d=ax(c,!1),h=ax(i,!1),f=a.map(function(n,a){var c=e.getTickValueCoord(n),f=aR(aR(aR(aR({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:a},c),{},{payload:n});return t.createElement(Px,rR({className:de("recharts-polar-radius-axis-tick",zT(i)),key:"tick-".concat(n.coordinate)},Wy(e.props,n,a)),r.renderTickItem(i,f,s?s(n.value,a):n.value))});return t.createElement(Px,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,r=e.ticks,n=e.axisLine,a=e.tick;return r&&r.length?t.createElement(Px,{className:de("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),XT.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,r,n){return t.isValidElement(e)?t.cloneElement(e,r):Dy()(e)?e(r):t.createElement(PS,rR({},r,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],a&&oR(n.prototype,a),i&&oR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function mR(e){return mR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mR(e)}function gR(){return gR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gR.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(t){SR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kR(n.key),n)}}function bR(e,t,r){return t=wR(t),function(e,t){if(t&&("object"===mR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jR()?Reflect.construct(t,r||[],wR(e).constructor):t.apply(e,r))}function jR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jR=function(){return!!e})()}function wR(e){return wR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wR(e)}function NR(e,t){return NR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NR(e,t)}function SR(e,t,r){return(t=kR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=function(e,t){if("object"!=mR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mR(t)?t:t+""}dR(pR,"displayName","PolarRadiusAxis"),dR(pR,"axisType","radiusAxis"),dR(pR,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var CR=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),SR(t=bR(this,r,[e]),"pieRef",null),SR(t,"sectorRefs",[]),SR(t,"id",Sy("recharts-pie-")),SR(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Dy()(e)&&e()}),SR(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Dy()(e)&&e()}),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NR(e,t)}(r,e),n=r,a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.label,i=n.labelLine,o=n.dataKey,s=n.valueKey,l=ax(this.props,!1),c=ax(a,!1),u=ax(i,!1),d=a&&a.offsetRadius||20,h=e.map(function(e,n){var h=(e.startAngle+e.endAngle)/2,f=IT(e.cx,e.cy,e.outerRadius+d,h),p=yR(yR(yR(yR({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:r.getTextAnchor(f.x,e.cx)},f),m=yR(yR(yR(yR({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[IT(e.cx,e.cy,e.outerRadius,h),f]}),g=o;return yy()(o)&&yy()(s)?g="value":yy()(o)&&(g=s),t.createElement(Px,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},i&&r.renderLabelLineItem(i,m,"line"),r.renderLabelItem(a,p,BA(e,g)))});return t.createElement(Px,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var r=this,n=this.props,a=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map(function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=r.isActiveIndex(s),c=o&&r.hasActiveIndex()?o:null,u=l?a:c,d=yR(yR({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return t.createElement(Px,gR({ref:function(e){e&&!r.sectorRefs.includes(e)&&r.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Wy(r.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),t.createElement(JD,gR({option:u,isActive:l,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,r=this.props,n=r.sectors,a=r.isAnimationActive,i=r.animationBegin,o=r.animationDuration,s=r.animationEasing,l=r.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return t.createElement(wN,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(r){var a=r.t,i=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var r=u&&u[t],n=t>0?py()(e,"paddingAngle",0):0;if(r){var s=Oy(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=yR(yR({},e),{},{startAngle:o+n,endAngle:o+s(a)+n});i.push(l),o=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=Oy(0,c-d)(a),f=yR(yR({},e),{},{startAngle:o+n,endAngle:o+h+n});i.push(f),o=f.endAngle}}),t.createElement(Px,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&RE()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,r=this.props,n=r.hide,a=r.sectors,i=r.className,o=r.label,s=r.cx,l=r.cy,c=r.innerRadius,u=r.outerRadius,d=r.isAnimationActive,h=this.state.isAnimationFinished;if(n||!a||!a.length||!jy(s)||!jy(l)||!jy(c)||!jy(u))return null;var f=de("recharts-pie",i);return t.createElement(Px,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(a),XT.renderCallByParent(this.props,null,!1),(!d||h)&&yD.renderCallByParent(this.props,a,!1))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,r,n){if(t.isValidElement(e))return t.cloneElement(e,r);if(Dy()(e))return e(r);var a=de("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(DI,gR({},r,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,r,n){if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if(Dy()(e)&&(a=e(r),t.isValidElement(a)))return a;var i=de("recharts-pie-label-text","boolean"===typeof e||Dy()(e)?"":e.className);return t.createElement(PS,gR({},r,{alignmentBaseline:"middle",className:i}),a)}}],a&&xR(n.prototype,a),i&&xR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);fR=CR,SR(CR,"displayName","Pie"),SR(CR,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tb.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),SR(CR,"parseDeltaAngle",function(e,t){return xy(t-e)*Math.min(Math.abs(t-e),360)}),SR(CR,"getRealPieData",function(e){var t=e.data,r=e.children,n=ax(e,!1),a=Zy(r,aD);return t&&t.length?t.map(function(e,t){return yR(yR(yR({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return yR(yR({},n),e.props)}):[]}),SR(CR,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=FT(a,i);return{cx:n+ky(e.cx,a,a/2),cy:r+ky(e.cy,i,i/2),innerRadius:ky(e.innerRadius,o,0),outerRadius:ky(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),SR(CR,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?yR(yR({},t.type.defaultProps),t.props):t.props,a=fR.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),p=fR.parseCoordinateOfPie(n,r),m=fR.parseDeltaAngle(o,s),g=Math.abs(m),v=c;yy()(c)&&yy()(d)?(Ay(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):yy()(c)&&(Ay(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=d);var y,x,b=a.filter(function(e){return 0!==BA(e,v,0)}).length,j=g-b*f-(g>=360?b:b-1)*l,w=a.reduce(function(e,t){var r=BA(t,v,0);return e+(jy(r)?r:0)},0);w>0&&(y=a.map(function(e,t){var r,n=BA(e,v,0),a=BA(e,u,t),s=(jy(n)?n:0)/w,c=(r=t?x.endAngle+xy(m)*l*(0!==n?1:0):o)+xy(m)*((0!==n?f:0)+s*j),d=(r+c)/2,g=(p.innerRadius+p.outerRadius)/2,y=[{name:a,value:n,payload:e,dataKey:v,type:h}],b=IT(p.cx,p.cy,g,d);return x=yR(yR(yR({percent:s,cornerRadius:i,name:a,tooltipPayload:y,midAngle:d,middleRadius:g,tooltipPosition:b},e),p),{},{value:BA(e,v),startAngle:r,endAngle:c,payload:e,paddingAngle:xy(m)*l})}));return yR(yR({},p),{},{sectors:y,data:a})});var OR=CF({chartName:"PieChart",GraphicalChild:CR,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$F},{axisType:"radiusAxis",AxisComp:pR}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=ky(e.cx,i,i/2),u=ky(e.cy,o,o/2),d=FT(i,o,r),h=ky(e.innerRadius,d,0),f=ky(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var i,o=t[r],d=o.domain,p=o.reversed;if(yy()(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[h,f]),p&&(i=[i[1],i[0]]);else{var m=TT(i=o.range,2);s=m[0],l=m[1]}var g=$A(o,a),v=g.realScaleType,y=g.scale;y.domain(d).range(i),JA(y);var x=ZA(y,ET(ET({},o),{},{realScaleType:v})),b=ET(ET(ET({},o),x),{},{range:i,radius:f,realScaleType:v,scale:y,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:s,endAngle:l});return ET(ET({},e),{},AT({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),PR=["type","layout","connectNulls","ref"],ER=["key"];function AR(e){return AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AR(e)}function TR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DR.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(t){VR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IR(e){return function(e){if(Array.isArray(e))return FR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return FR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WR(n.key),n)}}function BR(e,t,r){return t=zR(t),function(e,t){if(t&&("object"===AR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LR()?Reflect.construct(t,r||[],zR(e).constructor):t.apply(e,r))}function LR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(LR=function(){return!!e})()}function zR(e){return zR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zR(e)}function UR(e,t){return UR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UR(e,t)}function VR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=function(e,t){if("object"!=AR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AR(t)?t:t+""}var qR=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return VR(e=BR(this,r,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),VR(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),VR(e,"getStrokeDasharray",function(t,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(n,t);for(var o=Math.floor(t/i),s=t%i,l=n-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(IR(a.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(IR(r.repeat(a,o)),IR(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),VR(e,"id",Sy("recharts-line-")),VR(e,"pathRef",function(t){e.mainCurve=t}),VR(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),VR(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UR(e,t)}(r,e),n=r,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(HL){return 0}}},{key:"renderErrorBar",value:function(e,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,i=n.xAxis,o=n.yAxis,s=n.layout,l=Zy(n.children,CA);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:BA(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(r,")"):null};return t.createElement(Px,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,c=ax(this.props,!1),u=ax(o,!0),d=s.map(function(e,t){var n=MR(MR(MR({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return r.renderDotItem(o,n)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return t.createElement(Px,DR({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,r,n,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,TR(i,PR)),u=MR(MR(MR({},ax(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return t.createElement(DI,DR({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,r){var n=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,v=m.totalLength;return t.createElement(wN,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var s=g.length/i.length,l=i.map(function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],i=Oy(n.x,e.x),o=Oy(n.y,e.y);return MR(MR({},e),{},{x:i(a),y:o(a)})}if(h){var l=Oy(2*f,e.x),c=Oy(p/2,e.y);return MR(MR({},e),{},{x:l(a),y:c(a)})}return MR(MR({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,r)}var c,u=Oy(0,v)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,v,d)}else c=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(i,e,r,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&n&&n.length&&(!o&&s>0||!RE()(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,r=this.props,n=r.hide,a=r.dot,i=r.points,o=r.className,s=r.xAxis,l=r.yAxis,c=r.top,u=r.left,d=r.width,h=r.height,f=r.isAnimationActive,p=r.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,v=de("recharts-line",o),y=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,b=y||x,j=yy()(p)?this.id:p,w=null!==(e=ax(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,S=void 0===N?3:N,k=w.strokeWidth,C=void 0===k?2:k,O=(function(e){return e&&"object"===Gy(e)&&"clipDot"in e}(a)?a:{}).clipDot,P=void 0===O||O,E=2*S+C;return t.createElement(Px,{className:v},y||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(j)},t.createElement("rect",{x:y?u:u-d/2,y:x?c:c-h/2,width:y?d:2*d,height:x?h:2*h})),!P&&t.createElement("clipPath",{id:"clipPath-dots-".concat(j)},t.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(b,j),this.renderErrorBar(b,j),(g||a)&&this.renderDots(b,P,j),(!f||m)&&yD.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(IR(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(IR(n),IR(r));return n}},{key:"renderDotItem",value:function(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(Dy()(e))n=e(r);else{var a=r.key,i=TR(r,ER),o=de("recharts-line-dot","boolean"!==typeof e?e.className:"");n=t.createElement(Gj,DR({key:a},i,{className:o}))}return n}}],a&&RR(n.prototype,a),i&&RR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.PureComponent);function HR(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function KR(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function GR(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function $R(e){return $R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(t){XR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XR(e,t,r){return t=function(e){var t=function(e,t){if("object"!=$R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$R(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(jy(l)||tb.isSsr)return function(e,t){return HR(e,t+1)}(a,"number"===typeof l&&jy(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?ZN(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=Dy()(c)?c(e.value,n):e.value;return"width"===f?KR(ZN(a,{fontSize:t,letterSpacing:r}),p,d):ZN(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?xy(a[1].coordinate-a[0].coordinate):1,v=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:HR(n,u)};var i,o=c,h=function(){return void 0===i&&(i=r(t,o)),i},f=t.coordinate,p=0===c||GR(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(g,v,m,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=JR(JR({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),GR(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=JR(JR({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=JR(JR({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=JR(JR({},i),{},{tickCoord:i.coordinate});GR(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=JR(JR({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(g,v,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=JR(JR({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=JR(JR({},c),{},{tickCoord:c.coordinate});GR(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=JR(JR({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,v,m,a,o),h.filter(function(e){return e.isShow}))}VR(qR,"displayName","Line"),VR(qR,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tb.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),VR(qR,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=BA(e,o);return"horizontal"===u?{x:eT({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:yy()(l)?null:n.scale(l),value:l,payload:e}:{x:yy()(l)?null:r.scale(l),y:eT({axis:n,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}});return MR({points:d,layout:u},c)});var ZR=["viewBox"],eB=["viewBox"],tB=["ticks"];function rB(e){return rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rB(e)}function nB(){return nB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nB.apply(this,arguments)}function aB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(r),!0).forEach(function(t){hB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function lB(e,t,r){return t=uB(t),function(e,t){if(t&&("object"===rB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cB()?Reflect.construct(t,r||[],uB(e).constructor):t.apply(e,r))}function cB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cB=function(){return!!e})()}function uB(e){return uB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uB(e)}function dB(e,t){return dB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dB(e,t)}function hB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=function(e,t){if("object"!=rB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rB(t)?t:t+""}var pB=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=lB(this,r,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dB(e,t)}(r,e),n=r,a=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=oB(e,ZR),a=this.props,i=a.viewBox,o=oB(a,eB);return!Fy(r,i)||!Fy(n,o)||!Fy(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,v=e.tickSize||f,y=jy(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,o=(n=(a=c+ +!p*d)-g*v)-g*m,i=y;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!p*u)-g*v)-g*m,o=y;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +p*u)+g*v)+g*m,o=y;break;default:t=r=e.coordinate,o=(n=(a=c+ +p*d)+g*v)+g*m,i=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=iB(iB(iB({},ax(this.props,!1)),ax(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=iB(iB({},c),{},{x1:r,y1:n+u*i,x2:r+a,y2:n+u*i})}else{var d=+("left"===o&&!s||"right"===o&&s);c=iB(iB({},c),{},{x1:r+d*a,y1:n,x2:r+d*a,y2:n+i})}return t.createElement("line",nB({},c,{className:de("recharts-cartesian-axis-line",py()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=QR(iB(iB({},this.props),{},{ticks:e}),n,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=ax(this.props,!1),g=ax(c,!1),v=iB(iB({},m),{},{fill:"none"},ax(s,!1)),y=h.map(function(e,n){var a=i.getTickLineCoord(e),o=a.line,y=a.tick,x=iB(iB(iB(iB({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),y),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(Px,nB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Wy(i.props,e,n)),s&&t.createElement("line",nB({},v,o,{className:de("recharts-cartesian-axis-tick-line",py()(s,"className"))})),c&&r.renderTickItem(c,x,"".concat(Dy()(u)?u(e.value,n):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,r=this.props,n=r.axisLine,a=r.width,i=r.height,o=r.ticksGenerator,s=r.className;if(r.hide)return null;var l=this.props,c=l.ticks,u=oB(l,tB),d=c;return Dy()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||i<=0||!d||!d.length?null:t.createElement(Px,{className:de("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),XT.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,r,n){var a=de(r.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,iB(iB({},r),{},{className:a})):Dy()(e)?e(iB(iB({},r),{},{className:a})):t.createElement(PS,nB({},r,{className:"recharts-cartesian-axis-tick-value"}),n)}}],a&&sB(n.prototype,a),i&&sB(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);function mB(e){return mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mB(e)}function gB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wB(n.key),n)}}function vB(e,t,r){return t=xB(t),function(e,t){if(t&&("object"===mB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yB()?Reflect.construct(t,r||[],xB(e).constructor):t.apply(e,r))}function yB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yB=function(){return!!e})()}function xB(e){return xB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xB(e)}function bB(e,t){return bB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bB(e,t)}function jB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=function(e,t){if("object"!=mB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mB(t)?t:t+""}function NB(){return NB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NB.apply(this,arguments)}function SB(e){var r=e.xAxisId,n=fM(),a=pM(),i=dM(r);return null==i?null:t.createElement(pB,NB({},i,{className:de("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return HA(e,!0)}}))}hB(pB,"displayName","CartesianAxis"),hB(pB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kB=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),vB(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bB(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(SB,this.props)}}])&&gB(n.prototype,a),i&&gB(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);function CB(e){return CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CB(e)}function OB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_B(n.key),n)}}function PB(e,t,r){return t=AB(t),function(e,t){if(t&&("object"===CB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EB()?Reflect.construct(t,r||[],AB(e).constructor):t.apply(e,r))}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EB=function(){return!!e})()}function AB(e){return AB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AB(e)}function TB(e,t){return TB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TB(e,t)}function DB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=function(e,t){if("object"!=CB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CB(t)?t:t+""}function MB(){return MB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MB.apply(this,arguments)}jB(kB,"displayName","XAxis"),jB(kB,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var IB=function(e){var r=e.yAxisId,n=fM(),a=pM(),i=hM(r);return null==i?null:t.createElement(pB,MB({},i,{className:de("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return HA(e,!0)}}))},FB=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),PB(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TB(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(IB,this.props)}}])&&OB(n.prototype,a),i&&OB(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(t.Component);DB(FB,"displayName","YAxis"),DB(FB,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var RB=CF({chartName:"LineChart",GraphicalChild:qR,axisComponents:[{axisType:"xAxis",AxisComp:kB},{axisType:"yAxis",AxisComp:FB}],formatAxisMap:I_}),BB=["x1","y1","x2","y2","key"],LB=["offset"];function zB(e){return zB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zB(e)}function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(t){WB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WB(e,t,r){return t=function(e){var t=function(e,t){if("object"!=zB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(){return qB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qB.apply(this,arguments)}function HB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var KB=function(e){var r=e.fill;if(!r||"none"===r)return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GB(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(Dy()(e))n=e(r);else{var a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.key,c=HB(r,BB),u=ax(c,!1),d=(u.offset,HB(u,LB));n=t.createElement("line",qB({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function $B(e){var r=e.x,n=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=VB(VB({},e),{},{x1:r,y1:t,x2:r+n,y2:t,key:"line-".concat(a),index:a});return GB(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function YB(e){var r=e.y,n=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=VB(VB({},e),{},{x1:t,y1:r,x2:t,y2:r+n,key:"line-".concat(a),index:a});return GB(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function JB(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!r||!r.length)return null;var u=l.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function XB(e){var r=e.vertical,n=void 0===r||r,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,r){var n=!d[r+1]?o+l-e:d[r+1]-e;if(n<=0)return null;var u=r%a.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:s,width:n,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var QB=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return qA(QR(VB(VB(VB({},pB.defaultProps),r),{},{ticks:HA(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ZB=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return qA(QR(VB(VB(VB({},pB.defaultProps),r),{},{ticks:HA(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},eL={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tL(e){var r,n,a,i,o,s,l=fM(),c=pM(),u=(0,t.useContext)(oM),d=VB(VB({},e),{},{stroke:null!==(r=e.stroke)&&void 0!==r?r:eL.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:eL.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:eL.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:eL.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:eL.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:eL.verticalFill,x:jy(e.x)?e.x:u.left,y:jy(e.y)?e.y:u.top,width:jy(e.width)?e.width:u.width,height:jy(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,x=function(){var e=(0,t.useContext)(nM);return Cy(e)}(),b=function(){var e=(0,t.useContext)(aM);return eM()(e,function(e){return nD()(e.domain,Number.isFinite)})||Cy(e)}();if(!jy(p)||p<=0||!jy(m)||m<=0||!jy(h)||h!==+h||!jy(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||QB,w=d.horizontalCoordinatesGenerator||ZB,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Dy()(w)){var k=v&&v.length,C=w({yAxis:b?VB(VB({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:c,offset:u},!!k||g);Ay(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zB(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Dy()(j)){var O=y&&y.length,P=j({xAxis:x?VB(VB({},x),{},{ticks:O?y:x.ticks}):void 0,width:l,height:c,offset:u},!!O||g);Ay(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zB(P),"]")),Array.isArray(P)&&(S=P)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(KB,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement($B,qB({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),t.createElement(YB,qB({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),t.createElement(JB,qB({},d,{horizontalPoints:N})),t.createElement(XB,qB({},d,{verticalPoints:S})))}tL.displayName="CartesianGrid";var rL=CF({chartName:"BarChart",GraphicalChild:P_,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kB},{axisType:"yAxis",AxisComp:FB}],formatAxisMap:I_});const nL=Gt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),aL=Gt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),iL=["#D4AF37","#B8941F","#0D1B2A","#17A2B8","#28A745","#DC3545","#6C757D"],oL=(e,t)=>[e,t],sL=(e,t)=>[e,t],lL=(e,t)=>[e,t],cL=(e,t,r)=>[t,r,e],uL=(e,t,r)=>[t,r,e],dL=(e,t,r)=>[t,r,e];function hL(){var e,r,n,a,i,o,s,l;const{user:u,isManager:d}=se(),[h,f]=(0,t.useState)("sales"),[p,m]=(0,t.useState)(1),g=e=>e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"),[v,y]=(0,t.useState)(g(new Date)),[x,b]=(0,t.useState)({fromDate:g(new Date(Date.now()-2592e6)),toDate:g(new Date)}),{execute:j,loading:w}=tu(),{execute:N,loading:S}=ru(),{execute:k,loading:C}=nu(),{execute:O,loading:P}=au(),{execute:E,loading:A}=iu(),{execute:T,loading:D}=ou(),{execute:_,loading:M}=su(),{execute:I,loading:F}=lu(),{execute:R,loading:L}=cu(),{execute:z,loading:U}=uu(),{execute:V,loading:W}=du(),{execute:q}=Bc(),{execute:H,loading:K}=hu(),[G,$]=(0,t.useState)(null),[Y,J]=(0,t.useState)(null),[X,Q]=(0,t.useState)(null),[ee,te]=(0,t.useState)(null),[re,ae]=(0,t.useState)(null),[ie,oe]=(0,t.useState)(null),[le,ce]=(0,t.useState)(null),[ue,de]=(0,t.useState)(null),[he,fe]=(0,t.useState)([]),[pe,me]=(0,t.useState)(!1),[ge,ve]=(0,t.useState)([]),[ye,xe]=(0,t.useState)([]),[be,je]=(0,t.useState)([]),[we,Ne]=(0,t.useState)([]),[Se,ke]=(0,t.useState)([]),[Ce,Oe]=(0,t.useState)([]),[Pe,Ee]=(0,t.useState)([]),[Ae,Te]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const[e,t,r]=await Promise.all([q(),R(),H()]);xe(e.items||e),ve(t),je(r)}catch(e){console.error("Failed to load initial data:",e)}})()},[q,R,H]),(0,t.useEffect)(()=>{(async()=>{if(p)try{Te(!0);const[e,t,r]=await Promise.all([Z.getOwnershipAlerts(p),Z.getLowOwnershipProducts(.5),Z.getProductsWithOutstandingPayments()]);ke(e),Oe(t),Ee(r)}catch(e){console.error("Failed to load ownership data:",e),Cf.error("Failed to load ownership data")}finally{Te(!1)}})()},[p]);const De=()=>{const e=we.length;return{totalProducts:e,highOwnership:we.filter(e=>e.ownershipPercentage>=80).length,mediumOwnership:we.filter(e=>e.ownershipPercentage>=50&&e.ownershipPercentage<80).length,lowOwnership:we.filter(e=>e.ownershipPercentage<50).length,totalOutstanding:Pe.reduce((e,t)=>e+t.outstandingAmount,0),averageOwnership:e>0?we.reduce((e,t)=>e+t.ownershipPercentage,0)/e:0}},_e=()=>{const e=De();return[{name:"High (\u226580%)",value:e.highOwnership,color:"#28A745"},{name:"Medium (50-79%)",value:e.mediumOwnership,color:"#FFC107"},{name:"Low (<50%)",value:e.lowOwnership,color:"#DC3545"}]};(0,t.useEffect)(()=>{(async()=>{try{switch(h){case"sales":const t=await j(...oL(p,v));$(t);break;case"cash":const r=await N(...sL(p,v));J(r);break;case"cashdrawer":me(!0);try{const e=await B.getBalances(p,x.fromDate,x.toDate);fe(e)}catch(e){console.error("Failed to load cash drawer balances:",e),Cf.error("Failed to load cash drawer balances")}finally{me(!1)}break;case"inventory":const n=await k(p,x.fromDate,x.toDate);Q(n);break;case"profit":const a=await O(...cL(p,x.fromDate,x.toDate));te(a);break;case"customers":const i=await E(...uL(p,x.fromDate,x.toDate));ae(i);break;case"suppliers":const o=await T();oe(o);break;case"tax":const s=await _(...dL(p,x.fromDate,x.toDate));ce(s);break;case"transactions":const l=await I(...lL(p,v));de(l)}}catch(e){console.error("Failed to load report data:",e),Cf.error("Failed to load report data")}})()},[h,p,v,x]);const Me=async(e,t,r)=>{try{if(!e)return void Cf.error("No report data available for export");const n={reportType:r,reportName:t,reportDataJson:JSON.stringify(e)},a=await z(n);if(!a||0===a.size)return void Cf.error("Received empty file from server");const i=window.URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=i,o.download="".concat(t,".xlsx"),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o),Cf.success("Report exported to Excel successfully")}catch(n){console.error("Excel export error:",n);const e=n instanceof Error?n.message:"Failed to export to Excel";Cf.error("Failed to export to Excel: ".concat(e))}},Ie=async(e,t,r)=>{try{if(!e)return void Cf.error("No report data available for export");const n={reportType:r,reportName:t,reportDataJson:JSON.stringify(e)},a=await V(n);if(!a||0===a.size)return void Cf.error("Received empty file from server");const i=window.URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=i,o.download="".concat(t,".pdf"),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o),Cf.success("Report exported to PDF successfully")}catch(n){console.error("PDF export error:",n);const e=n instanceof Error?n.message:"Failed to export to PDF";Cf.error("Failed to export to PDF: ".concat(e))}},Fe=e=>new Date(e).toLocaleDateString(),Re=e=>{switch(("string"===typeof e?e:String(e)).toLowerCase()){case"completed":case"2":return"text-green-600";case"pending":case"1":return"text-yellow-600";case"cancelled":case"3":return"text-red-600";case"refunded":case"4":return"text-orange-600";default:return"text-gray-600"}},Be=e=>{if("string"===typeof e){const t=parseInt(e);if(!isNaN(t)){const r=be.find(e=>e.value===t);return r?r.displayName:e}return e}if("number"===typeof e){const t=be.find(t=>t.value===e);return t?t.displayName:String(e)}return String(e)};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"Business Reports"}),(0,ne.jsx)("div",{className:"flex space-x-2",children:(0,ne.jsxs)(wh,{value:p.toString(),onValueChange:e=>m(parseInt(e)),children:[(0,ne.jsx)(Sh,{className:"w-48",children:(0,ne.jsx)(Nh,{placeholder:"Select Branch"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:ye.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))})]})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Single Date"}),(0,ne.jsx)(vt,{type:"date",value:v,onChange:e=>y(e.target.value)})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"From Date"}),(0,ne.jsx)(vt,{type:"date",value:x.fromDate,onChange:e=>b(c(c({},x),{},{fromDate:e.target.value}))})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"To Date"}),(0,ne.jsx)(vt,{type:"date",value:x.toDate,onChange:e=>b(c(c({},x),{},{toDate:e.target.value}))})]}),(0,ne.jsx)("div",{className:"flex items-end",children:(0,ne.jsx)(It,{variant:"outline",onClick:()=>{const e=g(new Date),t=g(new Date(Date.now()-2592e6));y(e),b({fromDate:t,toDate:e})},children:"Reset to Last 30 Days"})})]})})}),(0,ne.jsxs)(_p,{value:h,onValueChange:f,className:"w-full",children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-4 lg:grid-cols-10",children:[(0,ne.jsx)(Ip,{value:"sales",children:"Sales"}),(0,ne.jsx)(Ip,{value:"cash",children:"Cash"}),(0,ne.jsx)(Ip,{value:"cashdrawer",children:"Cash Drawer"}),(0,ne.jsx)(Ip,{value:"inventory",children:"Inventory"}),(0,ne.jsx)(Ip,{value:"profit",children:"Profit"}),(0,ne.jsx)(Ip,{value:"customers",children:"Customers"}),(0,ne.jsx)(Ip,{value:"suppliers",children:"Suppliers"}),(0,ne.jsx)(Ip,{value:"tax",children:"Tax"}),(0,ne.jsx)(Ip,{value:"transactions",children:"Transactions"}),(0,ne.jsx)(Ip,{value:"ownership",children:"Ownership"})]}),(0,ne.jsxs)(Fp,{value:"sales",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Daily Sales Summary"}),G&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(G,"Daily_Sales_".concat(v),"daily-sales-summary"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(G,"Daily_Sales_".concat(v),"daily-sales-summary"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),w&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),G&&!w&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(G.totalSales)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Net Sales"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:pc(G.netSales)})]}),(0,ne.jsx)(Jl,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:G.transactionCount})]}),(0,ne.jsx)(Ql,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[G.categoryBreakdown.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Sales by Category"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(OR,{children:[(0,ne.jsx)(CR,{data:G.categoryBreakdown.map((e,t)=>({name:e.category,value:e.totalSales,fill:iL[t%iL.length]})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:G.categoryBreakdown.map((e,t)=>(0,ne.jsx)(aD,{fill:iL[t%iL.length]},"cell-".concat(t)))}),(0,ne.jsx)(gb,{formatter:e=>pc(e)})]})})})]}),G.paymentMethodBreakdown.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Payment Methods"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)("div",{className:"space-y-4",children:G.paymentMethodBreakdown.map((e,t)=>(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:iL[t%iL.length]}}),(0,ne.jsx)("span",{className:"font-medium",children:e.paymentMethod})]}),(0,ne.jsxs)("div",{className:"text-right",children:[(0,ne.jsx)("p",{className:"font-semibold",children:pc(e.amount)}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.transactionCount," transactions"]})]})]},e.paymentMethod))})})]})]})]})]}),(0,ne.jsxs)(Fp,{value:"cash",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Cash Reconciliation"}),Y&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(Y,"Cash_Reconciliation_".concat(v),"cash-reconciliation"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(Y,"Cash_Reconciliation_".concat(v),"cash-reconciliation"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),S&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),Y&&!S&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Cash Flow Summary"}),(0,ne.jsxs)(pt,{children:[Y.branchName," - ",Fe(Y.reportDate)]})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Opening Balance:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(Y.openingBalance)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Cash Sales:"}),(0,ne.jsx)("span",{className:"font-semibold text-green-600",children:pc(Y.cashSales)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Cash Repairs:"}),(0,ne.jsx)("span",{className:"font-semibold text-blue-600",children:pc(Y.cashRepairs)})]}),(0,ne.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,ne.jsx)("span",{className:"font-semibold",children:"Expected Closing Balance:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(Y.expectedClosingBalance)})]})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"font-semibold",children:"Actual Closing Balance:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(Y.actualClosingBalance)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"font-semibold",children:"Cash Over/Short:"}),(0,ne.jsx)("span",{className:"font-semibold ".concat(Y.cashOverShort>=0?"text-green-600":"text-red-600"),children:pc(Y.cashOverShort)})]}),0!==Y.cashOverShort&&(0,ne.jsx)("div",{className:"p-3 rounded bg-yellow-50 border border-yellow-200",children:(0,ne.jsxs)("div",{className:"flex items-center",children:[(0,ne.jsx)(hc,{className:"h-4 w-4 text-yellow-500 mr-2"}),(0,ne.jsx)("span",{className:"text-sm",children:Y.cashOverShort>0?"Cash over - investigate excess":"Cash short - investigate shortage"})]})})]})]})})]})]}),(0,ne.jsxs)(Fp,{value:"cashdrawer",className:"space-y-4 max-w-full overflow-hidden",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Cash Drawer Balances"}),he.length>0&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(he,"Cash_Drawer_Balances_".concat(x.fromDate,"_to_").concat(x.toDate),"cash-drawer-balances"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(he,"Cash_Drawer_Balances_".concat(x.fromDate,"_to_").concat(x.toDate),"cash-drawer-balances"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),pe&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),he.length>0&&!pe&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 max-w-full",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Days"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:he.length})]}),(0,ne.jsx)(of,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Settled"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(he.reduce((e,t)=>e+(t.settledAmount||0),0))})]}),(0,ne.jsx)(Rp,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Carried Forward"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:pc(he.reduce((e,t)=>e+(t.carriedForwardAmount||0),0))})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Over/Short"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:pc(he.reduce((e,t)=>e+(t.cashOverShort||0),0))})]}),(0,ne.jsx)(hc,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Cash Drawer Balance History"}),(0,ne.jsxs)(pt,{children:["Daily cash drawer balances from ",Fe(x.fromDate)," to ",Fe(x.toDate)]})]}),(0,ne.jsx)(mt,{className:"overflow-x-auto",children:(0,ne.jsx)("div",{className:"min-w-full",children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Date"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Status"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Opening"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Expected"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Actual"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Over/Short"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Settled"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Carried"}),(0,ne.jsx)(Lh,{className:"whitespace-nowrap",children:"Notes"})]})}),(0,ne.jsx)(Rh,{children:he.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium whitespace-nowrap",children:Fe(e.balanceDate)}),(0,ne.jsx)(zh,{className:"whitespace-nowrap",children:(0,ne.jsx)(or,{variant:1===e.status?"default":2===e.status?"secondary":3===e.status?"destructive":"outline",children:1===e.status?"Open":2===e.status?"Closed":3===e.status?"Pending":"Unknown"})}),(0,ne.jsx)(zh,{className:"font-semibold whitespace-nowrap",children:pc(e.openingBalance)}),(0,ne.jsx)(zh,{className:"font-semibold whitespace-nowrap",children:pc(e.expectedClosingBalance)}),(0,ne.jsx)(zh,{className:"font-semibold whitespace-nowrap",children:e.actualClosingBalance?pc(e.actualClosingBalance):"-"}),(0,ne.jsx)(zh,{className:"font-semibold whitespace-nowrap ".concat(e.cashOverShort&&0!==e.cashOverShort?"text-red-600":"text-green-600"),children:e.cashOverShort?pc(e.cashOverShort):"-"}),(0,ne.jsx)(zh,{className:"font-semibold text-orange-600 whitespace-nowrap",children:e.settledAmount?pc(e.settledAmount):"-"}),(0,ne.jsx)(zh,{className:"font-semibold text-blue-600 whitespace-nowrap",children:e.carriedForwardAmount?pc(e.carriedForwardAmount):"-"}),(0,ne.jsx)(zh,{className:"max-w-32",children:(0,ne.jsx)("div",{className:"truncate",title:e.notes||"",children:e.notes||"-"})})]},e.id))})]})})})]}),he.length>0&&(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-full",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Cash Flow Over Time"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(RB,{data:he.map(e=>({date:Fe(e.balanceDate),opening:e.openingBalance,expected:e.expectedClosingBalance,actual:e.actualClosingBalance||0})),children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),(0,ne.jsx)(FB,{}),(0,ne.jsx)(gb,{formatter:e=>pc(e)}),(0,ne.jsx)(qR,{type:"monotone",dataKey:"opening",stroke:"#3B82F6",name:"Opening Balance"}),(0,ne.jsx)(qR,{type:"monotone",dataKey:"expected",stroke:"#10B981",name:"Expected Closing"}),(0,ne.jsx)(qR,{type:"monotone",dataKey:"actual",stroke:"#EF4444",name:"Actual Closing"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Settlement vs Carry Forward"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(rL,{data:he.map(e=>({date:Fe(e.balanceDate),settled:e.settledAmount||0,carriedForward:e.carriedForwardAmount||0})),children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),(0,ne.jsx)(FB,{}),(0,ne.jsx)(gb,{formatter:e=>pc(e)}),(0,ne.jsx)(P_,{dataKey:"settled",fill:"#F59E0B",name:"Settled Amount"}),(0,ne.jsx)(P_,{dataKey:"carriedForward",fill:"#3B82F6",name:"Carried Forward"})]})})})]})]})]}),0===he.length&&!pe&&(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,ne.jsx)(aL,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,ne.jsx)("p",{children:"No cash drawer balance data found for the selected period"}),(0,ne.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting the date range or check if cash drawer operations were performed"})]})})})]}),(0,ne.jsxs)(Fp,{value:"customers",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Customer Analysis"}),re&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(re,"Customer_Analysis_".concat(x.fromDate,"_to_").concat(x.toDate),"customer-analysis"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(re,"Customer_Analysis_".concat(x.fromDate,"_to_").concat(x.toDate),"customer-analysis"),disabled:W,variant:"outline",size:"sm",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"PDF"]})]})]}),A&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),re&&!A&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Customer Sales"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(re.totalCustomerSales)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Unique Customers"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:re.totalUniqueCustomers})]}),(0,ne.jsx)(tc,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Average per Customer"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:pc(re.totalCustomerSales/Math.max(re.totalUniqueCustomers,1))})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Top Customers"})}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Customer Name"}),(0,ne.jsx)(Lh,{children:"Total Purchases"}),(0,ne.jsx)(Lh,{children:"Transactions"}),(0,ne.jsx)(Lh,{children:"Avg. Transaction"}),(0,ne.jsx)(Lh,{children:"Last Purchase"})]})}),(0,ne.jsx)(Rh,{children:re.topCustomers.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.customerName}),(0,ne.jsx)(zh,{children:pc(e.totalPurchases)}),(0,ne.jsx)(zh,{children:e.transactionCount}),(0,ne.jsx)(zh,{children:pc(e.averageTransactionValue)}),(0,ne.jsx)(zh,{children:Fe(e.lastPurchaseDate)})]},e.customerId))})]})})]})]})]}),(0,ne.jsxs)(Fp,{value:"transactions",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Transaction Log"}),ue&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(ue,"Transaction_Log_".concat(v),"transaction-log"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(ue,"Transaction_Log_".concat(v),"transaction-log"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),F&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),ue&&!F&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{children:[ue.branchName," - ",Fe(ue.reportDate)]}),(0,ne.jsx)(pt,{children:"All transactions for the selected date"})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Transaction #"}),(0,ne.jsx)(Lh,{children:"Date & Time"}),(0,ne.jsx)(Lh,{children:"Type"}),(0,ne.jsx)(Lh,{children:"Customer"}),(0,ne.jsx)(Lh,{children:"Cashier"}),(0,ne.jsx)(Lh,{children:"Amount"}),(0,ne.jsx)(Lh,{children:"Status"})]})}),(0,ne.jsx)(Rh,{children:ue.transactions.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:e.transactionNumber}),(0,ne.jsx)(zh,{children:new Date(e.transactionDate).toLocaleString()}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",children:Be(e.transactionType)})}),(0,ne.jsx)(zh,{children:e.customerName||"Walk-in"}),(0,ne.jsx)(zh,{children:e.cashierName}),(0,ne.jsx)(zh,{children:pc(e.totalAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("span",{className:Re(e.status),children:"string"===typeof e.status?e.status:1===e.status?"Pending":2===e.status?"Completed":3===e.status?"Cancelled":4===e.status?"Refunded":5===e.status?"Voided":String(e.status)})})]},e.transactionNumber))})]}),0===ue.transactions.length&&(0,ne.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions found for the selected date"})]})]})]}),(0,ne.jsxs)(Fp,{value:"inventory",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Inventory Movement Report"}),X&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(X,"Inventory_Movement_".concat(x.fromDate,"_to_").concat(x.toDate),"inventory-movement"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(X,"Inventory_Movement_".concat(x.fromDate,"_to_").concat(x.toDate),"inventory-movement"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),C&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),X&&!C&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{children:[X.branchName," - Inventory Movement"]}),(0,ne.jsxs)(pt,{children:["From ",new Date(X.fromDate).toLocaleDateString()," to ",new Date(X.toDate).toLocaleDateString()]})]})}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:(null===(e=X.movements)||void 0===e?void 0:e.length)||0})]}),(0,ne.jsx)(ec,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Weight"}),(0,ne.jsxs)("p",{className:"text-3xl font-bold",children:[((null===(r=X.movements)||void 0===r?void 0:r.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.closingWeight)||0),0))||0).toFixed(2),"g"]})]}),(0,ne.jsx)(ec,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-red-600",children:(null===(n=X.movements)||void 0===n?void 0:n.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.sales)||0),0))||0})]}),(0,ne.jsx)(Bv,{className:"h-8 w-8 text-red-500"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Product Movement Summary"})}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Category"}),(0,ne.jsx)(Lh,{children:"Opening"}),(0,ne.jsx)(Lh,{children:"Purchases"}),(0,ne.jsx)(Lh,{children:"Sales"}),(0,ne.jsx)(Lh,{children:"Adjustments"}),(0,ne.jsx)(Lh,{children:"Transfers"}),(0,ne.jsx)(Lh,{children:"Closing"})]})}),(0,ne.jsx)(Rh,{children:null===(a=X.movements)||void 0===a?void 0:a.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{children:(null===e||void 0===e?void 0:e.productName)||"Unknown Product"}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",(null===e||void 0===e?void 0:e.productId)||"N/A"]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"secondary",children:1===(null===e||void 0===e?void 0:e.category)?"Jewelry":2===(null===e||void 0===e?void 0:e.category)?"Bullion":3===(null===e||void 0===e?void 0:e.category)?"Coins":"Category ".concat((null===e||void 0===e?void 0:e.category)||"Unknown")})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{children:["Qty: ",(null===e||void 0===e?void 0:e.openingQuantity)||0]}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Weight: ",((null===e||void 0===e?void 0:e.openingWeight)||0).toFixed(2),"g"]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:((null===e||void 0===e?void 0:e.purchases)||0)>0?"text-green-600":"text-muted-foreground",children:(null===e||void 0===e?void 0:e.purchases)||0})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:((null===e||void 0===e?void 0:e.sales)||0)>0?"text-red-600":"text-muted-foreground",children:(null===e||void 0===e?void 0:e.sales)||0})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:0!==((null===e||void 0===e?void 0:e.adjustments)||0)?((null===e||void 0===e?void 0:e.adjustments)||0)>0?"text-green-600":"text-red-600":"text-muted-foreground",children:[((null===e||void 0===e?void 0:e.adjustments)||0)>0?"+":"",(null===e||void 0===e?void 0:e.adjustments)||0]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:0!==((null===e||void 0===e?void 0:e.transfers)||0)?((null===e||void 0===e?void 0:e.transfers)||0)>0?"text-green-600":"text-red-600":"text-muted-foreground",children:[((null===e||void 0===e?void 0:e.transfers)||0)>0?"+":"",(null===e||void 0===e?void 0:e.transfers)||0]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{className:"font-semibold",children:["Qty: ",(null===e||void 0===e?void 0:e.closingQuantity)||0]}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Weight: ",((null===e||void 0===e?void 0:e.closingWeight)||0).toFixed(2),"g"]})]})})]},(null===e||void 0===e?void 0:e.productId)||Math.random()))})]}),(!X.movements||0===X.movements.length)&&(0,ne.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No inventory movements found for the selected period"})]})]})]})]}),(0,ne.jsxs)(Fp,{value:"profit",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Profit Analysis"}),ee&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(ee,"Profit_Analysis_".concat(x.fromDate,"_to_").concat(x.toDate),"profit-analysis"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(ee,"Profit_Analysis_".concat(x.fromDate,"_to_").concat(x.toDate),"profit-analysis"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),P&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),ee&&!P&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(ee.totalRevenue)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Cost of Goods Sold"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-red-600",children:pc(ee.totalCostOfGoodsSold)})]}),(0,ne.jsx)(Bv,{className:"h-8 w-8 text-red-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Gross Profit"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:pc(ee.grossProfit)})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Profit Margin"}),(0,ne.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[ee.grossProfitMargin.toFixed(2),"%"]})]}),(0,ne.jsx)(Jl,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{children:[ee.branchName||"All Branches"," - Profit Analysis"]}),(0,ne.jsxs)(pt,{children:["From ",Fe(ee.fromDate)," to ",Fe(ee.toDate)]})]})}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Product Profit Analysis"})}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Category"}),(0,ne.jsx)(Lh,{children:"Revenue"}),(0,ne.jsx)(Lh,{children:"Cost of Goods Sold"}),(0,ne.jsx)(Lh,{children:"Gross Profit"}),(0,ne.jsx)(Lh,{children:"Profit Margin"}),(0,ne.jsx)(Lh,{children:"Quantity Sold"})]})}),(0,ne.jsx)(Rh,{children:ee.productAnalysis.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{children:e.productName}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.productId]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"secondary",children:e.category})}),(0,ne.jsx)(zh,{className:"text-green-600 font-semibold",children:pc(e.revenue)}),(0,ne.jsx)(zh,{className:"text-red-600 font-semibold",children:pc(e.costOfGoodsSold)}),(0,ne.jsx)(zh,{className:"font-semibold ".concat(e.grossProfit>=0?"text-blue-600":"text-red-600"),children:pc(e.grossProfit)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{variant:e.grossProfitMargin>=0?"default":"destructive",children:[e.grossProfitMargin.toFixed(2),"%"]})}),(0,ne.jsx)(zh,{className:"font-semibold",children:e.quantitySold})]},e.productId))})]}),0===ee.productAnalysis.length&&(0,ne.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No product profit data found for the selected period"})]})]}),ee.productAnalysis.length>0&&(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Profit by Category"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(rL,{data:ee.productAnalysis.reduce((e,t)=>{const r=e.find(e=>e.category===t.category);return r?(r.profit+=t.grossProfit,r.revenue+=t.revenue):e.push({category:t.category,profit:t.grossProfit,revenue:t.revenue}),e},[]),children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"category"}),(0,ne.jsx)(FB,{}),(0,ne.jsx)(gb,{formatter:e=>pc(e)}),(0,ne.jsx)(P_,{dataKey:"profit",fill:"#3B82F6",name:"Gross Profit"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Revenue vs Profit Margin"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(RB,{data:ee.productAnalysis.map(e=>({name:e.productName,revenue:e.revenue,margin:e.grossProfitMargin})),children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),(0,ne.jsx)(FB,{yAxisId:"left"}),(0,ne.jsx)(FB,{yAxisId:"right",orientation:"right"}),(0,ne.jsx)(gb,{formatter:(e,t)=>["revenue"===t?pc(e):"".concat(e.toFixed(2),"%"),"revenue"===t?"Revenue":"Profit Margin %"]}),(0,ne.jsx)(qR,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#10B981",name:"Revenue"}),(0,ne.jsx)(qR,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#8B5CF6",name:"Profit Margin %"})]})})})]})]})]})]}),(0,ne.jsxs)(Fp,{value:"suppliers",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Supplier Balance Report"}),ie&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(ie,"Supplier_Balance_".concat(g(new Date)),"supplier-balance"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(ie,"Supplier_Balance_".concat(g(new Date)),"supplier-balance"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),D&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),ie&&!D&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Suppliers"}),(0,ne.jsx)("p",{className:"text-3xl font-bold",children:(null===(i=ie.supplierBalances)||void 0===i?void 0:i.length)||0})]}),(0,ne.jsx)(tc,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Outstanding"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-red-600",children:pc((null===(o=ie.supplierBalances)||void 0===o?void 0:o.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.currentBalance)||0),0))||0)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-red-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Purchases"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(ie.totalPayables||0)})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-green-500"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Supplier Balance Details"}),(0,ne.jsx)(pt,{children:"Current outstanding balances and purchase history for all suppliers"})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Supplier Name"}),(0,ne.jsx)(Lh,{children:"Contact"}),(0,ne.jsx)(Lh,{children:"Total Purchases"}),(0,ne.jsx)(Lh,{children:"Total Payments"}),(0,ne.jsx)(Lh,{children:"Outstanding Balance"}),(0,ne.jsx)(Lh,{children:"Last Purchase"}),(0,ne.jsx)(Lh,{children:"Status"})]})}),(0,ne.jsx)(Rh,{children:null===(s=ie.supplierBalances)||void 0===s?void 0:s.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{children:(null===e||void 0===e?void 0:e.supplierName)||"Unknown Supplier"}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",(null===e||void 0===e?void 0:e.supplierId)||"N/A"]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{children:(null===e||void 0===e?void 0:e.contactPerson)||"N/A"}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:(null===e||void 0===e?void 0:e.phoneNumber)||"N/A"})]})}),(0,ne.jsx)(zh,{className:"text-green-600 font-semibold",children:pc((null===e||void 0===e?void 0:e.totalPurchases)||0)}),(0,ne.jsx)(zh,{className:"text-blue-600 font-semibold",children:pc((null===e||void 0===e?void 0:e.totalPayments)||0)}),(0,ne.jsx)(zh,{className:"font-semibold ".concat(((null===e||void 0===e?void 0:e.outstandingBalance)||0)>0?"text-red-600":"text-green-600"),children:pc((null===e||void 0===e?void 0:e.outstandingBalance)||0)}),(0,ne.jsx)(zh,{children:null!==e&&void 0!==e&&e.lastPurchaseDate?Fe(e.lastPurchaseDate):"N/A"}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:((null===e||void 0===e?void 0:e.outstandingBalance)||0)>0?"destructive":"default",children:((null===e||void 0===e?void 0:e.outstandingBalance)||0)>0?"Outstanding":"Paid Up"})})]},(null===e||void 0===e?void 0:e.supplierId)||Math.random()))})]}),(!ie.supplierBalances||0===ie.supplierBalances.length)&&(0,ne.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No supplier balance data found"})]})]}),ie.supplierBalances&&ie.supplierBalances.length>0&&(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Outstanding Balances by Supplier"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(rL,{data:ie.supplierBalances.filter(e=>((null===e||void 0===e?void 0:e.currentBalance)||0)>0).map((e,t)=>({name:(null===e||void 0===e?void 0:e.supplierName)||"Unknown",outstanding:(null===e||void 0===e?void 0:e.currentBalance)||0,fill:iL[t%iL.length]})),children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),(0,ne.jsx)(FB,{}),(0,ne.jsx)(gb,{formatter:e=>pc(e)}),(0,ne.jsx)(P_,{dataKey:"outstanding",fill:"#EF4444",name:"Outstanding Balance"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsx)(ft,{children:"Purchase vs Payment Distribution"})}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(OR,{children:[(0,ne.jsx)(CR,{data:[{name:"Total Purchases",value:ie.supplierBalances.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.currentBalance)||0),0),fill:"#10B981"},{name:"Total Payments",value:ie.supplierBalances.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.overdueAmount)||0),0),fill:"#3B82F6"},{name:"Outstanding",value:ie.supplierBalances.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.currentBalance)||0),0),fill:"#EF4444"}],cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value"}),(0,ne.jsx)(gb,{formatter:e=>pc(e)})]})})})]})]})]})]}),(0,ne.jsxs)(Fp,{value:"tax",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Tax Report"}),le&&(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(le,"Tax_Report_".concat(x.fromDate,"_to_").concat(x.toDate),"tax-report"),disabled:U,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(le,"Tax_Report_".concat(x.fromDate,"_to_").concat(x.toDate),"tax-report"),disabled:W,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),M&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),le&&!M&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tax Collected"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:pc(le.totalTaxCollected)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:pc(le.totalTaxCollected||0)})]}),(0,ne.jsx)(dc,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Tax Rate"}),(0,ne.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[le.taxSummaries&&le.taxSummaries.length>0?(le.taxSummaries.reduce((e,t)=>e+((null===t||void 0===t?void 0:t.taxRate)||0),0)/le.taxSummaries.length).toFixed(2):"0.00","%"]})]}),(0,ne.jsx)(Jl,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Tax Summary"}),(0,ne.jsxs)(pt,{children:["Tax breakdown from ",le.fromDate?new Date(le.fromDate).toLocaleDateString():"N/A"," to ",le.toDate?new Date(le.toDate).toLocaleDateString():"N/A"]})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Tax Name"}),(0,ne.jsx)(Lh,{children:"Tax Code"}),(0,ne.jsx)(Lh,{children:"Tax Rate"}),(0,ne.jsx)(Lh,{children:"Taxable Amount"}),(0,ne.jsx)(Lh,{children:"Tax Amount"}),(0,ne.jsx)(Lh,{children:"Total"}),(0,ne.jsx)(Lh,{children:"Effective Rate"})]})}),(0,ne.jsx)(Rh,{children:null===(l=le.taxSummaries)||void 0===l?void 0:l.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{className:"font-medium",children:(null===e||void 0===e?void 0:e.taxName)||"N/A"}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",children:(null===e||void 0===e?void 0:e.taxCode)||"N/A"})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("span",{className:"font-semibold",children:[(null===e||void 0===e?void 0:e.taxRate)||0,"%"]})}),(0,ne.jsx)(zh,{children:pc((null===e||void 0===e?void 0:e.taxableAmount)||0)}),(0,ne.jsx)(zh,{className:"text-green-600 font-semibold",children:pc((null===e||void 0===e?void 0:e.taxAmount)||0)}),(0,ne.jsx)(zh,{className:"font-semibold",children:pc(((null===e||void 0===e?void 0:e.taxableAmount)||0)+((null===e||void 0===e?void 0:e.taxAmount)||0))}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{variant:"secondary",children:[(null===e||void 0===e?void 0:e.taxRate)||0,"%"]})})]},"".concat(null===e||void 0===e?void 0:e.taxCode,"-").concat(null===e||void 0===e?void 0:e.taxName)||Math.random()))})]}),(!le.taxSummaries||0===le.taxSummaries.length)&&(0,ne.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No tax data found for the selected period"})]})]})]})]}),(0,ne.jsxs)(Fp,{value:"ownership",className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h2",{className:"text-2xl font-semibold",children:"Product Ownership Reports"}),(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsxs)(It,{onClick:()=>Me(we,"Ownership_Report_".concat(v),"ownership-report"),disabled:U||Ae,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(nL,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,ne.jsxs)(It,{onClick:()=>Ie(we,"Ownership_Report_".concat(v),"ownership-report"),disabled:W||Ae,variant:"outline",size:"sm",className:"touch-target hover:bg-[#F4E9B1] transition-colors",children:[(0,ne.jsx)(Ql,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),Ae&&(0,ne.jsx)("div",{className:"flex justify-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),!Ae&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:De().totalProducts})]}),(0,ne.jsx)(ec,{className:"h-8 w-8 text-blue-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"High Ownership"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-green-600",children:De().highOwnership})]}),(0,ne.jsx)(Rp,{className:"h-8 w-8 text-green-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Ownership"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-red-600",children:De().lowOwnership})]}),(0,ne.jsx)(hc,{className:"h-8 w-8 text-red-500"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Outstanding Amount"}),(0,ne.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:pc(De().totalOutstanding)})]}),(0,ne.jsx)(fc,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Ownership Distribution"}),(0,ne.jsx)(pt,{children:"Distribution of products by ownership percentage"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(OR,{children:[(0,ne.jsx)(CR,{data:_e(),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:_e().map((e,t)=>(0,ne.jsx)(aD,{fill:e.color},"cell-".concat(t)))}),(0,ne.jsx)(gb,{})]})})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Ownership Trend"}),(0,ne.jsx)(pt,{children:"Average ownership percentage over time"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)(px,{width:"100%",height:300,children:(0,ne.jsxs)(RB,{data:[{date:"2024-01",ownership:75},{date:"2024-02",ownership:78},{date:"2024-03",ownership:82},{date:"2024-04",ownership:79},{date:"2024-05",ownership:85},{date:"2024-06",ownership:88}],children:[(0,ne.jsx)(tL,{strokeDasharray:"3 3"}),(0,ne.jsx)(kB,{dataKey:"date"}),(0,ne.jsx)(FB,{}),(0,ne.jsx)(gb,{}),(0,ne.jsx)(qR,{type:"monotone",dataKey:"ownership",stroke:"#D4AF37",strokeWidth:2})]})})})]})]}),Se.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-orange-500"}),"Ownership Alerts (",Se.length,")"]}),(0,ne.jsx)(pt,{children:"Products requiring attention due to ownership issues"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)("div",{className:"space-y-4",children:Se.map((e,t)=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,ne.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ne.jsx)(hc,{className:"h-6 w-6 text-orange-500"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"font-medium",children:e.productName}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:e.message})]})]}),(0,ne.jsx)(or,{variant:"outline",className:"high"===e.severity.toLowerCase()?"bg-red-100 text-red-800":"medium"===e.severity.toLowerCase()?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:e.severity})]},t))})})]}),Ce.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Low Ownership Products"}),(0,ne.jsx)(pt,{children:"Products with ownership percentage below 50%"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Ownership %"}),(0,ne.jsx)(Lh,{children:"Outstanding Amount"}),(0,ne.jsx)(Lh,{children:"Status"})]})}),(0,ne.jsx)(Rh,{children:Ce.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.productName}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{className:"bg-red-100 text-red-800",children:[e.ownershipPercentage.toFixed(1),"%"]})}),(0,ne.jsx)(zh,{className:"text-red-600 font-medium",children:pc(e.outstandingAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsx)(or,{variant:"outline",className:"bg-red-50 text-red-700",children:"Low Ownership"})})]},e.id))})]})})]}),Pe.length>0&&(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Outstanding Payments"}),(0,ne.jsx)(pt,{children:"Products with pending payments"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"Product"}),(0,ne.jsx)(Lh,{children:"Supplier"}),(0,ne.jsx)(Lh,{children:"Outstanding Amount"}),(0,ne.jsx)(Lh,{children:"Ownership %"})]})}),(0,ne.jsx)(Rh,{children:Pe.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.productName}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:e.productCode})]})}),(0,ne.jsx)(zh,{children:e.supplierName||"N/A"}),(0,ne.jsx)(zh,{className:"text-red-600 font-medium",children:pc(e.outstandingAmount)}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)(or,{variant:"outline",className:e.ownershipPercentage>=80?"bg-green-100 text-green-800":e.ownershipPercentage>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.ownershipPercentage.toFixed(1),"%"]})})]},e.id))})]})})]}),0===we.length&&0===Se.length&&0===Ce.length&&0===Pe.length&&(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(mt,{className:"text-center py-12",children:[(0,ne.jsx)(Rp,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,ne.jsx)("p",{className:"text-lg font-medium",children:"No ownership data available"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Start managing product ownership to see reports here"})]})})]})]})]})]})}const fL=e=>{const t=["0","1","2","3","4","5","6","7","8","9"];let r=e;return["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"].forEach((e,n)=>{r=r.replace(new RegExp(e,"g"),t[n])}),r},pL=["className","value","onChange","onValueChange","allowDecimal","allowNegative","maxDecimals","onKeyDown","onPaste"],mL=(0,t.forwardRef)((e,r)=>{let{className:n,value:a="",onChange:i,onValueChange:o,allowDecimal:s=!0,allowNegative:l=!1,maxDecimals:u=2,onKeyDown:d,onPaste:h}=e,f=le(e,pL);const p="number"===typeof a?a.toString():a,m=(0,t.useCallback)(e=>{let t=fL(e),r="0-9";s&&(r+="\\."),l&&(r+="\\-");const n=new RegExp("[^".concat(r,"]"),"g");if(t=t.replace(n,""),s&&u>=0){const e=t.indexOf(".");if(-1!==e){const r=t.substring(0,e+1),n=t.substring(e+1,e+1+u);t=r+n}}if(l){(t.match(/-/g)||[]).length>1?(t=t.replace(/-/g,""),t.length>0&&(t="-"+t)):t.includes("-")&&!t.startsWith("-")&&(t=t.replace(/-/g,""))}if(s){if((t.match(/\./g)||[]).length>1){const e=t.indexOf(".");t=t.substring(0,e+1)+t.substring(e+1).replace(/\./g,"")}}return t},[s,l,u]),g=(0,t.useCallback)(e=>{const t=e.target.value,r=m(t);if(i&&i(r),o){const e=""===r?null:parseFloat(r);o(isNaN(e)?null:e)}},[i,o,m]),v=(0,t.useCallback)(e=>{if(["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"].includes(e.key))e.preventDefault();else if(![8,9,27,13,46].includes(e.keyCode)&&(!e.ctrlKey||![65,67,86,88,90].includes(e.keyCode))&&![35,36,37,39,40,38].includes(e.keyCode)){if((e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)){if(s&&(190===e.keyCode||110===e.keyCode)){return void(e.target.value.includes(".")&&e.preventDefault())}if(l&&(189===e.keyCode||109===e.keyCode)){const t=e.target.value;return void((0!==(e.target.selectionStart||0)||t.includes("-"))&&e.preventDefault())}e.preventDefault()}d&&d(e)}},[s,l,d]),y=(0,t.useCallback)(e=>{e.preventDefault();const t=e.clipboardData.getData("text"),r=m(t);if(i&&i(r),o){const e=""===r?null:parseFloat(r);o(isNaN(e)?null:e)}h&&h(e)},[i,o,m,h]);return(0,ne.jsx)(vt,c(c({},f),{},{ref:r,type:"text",inputMode:"decimal",value:p,onChange:g,onKeyDown:v,onPaste:y,className:it("font-mono",n),autoComplete:"off",spellCheck:!1}))});mL.displayName="NumberInput";const gL=["className","variant"],vL=["className"],yL=Dt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xL(e){let{className:t,variant:r}=e,n=le(e,gL);return(0,ne.jsx)("div",c({"data-slot":"alert",role:"alert",className:it(yL({variant:r}),t)},n))}function bL(e){let{className:t}=e,r=le(e,vL);return(0,ne.jsx)("div",c({"data-slot":"alert-description",className:it("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t)},r))}function jL(){var e,r,n;const{user:a,isManager:i}=se(),[o,s]=(0,t.useState)((null===a||void 0===a||null===(e=a.branch)||void 0===e?void 0:e.id)||1),[l,c]=(0,t.useState)((e=>e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"))(new Date)),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[C,O]=(0,t.useState)(""),[P,E]=(0,t.useState)(""),[A,T]=(0,t.useState)(null),[D,_]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e;null!==a&&void 0!==a&&null!==(e=a.branch)&&void 0!==e&&e.id&&s(a.branch.id)},[null===a||void 0===a||null===(r=a.branch)||void 0===r?void 0:r.id]),(0,t.useEffect)(()=>{I(),M()},[o,l]),(0,t.useEffect)(()=>{null!==g&&void 0!==g&&g.expectedClosingBalance&&O(g.expectedClosingBalance.toString())},[g]),(0,t.useEffect)(()=>{(async()=>{if(y&&g&&o)try{const e=await B.refreshExpectedClosingBalance(o,l);v(e)}catch(HL){console.warn("Auto-refresh failed:",HL)}})()},[y,o,l]);const M=async()=>{try{_(!0);const e=await B.getOpeningBalance(o,l);T(e)}catch(HL){console.error("Error loading expected opening balance:",HL)}finally{_(!1)}},I=async()=>{try{j(!0),N("");const e=await B.isDrawerOpen(o,l);if(x(e),e){const e=await B.getBalance(o,l);v(e)}else v(null)}catch(HL){console.error("Error loading current balance:",HL),N("Failed to load current balance")}finally{j(!1)}},F=async()=>{try{j(!0),N(""),k("");const e=await B.refreshExpectedClosingBalance(o,l);v(e),k("Cash drawer balance refreshed successfully!")}catch(HL){console.error("Error refreshing balance:",HL),N(HL.message||"Failed to refresh balance")}finally{j(!1)}};return(0,ne.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h1",{className:"text-3xl font-bold",children:"Cash Drawer Management"}),(0,ne.jsx)(or,{variant:y?"default":"secondary",children:y?"Drawer Open":"Drawer Closed"})]}),w&&(0,ne.jsx)(xL,{variant:"destructive",children:(0,ne.jsx)(bL,{children:w})}),S&&(0,ne.jsx)(xL,{children:(0,ne.jsx)(bL,{children:S})}),(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Configuration"}),(0,ne.jsx)(pt,{children:"Current branch and date for cash drawer operations"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"branch",children:"Branch"}),(0,ne.jsx)(vt,{id:"branch",value:(null===a||void 0===a||null===(n=a.branch)||void 0===n?void 0:n.name)||"Unknown Branch",readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50 cursor-not-allowed"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"date",children:"Date"}),(0,ne.jsx)(vt,{id:"date",type:"date",value:l,onChange:e=>c(e.target.value)})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"expectedOpeningBalance",children:"Expected Opening Balance"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(vt,{id:"expectedOpeningBalance",value:D?"Loading...":null!==A?pc(A):"No balance found",readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50 cursor-not-allowed"}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:M,disabled:D,className:"h-10 px-3",title:"Refresh expected opening balance",children:"\ud83d\udd04"})]}),(0,ne.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"This is the amount that should be in the drawer when opening (carried forward from previous day)"})]})]})]}),(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Current Balance"}),(0,ne.jsx)(pt,{children:"Today's cash drawer status"})]}),(0,ne.jsx)(mt,{children:b?(0,ne.jsx)("div",{className:"text-center py-4",children:"Loading..."}):g?(0,ne.jsxs)("div",{className:"space-y-3",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Status:"}),(e=>{switch(e){case 1:return(0,ne.jsx)(or,{variant:"default",className:"bg-green-500",children:"Open"});case 2:return(0,ne.jsx)(or,{variant:"secondary",children:"Closed"});case 3:return(0,ne.jsx)(or,{variant:"destructive",children:"Pending Reconciliation"});default:return(0,ne.jsx)(or,{variant:"outline",children:"Unknown"})}})(g.status)]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Opening Balance:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(g.openingBalance)})]}),(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("span",{children:"Expected Closing:"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)("span",{className:"font-semibold",children:pc(g.expectedClosingBalance)}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:F,disabled:b,className:"h-6 px-2 text-xs",title:"Refresh expected closing balance to include recent transactions",children:"\ud83d\udd04"})]})]}),g.actualClosingBalance&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Actual Closing:"}),(0,ne.jsx)("span",{className:"font-semibold",children:pc(g.actualClosingBalance)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Cash Over/Short:"}),(0,ne.jsx)("span",{className:"font-semibold ".concat(g.cashOverShort&&0!==g.cashOverShort?"text-red-600":"text-green-600"),children:pc(g.cashOverShort||0)})]}),g.settledAmount&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(fr,{className:"my-2"}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Settled Amount:"}),(0,ne.jsx)("span",{className:"font-semibold text-orange-600",children:pc(g.settledAmount)})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{children:"Carried Forward:"}),(0,ne.jsx)("span",{className:"font-semibold text-blue-600",children:pc(g.carriedForwardAmount||0)})]})]})]}),g.settlementNotes&&(0,ne.jsx)("div",{className:"mt-3 p-2 bg-orange-50 rounded",children:(0,ne.jsxs)("span",{className:"text-sm text-orange-700",children:["Settlement: ",g.settlementNotes]})}),g.notes&&(0,ne.jsx)("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:(0,ne.jsxs)("span",{className:"text-sm text-gray-600",children:["Notes: ",g.notes]})})]}):(0,ne.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No cash drawer balance found for this date"})})]})]}),(0,ne.jsx)(fr,{}),!y&&(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Open Cash Drawer"}),(0,ne.jsx)(pt,{children:"Start the day by opening the cash drawer with initial balance"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"openingBalance",children:"Opening Balance (EGP)"}),(0,ne.jsx)(mL,{id:"openingBalance",value:u,onChange:e=>d(e),placeholder:"Enter opening balance",allowDecimal:!0,allowNegative:!1,maxDecimals:2}),null!==A&&(0,ne.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["\ud83d\udca1 Expected opening balance: ",pc(A)," (from previous day's settlement)"]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"openNotes",children:"Notes (Optional)"}),(0,ne.jsx)(Lf,{id:"openNotes",value:p,onChange:e=>m(e.target.value),placeholder:"Add any notes about the opening balance",rows:3})]}),(0,ne.jsx)(It,{onClick:async()=>{if(!u||parseFloat(u)<0)N("Please enter a valid opening balance");else try{j(!0),N(""),k("");const e=await B.openDrawer(o,parseFloat(u),l,p||void 0);v(e),x(!0),k("Cash drawer opened successfully!"),d(""),m("")}catch(HL){console.error("Error opening drawer:",HL),N(HL.message||"Failed to open cash drawer")}finally{j(!1)}},disabled:b||!u,className:"w-full",children:b?"Opening...":"Open Cash Drawer"})]})]}),y&&(0,ne.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Close Cash Drawer"}),(0,ne.jsx)(pt,{children:"Simply close the drawer without settlement"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"p-3 bg-blue-50 rounded-md",children:[(0,ne.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,ne.jsx)("strong",{children:"Expected Closing Balance:"})," ",pc((null===g||void 0===g?void 0:g.expectedClosingBalance)||0)]}),(0,ne.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"This is calculated based on opening balance + cash sales + cash repairs"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"actualClosingBalance",children:"Actual Closing Balance (EGP)"}),(0,ne.jsx)(mL,{id:"actualClosingBalance",value:h,onChange:e=>f(e),placeholder:"Enter actual cash count",allowDecimal:!0,allowNegative:!1,maxDecimals:2})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"closeNotes",children:"Notes (Optional)"}),(0,ne.jsx)(Lf,{id:"closeNotes",value:p,onChange:e=>m(e.target.value),placeholder:"Add any notes about discrepancies or issues",rows:3})]}),(0,ne.jsx)(It,{onClick:async()=>{if(!h||parseFloat(h)<0)N("Please enter a valid closing balance");else try{j(!0),N(""),k("");const e=await B.closeDrawer(o,parseFloat(h),l,p||void 0);v(e),x(!1),k("Cash drawer closed successfully!"),f(""),m("")}catch(HL){console.error("Error closing drawer:",HL),N(HL.message||"Failed to close cash drawer")}finally{j(!1)}},disabled:b||!h,className:"w-full",variant:"destructive",children:b?"Closing...":"Close Cash Drawer"})]})]}),(0,ne.jsxs)(dt,{children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Settle Shift"}),(0,ne.jsx)(pt,{children:"Settle the expected closing balance and carry forward any excess cash to next day"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsx)("div",{className:"p-3 bg-green-50 rounded-md",children:(0,ne.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("p",{className:"text-sm text-green-800",children:[(0,ne.jsx)("strong",{children:"Expected Closing Balance:"})," ",pc((null===g||void 0===g?void 0:g.expectedClosingBalance)||0)]}),(0,ne.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Settlement will remove the expected closing balance (sales + repairs revenue). Any excess cash will be carried forward to next day."})]}),(0,ne.jsx)(It,{variant:"outline",size:"sm",onClick:F,disabled:b,className:"h-6 px-2 text-xs ml-2",title:"Refresh expected closing balance to include recent transactions",children:"\ud83d\udd04"})]})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"settleActualBalance",children:"Actual Closing Balance (EGP)"}),(0,ne.jsx)(mL,{id:"settleActualBalance",value:h,onChange:e=>f(e),placeholder:"Enter total cash in drawer",allowDecimal:!0,allowNegative:!1,maxDecimals:2})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"settledAmount",children:"Settlement Amount (EGP)"}),(0,ne.jsx)(mL,{id:"settledAmount",value:C,onChange:()=>{},placeholder:"Auto-calculated from expected closing",allowDecimal:!0,allowNegative:!1,maxDecimals:2,disabled:!0,className:"bg-gray-50 cursor-not-allowed"}),(0,ne.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\u24d8 Settlement amount is automatically set to Expected Closing Balance"}),h&&C&&(0,ne.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[(0,ne.jsx)("strong",{children:"Carry Forward:"})," ",pc(parseFloat(h)-parseFloat(C||"0"))]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"settlementNotes",children:"Settlement Notes"}),(0,ne.jsx)(Lf,{id:"settlementNotes",value:P,onChange:e=>E(e.target.value),placeholder:"Reason for settlement (e.g., Bank deposit, Cash safe)",rows:2})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"shiftNotes",children:"General Notes (Optional)"}),(0,ne.jsx)(Lf,{id:"shiftNotes",value:p,onChange:e=>m(e.target.value),placeholder:"Add any notes about the shift",rows:2})]}),(0,ne.jsx)(It,{onClick:async()=>{if(!h||parseFloat(h)<0)return void N("Please enter a valid closing balance");const e=(null===g||void 0===g?void 0:g.expectedClosingBalance)||0;if(C&&parseFloat(C)===e)if(parseFloat(h)<parseFloat(C))N("Actual closing balance must be at least equal to the settlement amount");else try{j(!0),N(""),k("");const e=await B.settleShift(o,parseFloat(h),parseFloat(C),l,P||void 0,p||void 0);v(e),x(!1);const t=parseFloat(C),r=parseFloat(h)-t;k("Shift settled successfully! ".concat(pc(t)," settled (Expected Closing). ").concat(pc(r)," carried forward to next day.")),f(""),O(""),E(""),m("")}catch(HL){console.error("Error settling shift:",HL),N(HL.message||"Failed to settle shift")}finally{j(!1)}else N("Settlement amount must be exactly ".concat(pc(e)," (Expected Closing Balance)"))},disabled:b||!h||!C,className:"w-full",variant:"default",children:b?"Settling...":"Settle Shift"})]})]})]})]})}const wL=Gt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),NL=Gt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),SL={userName:"",fullName:"",email:"",employeeCode:"",password:"",confirmPassword:"",roles:["Cashier"],branchId:null,isActive:!0},kL=["Manager","Cashier"];function CL(){var e,r,n,a,i,o,s;const{user:l,isManager:u}=se(),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[j,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(!1),[k,C]=(0,t.useState)(SL),[O,P]=(0,t.useState)(""),[E,A]=(0,t.useState)(""),{data:T,loading:D,error:_}=Lc({isActive:!0,pageSize:100}),{data:M,loading:I,error:F,fetchData:R,updateParams:B,hasNextPage:L,hasPrevPage:z,nextPage:U,prevPage:V,setPage:W}=Rc({searchTerm:d,role:f,branchId:m?parseInt(m):void 0,isActive:!0}),{execute:q,loading:H}=Ec(),{execute:K,loading:G}=Ac(),{execute:$,loading:Y}=Tc(),{execute:J,loading:X}=Dc(),{execute:Q,loading:Z}=Mc(),{execute:ee,loading:te}=_c(),{execute:re,loading:ae}=Ic(),{execute:ie,loading:oe}=Fc(),[le,ce]=(0,t.useState)(null),[ue,de]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=setTimeout(()=>{B({searchTerm:d||void 0,role:f||void 0,branchId:m?parseInt(m):void 0,pageNumber:1})},300);return()=>clearTimeout(e)},[d,f,m,B]);if(!(u||(null===l||void 0===l||null===(e=l.roles)||void 0===e?void 0:e.includes("Admin"))||(null===l||void 0===l||null===(r=l.roles)||void 0===r?void 0:r.includes("Manager"))))return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"User Management"}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Access denied. Only managers and administrators can access user management."})]})})})]});const he=async(e,t)=>{try{await J(e,{userId:e,isActive:t,reason:t?"Account reactivated":"Account deactivated"}),Cf.success("User ".concat(t?"activated":"deactivated"," successfully")),R()}catch(r){Cf.error(r instanceof Error?r.message:"Failed to update user status")}},fe=()=>{C(SL)},pe=e=>{C({userName:e.userName,fullName:e.fullName,email:e.email,employeeCode:e.employeeCode||"",password:"",confirmPassword:"",roles:e.roles,branchId:e.branchId||null,isActive:e.isActive})},me=e=>new Date(e).toLocaleString(),ge=e=>e.includes("Admin")?"bg-red-100 text-red-800":e.includes("Manager")?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800";return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"User Management"}),(0,ne.jsxs)(It,{onClick:()=>y(!0),variant:"golden",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(ef,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,ne.jsx)(vt,{placeholder:"Search users...",value:d,onChange:e=>h(e.target.value),className:"pl-10"})]}),(0,ne.jsxs)(wh,{value:f,onValueChange:p,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Filter by role"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Roles"}),kL.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e},e))]})]}),(0,ne.jsxs)(wh,{value:m,onValueChange:g,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Filter by branch"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"all",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"All Branches"}),D?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading branches..."}):_?(0,ne.jsx)(Ch,{value:"error",disabled:!0,children:"Error loading branches"}):null===T||void 0===T||null===(n=T.items)||void 0===n?void 0:n.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))]})]}),(0,ne.jsx)(It,{variant:"outline",onClick:()=>{h(""),p("all"),g("all")},children:"Clear Filters"})]})})}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsxs)(mt,{className:"p-0",children:[I&&(0,ne.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ne.jsx)(uc,{className:"h-8 w-8 animate-spin"})}),F&&(0,ne.jsxs)("div",{className:"text-center py-12 text-red-600",children:[(0,ne.jsxs)("p",{children:["Error loading users: ",F]}),(0,ne.jsx)(It,{onClick:R,className:"mt-4",children:"Try Again"})]}),M&&M.items&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Ih,{children:[(0,ne.jsx)(Fh,{children:(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(Lh,{children:"User"}),(0,ne.jsx)(Lh,{children:"Role"}),(0,ne.jsx)(Lh,{children:"Branch"}),(0,ne.jsx)(Lh,{children:"Status"}),(0,ne.jsx)(Lh,{children:"Last Login"}),(0,ne.jsx)(Lh,{children:"Actions"})]})}),(0,ne.jsx)(Rh,{children:M.items.map(e=>(0,ne.jsxs)(Bh,{children:[(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ne.jsx)(Yt,{className:"h-8 w-8 text-muted-foreground"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"font-medium",children:e.fullName}),(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["@",e.userName]}),(0,ne.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})]})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"space-y-1",children:e.roles.map(t=>(0,ne.jsx)(or,{variant:"secondary",className:ge(e.roles),children:t},t))})}),(0,ne.jsx)(zh,{children:e.branchName||"No Branch"}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ne.jsx)(ry,{checked:e.isActive,onCheckedChange:t=>he(e.id,t),disabled:X}),(0,ne.jsx)("span",{className:"text-sm",children:e.isActive?(0,ne.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,ne.jsx)(Rp,{className:"h-4 w-4 mr-1"}),"Active"]}):(0,ne.jsxs)("span",{className:"flex items-center text-red-600",children:[(0,ne.jsx)(_v,{className:"h-4 w-4 mr-1"}),"Inactive"]})})]})}),(0,ne.jsx)(zh,{children:(0,ne.jsx)("div",{className:"text-sm",children:e.lastLoginAt?me(e.lastLoginAt):"Never"})}),(0,ne.jsx)(zh,{children:(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsx)(It,{size:"sm",variant:"ghost",onClick:()=>(async e=>{b(e),pe(e);try{const[t,r]=await Promise.all([ee(e.id,{pageSize:10}),re(e.id)]);ce(t),de(r)}catch(t){console.error("Failed to fetch user details:",t)}})(e),children:(0,ne.jsx)(Qt,{className:"h-4 w-4"})}),(0,ne.jsx)(It,{size:"sm",variant:"ghost",onClick:()=>{b(e),S(!0)},children:(0,ne.jsx)(wL,{className:"h-4 w-4"})})]})})]},e.id))})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[(0,ne.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",M.items.length," of ",M.totalCount," users"]}),(0,ne.jsxs)("div",{className:"flex space-x-2",children:[(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:V,disabled:!z,children:"Previous"}),(0,ne.jsxs)("span",{className:"flex items-center px-3 text-sm",children:["Page ",M.pageNumber," of ",Math.ceil(M.totalCount/M.pageSize)]}),(0,ne.jsx)(It,{size:"sm",variant:"outline",onClick:U,disabled:!L,children:"Next"})]})]})]})]})}),(0,ne.jsx)(Kh,{open:v,onOpenChange:y,children:(0,ne.jsxs)(Jh,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Create New User"}),(0,ne.jsx)(Zh,{children:"Add a new user to the system with appropriate roles and permissions."})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"userName",children:"Username *"}),(0,ne.jsx)(vt,{id:"userName",value:k.userName,onChange:e=>C(c(c({},k),{},{userName:e.target.value})),placeholder:"Enter username"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"fullName",children:"Full Name *"}),(0,ne.jsx)(vt,{id:"fullName",value:k.fullName,onChange:e=>C(c(c({},k),{},{fullName:e.target.value})),placeholder:"Enter full name"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email *"}),(0,ne.jsx)(vt,{id:"email",type:"email",value:k.email,onChange:e=>C(c(c({},k),{},{email:e.target.value})),placeholder:"Enter email address"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"employeeCode",children:"Employee Code"}),(0,ne.jsx)(vt,{id:"employeeCode",value:k.employeeCode,onChange:e=>C(c(c({},k),{},{employeeCode:e.target.value})),placeholder:"Enter employee code"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"password",children:"Password *"}),(0,ne.jsx)(vt,{id:"password",type:"password",value:k.password,onChange:e=>C(c(c({},k),{},{password:e.target.value})),placeholder:"Enter password"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,ne.jsx)(vt,{id:"confirmPassword",type:"password",value:k.confirmPassword,onChange:e=>C(c(c({},k),{},{confirmPassword:e.target.value})),placeholder:"Confirm password"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Roles *"}),(0,ne.jsxs)(wh,{value:k.roles[0]||"Cashier",onValueChange:e=>C(c(c({},k),{},{roles:[e]})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select role"})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:kL.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e},e))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Branch"}),(0,ne.jsxs)(wh,{value:(null===(a=k.branchId)||void 0===a?void 0:a.toString())||"none",onValueChange:e=>C(c(c({},k),{},{branchId:e&&"none"!==e?parseInt(e):null})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:"Select branch"})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"none",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"No Branch"}),D?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading branches..."}):_?(0,ne.jsx)(Ch,{value:"error",disabled:!0,children:"Error loading branches"}):null===T||void 0===T||null===(i=T.items)||void 0===i?void 0:i.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))]})]})]})]}),(0,ne.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,ne.jsx)(ry,{checked:k.isActive,onCheckedChange:e=>C(c(c({},k),{},{isActive:e}))}),(0,ne.jsx)(Wt,{children:"Active Account"})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{y(!1),fe()},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(k.password===k.confirmPassword)if(k.userName&&k.fullName&&k.email&&k.password)try{const e={userName:k.userName,fullName:k.fullName,email:k.email,employeeCode:k.employeeCode||void 0,password:k.password,roles:k.roles,branchId:k.branchId||void 0,isActive:k.isActive};await q(e),Cf.success("User created successfully"),y(!1),fe(),R()}catch(e){Cf.error(e instanceof Error?e.message:"Failed to create user")}else Cf.error("Please fill in all required fields");else Cf.error("Passwords do not match")},disabled:H,variant:"golden",children:[H&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})}),x&&(0,ne.jsx)(Kh,{open:!!x,onOpenChange:()=>{b(null),w(!1),ce(null),de(null)},children:(0,ne.jsxs)(Jh,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsxs)(Qh,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Yt,{className:"h-5 w-5"}),x.fullName,!x.isActive&&(0,ne.jsx)(or,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Inactive"})]}),(0,ne.jsx)(Zh,{children:"Manage user details, roles, and permissions"})]}),(0,ne.jsxs)(_p,{defaultValue:"details",className:"w-full",children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-4",children:[(0,ne.jsx)(Ip,{value:"details",children:"Details"}),(0,ne.jsx)(Ip,{value:"permissions",children:"Permissions"}),(0,ne.jsx)(Ip,{value:"activity",children:"Activity"}),(0,ne.jsx)(Ip,{value:"settings",children:"Settings"})]}),(0,ne.jsx)(Fp,{value:"details",className:"space-y-4 mt-4",children:(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Username"}),(0,ne.jsx)(vt,{value:k.userName,readOnly:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Full Name"}),(0,ne.jsx)(vt,{value:k.fullName,onChange:e=>C(c(c({},k),{},{fullName:e.target.value})),readOnly:!j})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Email"}),(0,ne.jsx)(vt,{value:k.email,onChange:e=>C(c(c({},k),{},{email:e.target.value})),readOnly:!j})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Employee Code"}),(0,ne.jsx)(vt,{value:k.employeeCode,onChange:e=>C(c(c({},k),{},{employeeCode:e.target.value})),readOnly:!j})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Roles"}),j?(0,ne.jsxs)(wh,{value:k.roles[0]||"Cashier",onValueChange:e=>C(c(c({},k),{},{roles:[e]})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:kL.map(e=>(0,ne.jsx)(Ch,{value:e,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e},e))})]}):(0,ne.jsx)("div",{className:"flex gap-2",children:x.roles.map(e=>(0,ne.jsx)(or,{variant:"secondary",className:ge(x.roles),children:e},e))})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Branch"}),j?(0,ne.jsxs)(wh,{value:(null===(o=k.branchId)||void 0===o?void 0:o.toString())||"none",onValueChange:e=>C(c(c({},k),{},{branchId:e&&"none"!==e?parseInt(e):null})),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsxs)(kh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsx)(Ch,{value:"none",className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:"No Branch"}),D?(0,ne.jsx)(Ch,{value:"loading",disabled:!0,children:"Loading branches..."}):_?(0,ne.jsx)(Ch,{value:"error",disabled:!0,children:"Error loading branches"}):null===T||void 0===T||null===(s=T.items)||void 0===s?void 0:s.map(e=>(0,ne.jsx)(Ch,{value:e.id.toString(),className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.name},e.id))]})]}):(0,ne.jsx)(vt,{value:x.branchName||"No Branch",readOnly:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Last Login"}),(0,ne.jsx)("div",{className:"p-2 bg-muted rounded",children:x.lastLoginAt?me(x.lastLoginAt):"Never"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Account Created"}),(0,ne.jsx)("div",{className:"p-2 bg-muted rounded",children:me(x.createdAt)})]})]})}),(0,ne.jsx)(Fp,{value:"permissions",className:"space-y-4 mt-4",children:ae?(0,ne.jsx)("div",{className:"flex justify-center py-8",children:(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin"})}):ue?(0,ne.jsx)("div",{className:"space-y-4",children:(0,ne.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(ue.featureAccess).map(e=>{let[t,r]=e;return(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,ne.jsx)(Wt,{className:"capitalize font-medium",children:t.replace(/([A-Z])/g," $1").trim()}),(0,ne.jsx)(or,{variant:r?"default":"secondary",children:r?"Allowed":"Denied"})]},t)})})}):(0,ne.jsx)("p",{className:"text-muted-foreground",children:"No permission data available"})}),(0,ne.jsx)(Fp,{value:"activity",className:"space-y-4 mt-4",children:te?(0,ne.jsx)("div",{className:"flex justify-center py-8",children:(0,ne.jsx)(uc,{className:"h-6 w-6 animate-spin"})}):le&&le.activities.length>0?(0,ne.jsx)("div",{className:"space-y-3",children:le.activities.map(e=>(0,ne.jsxs)("div",{className:"flex items-start space-x-3 p-3 border rounded",children:[(0,ne.jsx)(NL,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,ne.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsx)("p",{className:"text-sm font-medium",children:e.action}),(0,ne.jsx)("span",{className:"text-xs text-muted-foreground",children:me(e.timestamp)})]}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:e.details}),(0,ne.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,ne.jsx)("span",{children:e.entityType}),(0,ne.jsx)("span",{children:"\u2022"}),(0,ne.jsx)("span",{children:e.ipAddress}),e.branchName&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("span",{children:"\u2022"}),(0,ne.jsx)("span",{children:e.branchName})]})]})]})]},e.id))}):(0,ne.jsx)("p",{className:"text-muted-foreground",children:"No activity records found"})}),(0,ne.jsx)(Fp,{value:"settings",className:"space-y-4 mt-4",children:(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-base font-medium",children:"Account Status"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:x.isActive?"Account is active and can log in":"Account is disabled"})]}),(0,ne.jsx)(ry,{checked:x.isActive,onCheckedChange:e=>he(x.id,e),disabled:X})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-base font-medium",children:"Email Confirmed"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:x.emailConfirmed?"Email address is verified":"Email needs verification"})]}),(0,ne.jsx)(or,{variant:x.emailConfirmed?"default":"secondary",children:x.emailConfirmed?"Verified":"Unverified"})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{className:"text-base font-medium",children:"Account Lockout"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:x.lockoutEnd?"Account is temporarily locked":"Account is not locked"})]}),(0,ne.jsx)(or,{variant:x.lockoutEnd?"destructive":"default",children:x.lockoutEnd?"Locked":"Unlocked"})]})]})})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{b(null),w(!1)},children:j?"Cancel":"Close"}),j&&(0,ne.jsxs)(It,{onClick:async()=>{if(x)try{const e={id:x.id,fullName:k.fullName,email:k.email,employeeCode:k.employeeCode||void 0,branchId:k.branchId||void 0};await K(x.id,e),JSON.stringify(k.roles.sort())!==JSON.stringify(x.roles.sort())&&await $(x.id,{userId:x.id,roles:k.roles}),Cf.success("User updated successfully"),b(null),w(!1),fe(),R()}catch(e){Cf.error(e instanceof Error?e.message:"Failed to update user")}},disabled:G||Y,variant:"golden",children:[(G||Y)&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Update User"]}),!j&&(0,ne.jsxs)(It,{onClick:()=>w(!0),variant:"golden",children:[(0,ne.jsx)(qp,{className:"mr-2 h-4 w-4"}),"Edit User"]})]})]})}),(0,ne.jsx)(Kh,{open:N,onOpenChange:S,children:(0,ne.jsxs)(Jh,{className:"bg-white border-gray-200 shadow-lg",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:"Reset Password"}),(0,ne.jsx)(Zh,{children:x&&"Set a new password for ".concat(x.fullName," (").concat(x.userName,")")})]}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ne.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Password Reset"}),(0,ne.jsx)("p",{className:"text-sm text-yellow-700",children:"The user will be required to change this password on their next login."})]})]})}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"New Password"}),(0,ne.jsx)(vt,{type:"password",value:O,onChange:e=>P(e.target.value),placeholder:"Enter new password"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{children:"Confirm New Password"}),(0,ne.jsx)(vt,{type:"password",value:E,onChange:e=>A(e.target.value),placeholder:"Confirm new password"})]})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ne.jsx)(It,{variant:"outline",onClick:()=>{S(!1),P(""),A("")},children:"Cancel"}),(0,ne.jsxs)(It,{onClick:async()=>{if(x)if(O===E)if(!O||O.length<6)Cf.error("Password must be at least 6 characters long");else try{await Q(x.id,{userId:x.id,newPassword:O,forcePasswordChange:!0}),Cf.success("Password reset successfully"),S(!1),P(""),A("")}catch(e){Cf.error(e instanceof Error?e.message:"Failed to reset password")}else Cf.error("Passwords do not match")},disabled:Z,variant:"golden",children:[Z&&(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),(0,ne.jsx)(wL,{className:"mr-2 h-4 w-4"}),"Reset Password"]})]})]})})]})}const OL=Gt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function PL(e){let{goldRates:r,onGoldRateChange:n,onTaxSettingChange:a,taxSettings:i,onResetManuallyEdited:o}=e;const{data:s,loading:l,error:u,fetchRates:d}=jc(),{data:h,loading:f,error:p,updateCharges:m,fetchCharges:g}=wc(),{data:v,loading:y,error:x,updateTaxConfiguration:b,fetchTaxConfigurations:j}=Nc(),{data:w,loading:N,error:S,fetchCategories:k}=gu(),{data:C,loading:O,error:P,fetchChargeTypes:E}=vu(),[A,T]=t.useState(new Set);t.useEffect(()=>{d(),g(),k(),E(),j()},[]);const[D,_]=t.useState(!1),[M,I]=t.useState(null),F=e=>e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"),[R,B]=t.useState({name:"",productCategory:1,subCategory:"",chargeType:1,chargeValue:"",effectiveFrom:F(new Date)}),[L,z]=t.useState(!1),[U,V]=t.useState(!1),[W,q]=t.useState(null),[H,K]=t.useState({taxName:"",taxCode:"",taxType:1,taxRate:"",isMandatory:!0,effectiveFrom:F(new Date),displayOrder:1}),[G,$]=t.useState(!1);t.useEffect(()=>{if(s&&s.length>0){const e=(e=>{const t={"24k":"0","22k":"0","21k":"0","18k":"0"};return e.forEach(e=>{const r="".concat(e.karatType,"k");t.hasOwnProperty(r)&&(t[r]=e.ratePerGram.toString())}),t})(s);Object.entries(e).forEach(e=>{let[t,r]=e;A.has(t)||n(t,r)})}},[s,A]);const Y=o?o():0;t.useEffect(()=>{Y>0&&(T(new Set),d())},[Y,d]);const J=()=>{B({name:"",productCategory:1,subCategory:"",chargeType:1,chargeValue:"",effectiveFrom:F(new Date)}),I(null)},X=e=>{e?(I(e),B({name:e.name,productCategory:e.productCategory,subCategory:e.subCategory||"",chargeType:e.chargeType,chargeValue:e.chargeValue.toString(),effectiveFrom:F(new Date)})):J(),_(!0)},Q=()=>{K({taxName:"",taxCode:"",taxType:1,taxRate:"",isMandatory:!0,effectiveFrom:F(new Date),displayOrder:1}),q(null)},Z=e=>{e?(q(e),K({taxName:e.taxName,taxCode:e.taxCode,taxType:e.taxType,taxRate:e.taxRate.toString(),isMandatory:e.isMandatory,effectiveFrom:F(new Date),displayOrder:e.displayOrder})):Q(),V(!0)};return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(dc,{className:"h-5 w-5 text-[#D4AF37]"}),"Gold Rates (per gram)"]}),(0,ne.jsxs)(pt,{children:["Current gold rates in Egyptian Pounds per gram",l&&(0,ne.jsx)("span",{className:"ml-2 text-blue-600",children:"Loading..."}),u&&(0,ne.jsxs)("span",{className:"ml-2 text-red-600",children:["Error: ",u]})]})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(r).map(e=>{let[t,r]=e;return(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"rate-".concat(t),className:"flex items-center gap-2",children:[t.toUpperCase(),A.has(t)&&(0,ne.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Edited"})]}),(0,ne.jsxs)("div",{className:"relative",children:[(0,ne.jsx)(vt,{id:"rate-".concat(t),type:"number",step:"0.01",value:r,onChange:e=>((e,t)=>{T(t=>new Set(t).add(e)),n(e,t)})(t,e.target.value),className:"pl-12 ".concat(A.has(t)?"border-blue-300 bg-blue-50":""),disabled:l}),(0,ne.jsx)("div",{className:"absolute left-3 top-3 text-muted-foreground text-sm",children:"EGP"})]}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",pc(parseFloat(r)||0)]})]},t)})}),(0,ne.jsx)("div",{className:"flex justify-end mt-4",children:(0,ne.jsxs)(It,{variant:"outline",size:"sm",className:"touch-target",disabled:!0,title:"Update from Market feature is temporarily disabled",children:[(0,ne.jsx)(dc,{className:"mr-2 h-4 w-4"}),"Update from Market"]})})]})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsx)(ht,{children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(fc,{className:"h-5 w-5 text-[#D4AF37]"}),"Making Charges"]}),(0,ne.jsxs)(pt,{children:["Manage making charges configuration",f&&(0,ne.jsx)("span",{className:"ml-2 text-blue-600",children:"Loading..."}),p&&(0,ne.jsxs)("span",{className:"ml-2 text-red-600",children:["Error: ",p]})]})]}),(0,ne.jsxs)(Kh,{open:D,onOpenChange:_,children:[(0,ne.jsx)(Gh,{asChild:!0,children:(0,ne.jsxs)(It,{size:"sm",variant:"golden",onClick:()=>X(),className:"touch-target",children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Charge"]})}),(0,ne.jsxs)(Jh,{className:"max-w-md",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:M?"Edit Making Charge":"Add New Making Charge"}),(0,ne.jsx)(Zh,{children:"Configure making charges for different product categories"})]}),(0,ne.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),R.name&&R.chargeValue)try{z(!0),await m({id:null===M||void 0===M?void 0:M.id,name:R.name,productCategory:R.productCategory,subCategory:R.subCategory||void 0,chargeType:R.chargeType,chargeValue:parseFloat(R.chargeValue),effectiveFrom:R.effectiveFrom}),await g(),_(!1),J()}catch(u){console.error("Error updating making charges:",u),alert("Failed to update making charges. Please try again.")}finally{z(!1)}else alert("Please fill in all required fields")},className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"chargeName",children:"Charge Name *"}),(0,ne.jsx)(vt,{id:"chargeName",value:R.name,onChange:e=>B(c(c({},R),{},{name:e.target.value})),placeholder:"e.g., Wedding Ring Making Charge",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"productCategory",children:"Product Category *"}),(0,ne.jsxs)(wh,{value:R.productCategory.toString(),onValueChange:e=>B(c(c({},R),{},{productCategory:parseInt(e)})),disabled:N,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:N?"Loading...":"Select category"})}),(0,ne.jsx)(kh,{children:N?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-2",children:[(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin mr-2"}),"Loading categories..."]}):S?(0,ne.jsx)("div",{className:"text-red-500 p-2",children:"Error loading categories"}):null===w||void 0===w?void 0:w.map(e=>(0,ne.jsx)(Ch,{value:e.value.toString(),children:e.displayName},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"subCategory",children:"Subcategory (Optional)"}),(0,ne.jsx)(vt,{id:"subCategory",value:R.subCategory,onChange:e=>B(c(c({},R),{},{subCategory:e.target.value})),placeholder:"e.g., rings, necklaces"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"chargeType",children:"Charge Type *"}),(0,ne.jsxs)(wh,{value:R.chargeType.toString(),onValueChange:e=>B(c(c({},R),{},{chargeType:parseInt(e)})),disabled:O,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:O?"Loading...":"Select charge type"})}),(0,ne.jsx)(kh,{children:O?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-2",children:[(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin mr-2"}),"Loading charge types..."]}):P?(0,ne.jsx)("div",{className:"text-red-500 p-2",children:"Error loading charge types"}):null===C||void 0===C?void 0:C.map(e=>(0,ne.jsx)(Ch,{value:e.value.toString(),children:e.displayName},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"chargeValue",children:["Charge Value *",1===R.chargeType?" (%)":" (EGP)"]}),(0,ne.jsx)(vt,{id:"chargeValue",type:"number",step:"0.01",value:R.chargeValue,onChange:e=>B(c(c({},R),{},{chargeValue:e.target.value})),placeholder:1===R.chargeType?"15.5":"500",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"effectiveFrom",children:"Effective From *"}),(0,ne.jsx)(vt,{id:"effectiveFrom",type:"date",value:R.effectiveFrom,onChange:e=>B(c(c({},R),{},{effectiveFrom:e.target.value})),required:!0})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,ne.jsx)(It,{type:"button",variant:"outline",onClick:()=>_(!1),disabled:L,children:"Cancel"}),(0,ne.jsx)(It,{type:"submit",variant:"golden",disabled:L,children:L?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):M?"Update Charge":"Add Charge"})]})]})]})]})]})}),(0,ne.jsx)(mt,{children:h&&h.length>0?(0,ne.jsx)("div",{className:"space-y-4",children:h.map(e=>{var t,r;return(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-medium",children:e.name}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Category: ",(null===w||void 0===w||null===(t=w.find(t=>t.value===e.productCategory))||void 0===t?void 0:t.displayName)||e.productCategory,e.subCategory&&" - ".concat(e.subCategory)]}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Effective: ",new Date(e.effectiveFrom).toLocaleDateString()]})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsxs)("div",{className:"text-right",children:[(0,ne.jsx)("p",{className:"font-medium",children:1===e.chargeType?"".concat(e.chargeValue,"%"):"".concat(pc(e.chargeValue))}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:(null===C||void 0===C||null===(r=C.find(t=>t.value===e.chargeType))||void 0===r?void 0:r.displayName)||"Unknown Type"})]}),(0,ne.jsx)(It,{size:"sm",variant:"ghost",onClick:()=>X(e),className:"hover:bg-[#F4E9B1]",children:(0,ne.jsx)(qp,{className:"h-4 w-4"})})]})]},e.id)})}):(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)("p",{className:"text-muted-foreground mb-4",children:"No making charges configured"}),(0,ne.jsxs)(It,{size:"sm",variant:"outline",onClick:()=>X(),children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add First Charge"]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(fc,{className:"h-5 w-5 text-[#D4AF37]"}),"Tax Configurations"]}),(0,ne.jsxs)(pt,{children:["Manage tax rates and configurations (no waiving option available)",y&&(0,ne.jsx)("span",{className:"ml-2 text-blue-600",children:"Loading..."}),x&&(0,ne.jsxs)("span",{className:"ml-2 text-red-600",children:["Error: ",x]})]}),(0,ne.jsx)("div",{className:"flex justify-end",children:(0,ne.jsxs)(It,{size:"sm",variant:"golden",onClick:()=>Z(),children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add Tax Configuration"]})}),(0,ne.jsx)(Kh,{open:U,onOpenChange:V,children:(0,ne.jsxs)(Jh,{className:"max-w-md",children:[(0,ne.jsxs)(Xh,{children:[(0,ne.jsx)(Qh,{children:W?"Edit Tax Configuration":"Add Tax Configuration"}),(0,ne.jsx)(Zh,{children:"Configure tax settings with versioning support"})]}),(0,ne.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),H.taxName&&H.taxCode&&H.taxRate)try{$(!0),await b({id:null===W||void 0===W?void 0:W.id,taxName:H.taxName,taxCode:H.taxCode,taxType:H.taxType,taxRate:parseFloat(H.taxRate),isMandatory:H.isMandatory,effectiveFrom:H.effectiveFrom,displayOrder:H.displayOrder}),await j(),V(!1),Q()}catch(u){console.error("Error updating tax configuration:",u),alert("Failed to update tax configuration. Please try again.")}finally{$(!1)}else alert("Please fill in all required fields")},className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"taxName",children:"Tax Name *"}),(0,ne.jsx)(vt,{id:"taxName",value:H.taxName,onChange:e=>K(c(c({},H),{},{taxName:e.target.value})),placeholder:"e.g., VAT, Sales Tax",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"taxCode",children:"Tax Code *"}),(0,ne.jsx)(vt,{id:"taxCode",value:H.taxCode,onChange:e=>K(c(c({},H),{},{taxCode:e.target.value})),placeholder:"e.g., VAT001, ST001",required:!0})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"taxType",children:"Tax Type *"}),(0,ne.jsxs)(wh,{value:H.taxType.toString(),onValueChange:e=>K(c(c({},H),{},{taxType:parseInt(e)})),disabled:O,children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{placeholder:O?"Loading...":"Select tax type"})}),(0,ne.jsx)(kh,{children:O?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-2",children:[(0,ne.jsx)(uc,{className:"h-4 w-4 animate-spin mr-2"}),"Loading tax types..."]}):P?(0,ne.jsx)("div",{className:"text-red-500 p-2",children:"Error loading tax types"}):null===C||void 0===C?void 0:C.map(e=>(0,ne.jsx)(Ch,{value:e.value.toString(),children:e.displayName},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsxs)(Wt,{htmlFor:"taxRate",children:["Tax Rate *",1===H.taxType?" (%)":" (EGP)"]}),(0,ne.jsx)(vt,{id:"taxRate",type:"number",step:"0.01",value:H.taxRate,onChange:e=>K(c(c({},H),{},{taxRate:e.target.value})),placeholder:1===H.taxType?"14.0":"50.0",required:!0})]}),(0,ne.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ne.jsx)(ry,{id:"isMandatory",checked:H.isMandatory,onCheckedChange:e=>K(c(c({},H),{},{isMandatory:e}))}),(0,ne.jsx)(Wt,{htmlFor:"isMandatory",children:"Mandatory Tax"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"displayOrder",children:"Display Order"}),(0,ne.jsx)(vt,{id:"displayOrder",type:"number",min:"1",value:H.displayOrder,onChange:e=>K(c(c({},H),{},{displayOrder:parseInt(e.target.value)||1})),placeholder:"1"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"taxEffectiveFrom",children:"Effective From *"}),(0,ne.jsx)(vt,{id:"taxEffectiveFrom",type:"date",value:H.effectiveFrom,onChange:e=>K(c(c({},H),{},{effectiveFrom:e.target.value})),required:!0})]}),(0,ne.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,ne.jsx)(It,{type:"button",variant:"outline",onClick:()=>V(!1),disabled:G,children:"Cancel"}),(0,ne.jsx)(It,{type:"submit",variant:"golden",disabled:G,children:G?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):W?"Update Tax":"Add Tax"})]})]})]})})]}),(0,ne.jsx)(mt,{children:v&&v.length>0?(0,ne.jsx)("div",{className:"space-y-4",children:v.map(e=>{var t;return(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-medium",children:e.taxName}),(0,ne.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Code: ",e.taxCode," | Order: ",e.displayOrder]}),(0,ne.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Effective: ",new Date(e.effectiveFrom).toLocaleDateString(),e.isMandatory&&(0,ne.jsx)("span",{className:"ml-2 text-green-600",children:"\u2022 Mandatory"})]})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsxs)("div",{className:"text-right",children:[(0,ne.jsx)("p",{className:"font-medium",children:1===e.taxType?"".concat(e.taxRate,"%"):"".concat(pc(e.taxRate))}),(0,ne.jsx)("p",{className:"text-xs text-muted-foreground",children:(null===C||void 0===C||null===(t=C.find(t=>t.value===e.taxType))||void 0===t?void 0:t.displayName)||"Unknown Type"})]}),(0,ne.jsx)(It,{size:"sm",variant:"ghost",onClick:()=>Z(e),className:"hover:bg-[#F4E9B1]",children:(0,ne.jsx)(qp,{className:"h-4 w-4"})})]})]},e.id)})}):(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)("p",{className:"text-muted-foreground mb-4",children:"No tax configurations set up"}),(0,ne.jsxs)(It,{size:"sm",variant:"outline",onClick:()=>Z(),children:[(0,ne.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Add First Tax Configuration"]})]})})]})]})}const EL={gst:"14",makingChargesMin:"300",makingChargesMax:"2000",loyaltyPointsRate:"0.1"},AL={companyName:"DijaGold Jewelry",address:"123 Khan El-Khalili, Cairo, Egypt",phone:"+20 100 123 4567",email:"info@dijapos.com",currency:"EGP",timezone:"Africa/Cairo",language:"en",lowStockThreshold:"5",autoBackup:!0,receiptFooter:"Thank you for shopping with DijaGold!"},TL={passwordExpiry:"90",maxLoginAttempts:"3",sessionTimeout:"30",requireStrongPassword:!0,enableTwoFactor:!1,auditLogging:!0},DL={lowStockAlerts:!0,dailyReports:!0,salesTargets:!1,systemMaintenance:!0,emailNotifications:!0,smsNotifications:!1},_L=[{value:"EGP",label:"Egyptian Pound (EGP)"},{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"}],ML=[{value:"Africa/Cairo",label:"Cairo (UTC+2)"},{value:"Europe/London",label:"London (UTC+0)"},{value:"America/New_York",label:"New York (UTC-5)"}],IL=[{value:"en",label:"English"},{value:"ar",label:"Arabic"}],FL={lowOwnershipThreshold:"50",highOwnershipThreshold:"80",criticalOwnershipThreshold:"30",enableOwnershipValidation:!0,enableOwnershipAlerts:!0,enablePaymentTracking:!0,autoGenerateAlerts:!0,alertSeverityLevels:{low:"20",medium:"50",high:"80"},validationRules:{preventSaleBelowThreshold:!0,requirePaymentConfirmation:!0,enableTransferValidation:!0,enableInventoryValidation:!0},notificationSettings:{emailAlerts:!0,dashboardAlerts:!0,reportAlerts:!0,lowOwnershipAlerts:!0,outstandingPaymentAlerts:!0}};function RL(e){let{systemSettings:t,onSystemSettingChange:r}=e;return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(ic,{className:"h-5 w-5 text-[#D4AF37]"}),"Company Information"]}),(0,ne.jsx)(pt,{children:"Basic company details for receipts and reports"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"companyName",children:"Company Name"}),(0,ne.jsx)(vt,{id:"companyName",value:t.companyName,onChange:e=>r("companyName",e.target.value),placeholder:"DijaGold Jewelry"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"phone",children:"Phone Number"}),(0,ne.jsx)(vt,{id:"phone",value:t.phone,onChange:e=>r("phone",e.target.value),placeholder:"+20 100 123 4567"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"email",children:"Email Address"}),(0,ne.jsx)(vt,{id:"email",type:"email",value:t.email,onChange:e=>r("email",e.target.value),placeholder:"info@dijapos.com"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,ne.jsx)(vt,{id:"lowStockThreshold",type:"number",value:t.lowStockThreshold,onChange:e=>r("lowStockThreshold",e.target.value),placeholder:"5"})]}),(0,ne.jsxs)("div",{className:"col-span-1 md:col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"address",children:"Address"}),(0,ne.jsx)(Lf,{id:"address",value:t.address,onChange:e=>r("address",e.target.value),placeholder:"123 Khan El-Khalili, Cairo, Egypt",rows:2})]}),(0,ne.jsxs)("div",{className:"col-span-1 md:col-span-2 space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"receiptFooter",children:"Receipt Footer"}),(0,ne.jsx)(Lf,{id:"receiptFooter",value:t.receiptFooter,onChange:e=>r("receiptFooter",e.target.value),placeholder:"Thank you for shopping with DijaGold!",rows:2})]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"Regional Settings"}),(0,ne.jsx)(pt,{children:"Configure currency, timezone, and language preferences"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"currency",children:"Currency"}),(0,ne.jsxs)(wh,{value:t.currency,onValueChange:e=>r("currency",e),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:_L.map(e=>(0,ne.jsx)(Ch,{value:e.value,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.label},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"timezone",children:"Timezone"}),(0,ne.jsxs)(wh,{value:t.timezone,onValueChange:e=>r("timezone",e),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:ML.map(e=>(0,ne.jsx)(Ch,{value:e.value,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.label},e.value))})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"language",children:"Language"}),(0,ne.jsxs)(wh,{value:t.language,onValueChange:e=>r("language",e),children:[(0,ne.jsx)(Sh,{children:(0,ne.jsx)(Nh,{})}),(0,ne.jsx)(kh,{className:"bg-white border-gray-200 shadow-lg",children:IL.map(e=>(0,ne.jsx)(Ch,{value:e.value,className:"hover:bg-[#F4E9B1] focus:bg-[#F4E9B1] focus:text-[#0D1B2A]",children:e.label},e.value))})]})]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsx)(ft,{children:"System Preferences"}),(0,ne.jsx)(pt,{children:"Configure system behavior and features"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)("div",{className:"space-y-4",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"autoBackup",children:"Automatic Backup"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically backup data daily"})]}),(0,ne.jsx)(ry,{id:"autoBackup",checked:t.autoBackup,onCheckedChange:e=>r("autoBackup",e)})]})})})]})]})}function BL(e){let{securitySettings:t,onSecuritySettingChange:r}=e;return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Jt,{className:"h-5 w-5 text-[#D4AF37]"}),"Password Policy"]}),(0,ne.jsx)(pt,{children:"Configure password requirements and expiration"})]}),(0,ne.jsxs)(mt,{children:[(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"passwordExpiry",children:"Password Expiry (days)"}),(0,ne.jsx)(vt,{id:"passwordExpiry",type:"number",value:t.passwordExpiry,onChange:e=>r("passwordExpiry",e.target.value),placeholder:"90"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),(0,ne.jsx)(vt,{id:"maxLoginAttempts",type:"number",value:t.maxLoginAttempts,onChange:e=>r("maxLoginAttempts",e.target.value),placeholder:"3"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),(0,ne.jsx)(vt,{id:"sessionTimeout",type:"number",value:t.sessionTimeout,onChange:e=>r("sessionTimeout",e.target.value),placeholder:"30"})]})]}),(0,ne.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"requireStrongPassword",children:"Require Strong Passwords"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enforce minimum 8 characters with mixed case, numbers, and symbols"})]}),(0,ne.jsx)(ry,{id:"requireStrongPassword",checked:t.requireStrongPassword,onCheckedChange:e=>r("requireStrongPassword",e)})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"enableTwoFactor",children:"Two-Factor Authentication"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Require SMS or email verification for login"})]}),(0,ne.jsx)(ry,{id:"enableTwoFactor",checked:t.enableTwoFactor,onCheckedChange:e=>r("enableTwoFactor",e)})]}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Wt,{htmlFor:"auditLogging",children:"Audit Logging"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log all user actions for security monitoring"})]}),(0,ne.jsx)(ry,{id:"auditLogging",checked:t.auditLogging,onCheckedChange:e=>r("auditLogging",e)})]})]})]})]}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Security Reminder"}),(0,ne.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Changes to security settings will take effect after the next user login. Ensure all users are notified of any policy changes."})]})]})})})]})}function LL(e){let{notificationSettings:t,onNotificationSettingChange:r}=e;return(0,ne.jsx)("div",{className:"space-y-6",children:(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(sc,{className:"h-5 w-5 text-[#D4AF37]"}),"Notification Preferences"]}),(0,ne.jsx)(pt,{children:"Configure when and how you receive notifications"})]}),(0,ne.jsx)(mt,{children:(0,ne.jsx)("div",{className:"space-y-6",children:[{key:"lowStockAlerts",label:"Low Stock Alerts",description:"Get notified when inventory is running low"},{key:"dailyReports",label:"Daily Reports",description:"Receive daily sales and performance summaries"},{key:"salesTargets",label:"Sales Target Notifications",description:"Alerts for sales target achievements and milestones"},{key:"systemMaintenance",label:"System Maintenance",description:"Notifications about system updates and maintenance"},{key:"emailNotifications",label:"Email Notifications",description:"Send notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Send critical alerts via SMS"}].map(e=>(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:e.key,children:e.label}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,ne.jsx)(ry,{id:e.key,checked:t[e.key],onCheckedChange:t=>r(e.key,t)})]},e.key))})})]})})}function zL(e){let{settings:t,onSettingsChange:r,isManager:n}=e;const a=(e,n)=>{r(c(c({},t),{},{[e]:n}))},i=(e,n,a)=>{const i=t[e];r(c(c({},t),{},{[e]:c(c({},"object"===typeof i&&null!==i?i:{}),{},{[n]:a})}))},o=e=>{const t=parseFloat(e);return t>=80?"bg-green-100 text-green-800":t>=50?"bg-yellow-100 text-yellow-800":t>=30?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"},s=e=>{const t=parseFloat(e);return t>=80?"Excellent":t>=50?"Good":t>=30?"Fair":"Poor"};return n?(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(ic,{className:"h-5 w-5"}),"Ownership Thresholds"]}),(0,ne.jsx)(pt,{children:"Configure ownership percentage thresholds for different alert levels"})]}),(0,ne.jsx)(mt,{className:"space-y-6",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"lowOwnershipThreshold",children:"Low Ownership Threshold (%)"}),(0,ne.jsx)(vt,{id:"lowOwnershipThreshold",type:"number",min:"0",max:"100",value:t.lowOwnershipThreshold,onChange:e=>a("lowOwnershipThreshold",e.target.value),placeholder:"50"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(or,{className:o(t.lowOwnershipThreshold),children:s(t.lowOwnershipThreshold)}),(0,ne.jsx)(aL,{className:"h-4 w-4 text-muted-foreground"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"highOwnershipThreshold",children:"High Ownership Threshold (%)"}),(0,ne.jsx)(vt,{id:"highOwnershipThreshold",type:"number",min:"0",max:"100",value:t.highOwnershipThreshold,onChange:e=>a("highOwnershipThreshold",e.target.value),placeholder:"80"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(or,{className:o(t.highOwnershipThreshold),children:s(t.highOwnershipThreshold)}),(0,ne.jsx)(aL,{className:"h-4 w-4 text-muted-foreground"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"criticalOwnershipThreshold",children:"Critical Threshold (%)"}),(0,ne.jsx)(vt,{id:"criticalOwnershipThreshold",type:"number",min:"0",max:"100",value:t.criticalOwnershipThreshold,onChange:e=>a("criticalOwnershipThreshold",e.target.value),placeholder:"30"}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(or,{className:o(t.criticalOwnershipThreshold),children:s(t.criticalOwnershipThreshold)}),(0,ne.jsx)(aL,{className:"h-4 w-4 text-muted-foreground"})]})]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Jt,{className:"h-5 w-5"}),"Core Features"]}),(0,ne.jsx)(pt,{children:"Enable or disable core ownership management features"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"enableOwnershipValidation",children:"Ownership Validation"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Validate ownership before allowing sales and inventory operations"})]}),(0,ne.jsx)(ry,{id:"enableOwnershipValidation",checked:t.enableOwnershipValidation,onCheckedChange:e=>a("enableOwnershipValidation",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"enableOwnershipAlerts",children:"Ownership Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generate alerts for ownership issues and violations"})]}),(0,ne.jsx)(ry,{id:"enableOwnershipAlerts",checked:t.enableOwnershipAlerts,onCheckedChange:e=>a("enableOwnershipAlerts",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"enablePaymentTracking",children:"Payment Tracking"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Track outstanding payments and payment confirmations"})]}),(0,ne.jsx)(ry,{id:"enablePaymentTracking",checked:t.enablePaymentTracking,onCheckedChange:e=>a("enablePaymentTracking",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"autoGenerateAlerts",children:"Auto-Generate Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically generate alerts based on ownership thresholds"})]}),(0,ne.jsx)(ry,{id:"autoGenerateAlerts",checked:t.autoGenerateAlerts,onCheckedChange:e=>a("autoGenerateAlerts",e)})]})]})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(Rp,{className:"h-5 w-5"}),"Validation Rules"]}),(0,ne.jsx)(pt,{children:"Configure specific validation rules for ownership management"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"preventSaleBelowThreshold",children:"Prevent Sales Below Threshold"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Block sales when ownership percentage is below the low threshold"})]}),(0,ne.jsx)(ry,{id:"preventSaleBelowThreshold",checked:t.validationRules.preventSaleBelowThreshold,onCheckedChange:e=>i("validationRules","preventSaleBelowThreshold",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"requirePaymentConfirmation",children:"Require Payment Confirmation"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Require payment confirmation before updating ownership records"})]}),(0,ne.jsx)(ry,{id:"requirePaymentConfirmation",checked:t.validationRules.requirePaymentConfirmation,onCheckedChange:e=>i("validationRules","requirePaymentConfirmation",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"enableTransferValidation",children:"Transfer Validation"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Validate ownership during inventory transfers between branches"})]}),(0,ne.jsx)(ry,{id:"enableTransferValidation",checked:t.validationRules.enableTransferValidation,onCheckedChange:e=>i("validationRules","enableTransferValidation",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"enableInventoryValidation",children:"Inventory Validation"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Validate ownership during inventory adjustments and movements"})]}),(0,ne.jsx)(ry,{id:"enableInventoryValidation",checked:t.validationRules.enableInventoryValidation,onCheckedChange:e=>i("validationRules","enableInventoryValidation",e)})]})]})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(hc,{className:"h-5 w-5"}),"Alert Severity Levels"]}),(0,ne.jsx)(pt,{children:"Configure ownership percentage thresholds for different alert severity levels"})]}),(0,ne.jsx)(mt,{className:"space-y-4",children:(0,ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"lowSeverity",children:"Low Severity (%)"}),(0,ne.jsx)(vt,{id:"lowSeverity",type:"number",min:"0",max:"100",value:t.alertSeverityLevels.low,onChange:e=>i("alertSeverityLevels","low",e.target.value),placeholder:"20"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"mediumSeverity",children:"Medium Severity (%)"}),(0,ne.jsx)(vt,{id:"mediumSeverity",type:"number",min:"0",max:"100",value:t.alertSeverityLevels.medium,onChange:e=>i("alertSeverityLevels","medium",e.target.value),placeholder:"50"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(Wt,{htmlFor:"highSeverity",children:"High Severity (%)"}),(0,ne.jsx)(vt,{id:"highSeverity",type:"number",min:"0",max:"100",value:t.alertSeverityLevels.high,onChange:e=>i("alertSeverityLevels","high",e.target.value),placeholder:"80"})]})]})})]}),(0,ne.jsxs)(dt,{className:"pos-card",children:[(0,ne.jsxs)(ht,{children:[(0,ne.jsxs)(ft,{className:"flex items-center gap-2",children:[(0,ne.jsx)(sc,{className:"h-5 w-5"}),"Notification Settings"]}),(0,ne.jsx)(pt,{children:"Configure how and where ownership alerts are displayed"})]}),(0,ne.jsxs)(mt,{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"emailAlerts",children:"Email Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Send ownership alerts via email"})]}),(0,ne.jsx)(ry,{id:"emailAlerts",checked:t.notificationSettings.emailAlerts,onCheckedChange:e=>i("notificationSettings","emailAlerts",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"dashboardAlerts",children:"Dashboard Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show ownership alerts on the main dashboard"})]}),(0,ne.jsx)(ry,{id:"dashboardAlerts",checked:t.notificationSettings.dashboardAlerts,onCheckedChange:e=>i("notificationSettings","dashboardAlerts",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"reportAlerts",children:"Report Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Include ownership alerts in reports"})]}),(0,ne.jsx)(ry,{id:"reportAlerts",checked:t.notificationSettings.reportAlerts,onCheckedChange:e=>i("notificationSettings","reportAlerts",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"lowOwnershipAlerts",children:"Low Ownership Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generate alerts for products with low ownership"})]}),(0,ne.jsx)(ry,{id:"lowOwnershipAlerts",checked:t.notificationSettings.lowOwnershipAlerts,onCheckedChange:e=>i("notificationSettings","lowOwnershipAlerts",e)})]}),(0,ne.jsx)(fr,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"space-y-1",children:[(0,ne.jsx)(Wt,{htmlFor:"outstandingPaymentAlerts",children:"Outstanding Payment Alerts"}),(0,ne.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generate alerts for products with outstanding payments"})]}),(0,ne.jsx)(ry,{id:"outstandingPaymentAlerts",checked:t.notificationSettings.outstandingPaymentAlerts,onCheckedChange:e=>i("notificationSettings","outstandingPaymentAlerts",e)})]})]})]}),(0,ne.jsx)(dt,{className:"pos-card border-blue-200 bg-blue-50",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ne.jsx)(aL,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)("h3",{className:"font-medium text-blue-900",children:"Ownership Management"}),(0,ne.jsx)("p",{className:"text-sm text-blue-700",children:"These settings control how the system manages product ownership, validates operations, and generates alerts. Changes will affect sales, inventory, and reporting functionality."}),(0,ne.jsxs)("div",{className:"text-xs text-blue-600",children:[(0,ne.jsx)("p",{children:"\u2022 Low ownership threshold: Products below this percentage will trigger alerts"}),(0,ne.jsx)("p",{children:"\u2022 High ownership threshold: Products above this percentage are considered well-owned"}),(0,ne.jsx)("p",{children:"\u2022 Critical threshold: Products below this percentage may be blocked from sales"})]})]})]})})})]}):(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Jt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,ne.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Access Restricted"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Only managers can configure ownership settings."})]})})})}function UL(){const{isManager:e}=se(),[r,n]=(0,t.useState)("pricing"),[a,i]=(0,t.useState)(!1),{data:o,updateRates:s,fetchRates:l}=jc(),[u,d]=(0,t.useState)({"24k":"0","22k":"0","21k":"0","18k":"0"}),[h,f]=(0,t.useState)(EL),[p,m]=(0,t.useState)(AL),[g,v]=(0,t.useState)(TL),[y,x]=(0,t.useState)(DL),[b,j]=(0,t.useState)(FL),[w,N]=(0,t.useState)({"24k":"0","22k":"0","21k":"0","18k":"0"}),[S,k]=(0,t.useState)(EL),[C,O]=(0,t.useState)(AL),[P,E]=(0,t.useState)(TL),[A,T]=(0,t.useState)(DL),[D,_]=(0,t.useState)(FL),[M,I]=(0,t.useState)(0),[F,R]=(0,t.useState)(!1),B=(0,t.useCallback)(()=>{const e=JSON.stringify(w)!==JSON.stringify(u),t=JSON.stringify(S)!==JSON.stringify(h),r=JSON.stringify(C)!==JSON.stringify(p),n=JSON.stringify(P)!==JSON.stringify(g),a=JSON.stringify(A)!==JSON.stringify(y),o=JSON.stringify(D)!==JSON.stringify(b);i(e||t||r||n||a||o)},[w,u,S,h,C,p,P,g,A,y,D,b]);(0,t.useEffect)(()=>{e&&l()},[e]),(0,t.useEffect)(()=>{if(o&&o.length>0){const e=(e=>{const t={"24k":"0","22k":"0","21k":"0","18k":"0"};return null===e||void 0===e||e.forEach(e=>{const r="".concat(e.karatType,"k");t.hasOwnProperty(r)&&(t[r]=e.ratePerGram.toString())}),t})(o);N(e),d(e)}},[o]),(0,t.useEffect)(()=>{B()},[B]);const L=(0,t.useCallback)((e,t)=>{N(r=>c(c({},r),{},{[e]:t}))},[]),z=(0,t.useCallback)((e,t)=>{k(c(c({},S),{},{[e]:t}))},[S]),U=(0,t.useCallback)((e,t)=>{O(c(c({},C),{},{[e]:t}))},[C]),V=(0,t.useCallback)((e,t)=>{E(c(c({},P),{},{[e]:t}))},[P]),W=(0,t.useCallback)((e,t)=>{T(c(c({},A),{},{[e]:t}))},[A]),q=(0,t.useCallback)(e=>{_(e)},[]);if(!e)return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"System Settings"}),(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"text-center py-8",children:[(0,ne.jsx)(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Access denied. Only managers can access system settings."})]})})})]});return(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"text-3xl text-[#0D1B2A]",children:"System Settings"}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Configure system preferences and business rules"})]}),(0,ne.jsx)("div",{className:"flex gap-3",children:(0,ne.jsxs)(It,{onClick:async()=>{try{R(!0);const e=Object.entries(w).map(e=>{let[t,r]=e;return{karatType:parseInt(t.replace("k","")),ratePerGram:parseFloat(r),effectiveFrom:(new Date).toISOString()}});await s(e),console.log("Settings saved successfully:",{goldRates:w,taxSettings:S,systemSettings:C,securitySettings:P,notificationSettings:A,ownershipSettings:D}),d(c({},w)),f(c({},S)),m(c({},C)),v(c({},P)),x(c({},A)),j(c({},D)),i(!1),I(e=>e+1),alert("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),alert("Failed to save settings. Please try again.")}finally{R(!1)}},disabled:!a||F,className:"touch-target",variant:"golden",children:[(0,ne.jsx)(OL,{className:"mr-2 h-4 w-4"}),F?"Saving...":"Save Changes"]})})]}),a&&(0,ne.jsx)(dt,{className:"pos-card",children:(0,ne.jsx)(mt,{className:"pt-6",children:(0,ne.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,ne.jsx)(hc,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Unsaved Changes"}),(0,ne.jsx)("p",{className:"text-sm text-yellow-700",children:"You have unsaved changes. Don't forget to save your settings before leaving this page."})]})]})})}),(0,ne.jsxs)(_p,{value:r,onValueChange:n,children:[(0,ne.jsxs)(Mp,{className:"grid w-full grid-cols-5",children:[(0,ne.jsx)(Ip,{value:"pricing",children:"Pricing"}),(0,ne.jsx)(Ip,{value:"system",children:"System"}),(0,ne.jsx)(Ip,{value:"security",children:"Security"}),(0,ne.jsx)(Ip,{value:"notifications",children:"Notifications"}),(0,ne.jsx)(Ip,{value:"ownership",children:"Ownership"})]}),(0,ne.jsx)(Fp,{value:"pricing",children:(0,ne.jsx)(PL,{goldRates:w,taxSettings:S,onGoldRateChange:L,onTaxSettingChange:z,onResetManuallyEdited:()=>M})}),(0,ne.jsx)(Fp,{value:"system",children:(0,ne.jsx)(RL,{systemSettings:C,onSystemSettingChange:U})}),(0,ne.jsx)(Fp,{value:"security",children:(0,ne.jsx)(BL,{securitySettings:P,onSecuritySettingChange:V})}),(0,ne.jsx)(Fp,{value:"notifications",children:(0,ne.jsx)(LL,{notificationSettings:A,onNotificationSettingChange:W})}),(0,ne.jsx)(Fp,{value:"ownership",children:(0,ne.jsx)(zL,{settings:D,onSettingsChange:q,isManager:e})})]})]})}const VL=e=>{let t=Object.assign({},(mr(e),e));return(0,ne.jsx)(Mf,c({theme:"system",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},t))};function WL(){const{isAuthenticated:e,isLoading:r,user:n}=se(),[a,i]=(0,t.useState)("dashboard");if(console.log("AppContent render - isAuthenticated:",e,"isLoading:",r,"user:",n),r)return console.log("Rendering loading screen"),(0,ne.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)("div",{className:"animate-pulse flex justify-center mb-4",children:(0,ne.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-[#D4AF37] to-[#B8941F] rounded-full"})}),(0,ne.jsx)("p",{className:"text-muted-foreground",children:"Loading DijaGold POS..."})]})});if(!e)return console.log("Rendering login screen"),(0,ne.jsx)(nr,{});console.log("Rendering main app");return(0,ne.jsx)(cc,{currentPage:a,onPageChange:i,children:(()=>{switch(a){case"dashboard":default:return(0,ne.jsx)(bu,{onNavigate:i});case"sales":return(0,ne.jsx)(Ff,{});case"orders":return(0,ne.jsx)(Rf,{});case"repairs":return(0,ne.jsx)(Lp,{});case"technicians":return(0,ne.jsx)(Kp,{});case"products":return(0,ne.jsx)(Cv,{});case"inventory":return(0,ne.jsx)(Dv,{});case"product-ownership":return(0,ne.jsx)(Mv,{});case"customers":return(0,ne.jsx)(Lv,{});case"suppliers":return(0,ne.jsx)(ay,{});case"purchase-orders":return(0,ne.jsx)(oy,{});case"reports":return(0,ne.jsx)(hL,{});case"cash-drawer":return(0,ne.jsx)(jL,{});case"users":return(0,ne.jsx)(CL,{});case"settings":return(0,ne.jsx)(UL,{})}})()})}function qL(){return(0,ne.jsx)(oe,{children:(0,ne.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,ne.jsx)(WL,{}),(0,ne.jsx)(VL,{})]})})}a.createRoot(document.getElementById("root")).render((0,ne.jsx)(t.StrictMode,{children:(0,ne.jsx)(qL,{})}))})()})();
//# sourceMappingURL=main.3bec520f.js.map